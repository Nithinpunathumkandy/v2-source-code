<!-- <button type="button" class="close" data-dismiss="modal" (click) = "save(true)"><i class="lni-close"></i><span>esc</span></button>
         <div class="modal-dialog modal-xl modal-dialog-centered">
            <div class="modal-content">
          
               <div class="modal-header">
                  <h4 class="modal-title">Select Control</h4>
                
               </div>
       
               <div class="modal-body form-body add-profie-org-pup">
                  <p class="head-details">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. <a href="#">learn more</a> Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea comt in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident.</p>
                  <div class="row process-light-box">
                    <div class="col-sm-4 col-lg-4">
                      <div class="form-group">
                          <label for="name">Search</label>
                          <form class="form-control issue-select-process-search bg-white">
                            <input type="text" placeholder="Search.." name="search" class="search-process" (keyup) = "searchControls($event)">
                            <button type="submit"><i class="fa fa-search"></i></button>
                          </form>
                      </div>
                    </div>
                    <div class="col-sm-4 col-lg-4">
                      <div class="form-group">
                          <label for="name">Control Types</label>
                            <div class="plain-select select-new-width bg-white">
                              <ng-select
                                 placeholder="Select Types"
                                 [multiple]="false"
                                 [(ngModel)] = "control_type_id"
                                 (search) = "searchControlTypes($event)"
                                 (clear) = "getTypes()"
                                 (open) = "getTypes()"
                                 (change) = "sortControls()">
                                 <ng-option [value]="controlTypes.id" *ngFor="let controlTypes of ControlTypesMasterStore.controlTypes">
                                    {{controlTypes.title}}
                                 </ng-option>
                              </ng-select>
                            </div>
                       </div>
                    </div>
                    <div class="col-sm-4 col-lg-4">
                     <div class="form-group">
                         <label for="name">Control Category</label>
                           <div class="plain-select select-new-width bg-white">
                             <ng-select
                                 placeholder="Select Control Category"
                                 [multiple]="false"
                                 [(ngModel)] = "control_categories_id"
                                 (search) = "searchControlCategories($event)"
                                 (clear) = "getControlCategories()"
                                 (open) = "getControlCategories()"
                                 (change) = "sortControls()">
                                 <ng-option [value]="controlCategory.id" *ngFor="let controlCategory of ControlCategoryMasterStore.controlCategories">
                                    {{controlCategory.title}}
                                 </ng-option>
                              </ng-select>
                           </div>
                      </div>
                   </div>
                  </div>

                  <div class="row drop-white-new" *mobxAutorun>
                    <div class="col-md-12">
                        <div class="panel-group panel-drop-sections" id="jd" role="tablist" aria-multiselectable="true">
                           <div class="panel panel-default bg-white" *ngFor = "let p of  ControlStore.controlList | paginate: {id: 'controlList', currentPage:ControlStore?.currentPage, itemsPerPage:ControlStore?.itemsPerPage,totalItems:ControlStore?.totalItems};let num = index" class="cursor-pointer tr-action">
                              <div class="panel-heading active" role="tab" id="headingOne">
                                 <div class="panel-title panel-title-check">
                                    <a role="button" data-toggle="collapse" href="#ceo11" aria-expanded="false" aria-controls="collapseOne" class="collapsed">
                                       <h5 class="width96pc mt-0 pl-5">
                                             {{p.title}}
                                       </h5>
                                    </a>
                                    <div class="custom-control white-cbox custom-checkbox drop-check-new">
                                       <input type="checkbox" class="custom-control-input" [id]="p.id" [name]="p.name" [checked] = "checkControlsPresent(p)" (change) = "selectControls(p)">
                                       <label class="custom-control-label align-label-check" [for]="p.id" ></label>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                     </div>
                     <div class="col-sm-12" *ngIf = "ControlStore?.totalItems > ControlStore?.itemsPerPage">
                        <ul class="pagination justify-content-center mt-3">
                           <div class="list">
                              <pagination-controls id="controlList" (pageChange)="pageChange($event)" class="my-pagination"></pagination-controls>
                           </div>
                        </ul>
                     </div>
                  </div>

                  
                  <div class="d-block justify-content-left border-0 mt-3">
                     <button type="button" data-toggle="modal" (click) = "save()" data-target="#signal-lost" class="btn btn-active">Add</button>
                     <button type="button" data-toggle="modal" data-target="#signal-lost" (click) = "save(true)" class="btn">Add &amp; Close</button>
                     <button type="button" data-toggle="modal" data-target="#error-message" (click) = "cancel()" class="btn ordinary-btn mr-2">Cancel</button>
                  </div>

               </div>
            </div>
         </div> -->

         <!--- New Design Start -->
<button type="button" class="close" data-dismiss="modal" (click) = "cancel()"><i class="lni-close"></i><span>{{'esc' | translate}}</span></button>
<div class="modal-dialog modal-xl modal-dialog-centered">
   <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
            <h4 class="modal-title">{{'control_modal_title' | translate}} {{controlsModalTitle?.component | translate}}</h4>
            <!-- <button type="button" class="close" data-dismiss="modal">&times;</button> -->
        </div>
        <!-- Modal body -->
        <div class="modal-body form-body add-profie-org-pup">
            <p class="head-details">{{'control_modal_message' | translate}} {{controlsModalTitle?.component | translate}}.
               <!-- Identify the issues with business process controls and easily add the control measures for controlling a process within the organization. -->
            </p>

                <div class="row">
               
                </div>
            <div class="row">
               <div class="col-sm-12 col-lg-4">
                  <div class="form-group">
                     <label for="name">{{'search' | translate}}</label>
                       <form class="form-control issue-select-process-search bg-white search-popup-new">
                         <input type="text" placeholder="{{'search_here' | translate}}.." [(ngModel)] = "searchText" name="search" class="search-process" (keyup) = "searchControls($event)">
                         <a class="search-clear-btn" (click) = "clear()" *ngIf = "searchText">X</a>
                         <button type="submit" style="width: 40px;"><i class="fa fa-search"></i></button>
                       </form>
                   </div>
               </div>
                <!-- <div class="col-sm-4 col-lg-4">
                  <div class="form-group">
                     <label for="name">Search</label>
                     <form class="form-control issue-select-process-search bg-white">
                       <input type="text" placeholder="Search.." name="search" class="search-process" (keyup) = "searchControls($event)">
                       <button type="submit"><i class="fa fa-search"></i></button>
                     </form>
                 </div>
                </div> -->
                <div class="col-sm-12 col-lg-4">
                  <div class="form-group">
                     <label for="name">{{'control_type' | translate}}</label>
                       <div class="multiple-plain-ngselect bg-white">
                         <ng-select
                            placeholder="{{'select_control_type' | translate}}"
                            [multiple]="false"
                            [(ngModel)] = "control_type_id"
                            (search) = "searchControlTypes($event)"
                            (clear) = "getTypes()"
                            (open) = "getTypes()"
                            (change) = "sortControls()">
                            <ng-option [value]="controlTypes.id" *ngFor="let controlTypes of ControlTypesMasterStore.controlTypes">
                               {{controlTypes.title}}
                            </ng-option>
                         </ng-select>
                       </div>
                  </div>
                </div>
                <div class="col-sm-12 col-lg-4">
                  <div class="form-group">
                     <label for="name">{{'control_category' | translate }}</label>
                       <div class="multiple-plain-ngselect bg-white">
                         <ng-select
                             placeholder="{{'select_control_category' | translate}}"
                             [multiple]="false"
                             [(ngModel)] = "control_categories_id"
                             (search) = "searchControlCategories($event)"
                             (clear) = "getControlCategories()"
                             (open) = "getControlCategories()"
                             (change) = "sortControls()">
                             <ng-option [value]="controlCategory.id" *ngFor="let controlCategory of ControlCategoryMasterStore.controlCategories">
                                {{controlCategory.title}}
                             </ng-option>
                          </ng-select>
                       </div>
                  </div>
              </div>
            </div>

   
            <div class="w-100">
                <div class="fix-table">
                    <table *ngIf = "ControlStore.control_loaded && ControlStore.controlList.length > 0" class="table table-bordered ordinary-table cmn-table-style mb-2">
                        <tbody>
                            <tr>
                                <th class="border-top-0" width="7%">
                                    <label class="container2 float-left" style="margin-top: 2px; padding-left: 22px;">
                            <input type="checkbox" [(ngModel)] = "checkSelectAll" (change) = "selectAll($event)">
                            <span class="checkmark"></span>
                         </label> #
                                </th> 
                                <th class="border-top-0" width="9%">{{'ref_id' | translate}}</th>
                                <th class="border-top-0" width="54%">{{'control_title' | translate}}</th>
                                <th class="border-top-0" width="20%">{{'control_category' | translate}}</th>
                                <th class="border-top-0" width="12%">{{'control_type' | translate}}</th>
                            </tr>
                            <tr *ngFor = "let c of ControlStore.controlList | paginate: {id: 'controlList', currentPage:ControlStore?.currentPage, itemsPerPage:ControlStore?.itemsPerPage,totalItems:ControlStore?.totalItems};let num = index">
                                <td>
                                    <label class="container2 float-left" style="margin-top: 2px; padding-left: 22px;">
                            <input type="checkbox" [id]="c.id" [name]="c.title" [checked] = "checkControlsPresent(c)" (change) = "selectControls(c)">
                            <span class="checkmark"></span>
                         </label> {{(ControlStore?.currentPage - 1) * ControlStore?.itemsPerPage + (num + 1)}}
                                </td>
                                <td>#{{c.reference_code}}</td>
                                <td>{{c.title}}</td>
                                <td>{{c.control_category_title ? c.control_category_title : AppStore.noContentText}}</td>
                                <td>{{c.control_type_title ? c.control_type_title : AppStore.noContentText}}</td>
                            </tr>
                        </tbody>
                    </table>
                    <ng-container *ngIf = "ControlStore.control_loaded && ControlStore.controlList.length == 0">
                       <app-no-data-list [source] = "noDataMessage"></app-no-data-list>
                    </ng-container>
                </div>

                <div class="col-sm-12" *ngIf = "ControlStore?.totalItems > ControlStore?.itemsPerPage">
                  <ul class="pagination justify-content-center mt-3">
                     <div class="list">
                        <pagination-controls id="controlList" (pageChange)="removeProcess?removeControlForRisk($event):pageChange($event)" class="my-pagination"></pagination-controls>
                     </div>
                  </ul>
               </div>

            </div>




            <div class="d-block justify-content-left border-0 mt-3">
               <button type="button" data-toggle="modal" (click) = "save()" [disabled]="this.selectedControls.length==0" data-target="#signal-lost" class="btn btn-active">{{'add' | translate}}</button>
               <button type="button" data-toggle="modal" data-target="#signal-lost" [disabled]="this.selectedControls.length==0" (click) = "save(true)" class="btn">{{'add_close' | translate}}</button>
               <button type="button" data-toggle="modal" data-target="#error-message" (click) = "cancel()" class="btn">{{'cancel' | translate}}</button>
            </div>

        </div>
        <!-- Modal footer -->
    </div>
</div>
<!--- New Design End  --->