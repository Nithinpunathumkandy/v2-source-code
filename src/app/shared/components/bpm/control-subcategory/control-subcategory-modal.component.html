<button type="button" class="close" (click)="cancelControlSubcateModal()"><i
    class="lni-close"></i><span>{{'esc' | translate}}</span></button>
 <div class="modal-dialog modal-lg modal-dialog-centered">
       <div class="modal-content">
          <!-- Modal Header -->
          <div class="modal-header">
             <h4 class="modal-title">{{'control_sub_category' | translate}}</h4>

          </div>
          <!-- Modal body -->
          <div class="modal-body form-body">
             <p class="head-details"></p>
             <form [formGroup]="controlSubCategform" *mobxAutorun>
               <div class="row">
                  <div class="col-sm-12">
                     <div class="form-group">
                        <label for="title">{{'reference_code' | translate}}</label>
                        <input type="text" formControlName="reference_code" class="form-control" 
                        [attr.placeholder]="'control_sub_category_form_reference_code_placeholder' | translate" 
                           id="mvtitle">                    
                        <p class="form-error" *ngIf="controlSubCategformErrors"> {{controlSubCategformErrors.reference_code}}</p>
                     </div>
                  </div>
               </div>
                <div class="row">
                   <div class="col-sm-12">
                      <div class="form-group">
                         <label for="msv_type_id">{{'control_sub_category_form_control_category' | translate}}<sup>*</sup></label>
                         <div class="clearfix">
                            <div class="multiple-plain-ngselect">
                               <ng-select
                               [readonly]="isReadOnly"
                               [attr.placeholder]="'control_sub_category_form_control_category_placeholder' | translate" 
                                  [multiple]="false"
                                  formControlName="control_category_id"
                                  (search) = "searchControlCategory($event)"
                                  (clear) = "getControlCategories()"
                                  (open) = "getControlCategories()">
                                  <ng-option [value]="controlCategory.id" *ngFor="let controlCategory of ControlCategoryMasterStore.controlCategories">
                                     {{controlCategory.title.length > 80 ? controlCategory.title.substring(0,80)+' ...' : controlCategory.title }}
                                  </ng-option>
                               </ng-select>
                            </div>
                         </div>
                         <p class="form-error" *ngIf="controlSubCategformErrors"> {{controlSubCategformErrors.control_category_id}}</p>
                      </div>
                   </div>
                </div>
                
                <div class="row">
                   <div class="col-sm-12">
                      <div class="form-group">
                         <label for="title">{{'control_sub_category_form_title' | translate}}<sup>*</sup></label>
                         <input type="text" formControlName="title" class="form-control" 
                         [attr.placeholder]="'control_sub_category_form_title_placeholder' | translate" 
                            id="mvtitle">                    
                         <p class="form-error" *ngIf="controlSubCategformErrors"> {{controlSubCategformErrors.title}}</p>
                      </div>
                   </div>
                </div>
                <div class="clearfix"></div>
                <div class="row">
                   <div class="col-sm-12">
                      <div class="d-block justify-content-left border-0 mt-3">
                         <button type="submit" class="btn btn-active" (click)="saveControlSubcategory()"
                            [disabled]="controlSubCategform.invalid || AppStore.loading">{{ AppStore.loading  ? getButtonText('loading') : getButtonText('save') }}</button>
                         <button type="button" data-toggle="modal" data-target="#signal-lost"
                            class="btn" (click)="saveControlSubcategory(true)"
                            [disabled]="controlSubCategform.invalid || AppStore.loading">{{  AppStore.loading  ? getButtonText('loading') : getButtonText('save_close')}}</button>
                         <button type="button" data-toggle="modal" data-target="#error-message"
                            class="btn"
                            (click)="cancelControlSubcateModal()">{{  AppStore.loading  ? getButtonText('loading') : getButtonText('cancel') }}</button>
                      </div>
                   </div>
                </div>
             </form>
          </div>
          <!-- Modal footer -->
       </div>
    </div>