<!-- <ng-container *ngIf="AuditStore.audit_report_id==null">
    <nav class="edit-bar"  data-toggle="affix" scrollPoint #navigationBar *mobxAutorun>
        <app-breadcrumb-menu ></app-breadcrumb-menu>
    
        <app-sub-menu></app-sub-menu>
    </nav>
    </ng-container> -->
    <app-report-book-loader *ngIf="!IncidentReportStore.individualLoaded"></app-report-book-loader>
    <main class="m-0 pt-2">
      
        <ng-container *ngIf="IncidentReportStore.individualLoaded && IncidentReportStore.fullView == false">
            <div id="container" class="container container-width p-0" #container>
    
                <div class="menu-panel">
    
                    <ul id="menu-toc" class="menu-toc nav-tabs--left">
                        <li class="menu-toc-current"><a class="nav-link" href="#item1">Cover</a></li>
                        <!-- <li *ngIf="IncidentReportStore.reportDetails?.index"><a class="nav-link" href="#item2">Content</a>
                        </li> -->
                        <li class="menu-toc-current"><a class="nav-link" href="#item2">Index</a></li>

                        
                        <li *ngIf="IncidentReportStore.reportDetails?.introduction"><a class="nav-link"
                                href="#item3">Introduction</a></li>
                        <li *ngIf="IncidentReportStore.reportDetails?.incident_mapping"><a class="nav-link" href="#item4">Incident Mapping</a></li>
                        <!-- <li ><a class="nav-link" href="#item5">Auditable Item</a></li> -->
                        <li *ngIf="IncidentReportStore.reportDetails?.investigator"><a class="nav-link" href="#item6">Investigator</a></li>
                        <li *ngIf="IncidentReportStore.reportDetails?.incident_investigation"><a class="nav-link" href="#item7">Investigation</a></li>
                        <li *ngIf="IncidentReportStore.reportDetails?.corrective_action" ><a class="nav-link" href="#item8">Root Cause Analysis</a></li>  
                        <li *ngIf="IncidentReportStore.reportDetails?.root_cause_analysis"><a class="nav-link"
                           href="#item9">Corrective Actions</a></li>                  
                        <li *ngIf="IncidentReportStore.reportDetails?.conclusion"><a class="nav-link"
                                href="#item10">Conclusion</a></li>
                    </ul>
    
                </div>
    
                <div class="bb-custom-wrapper" *mobxAutorun>
                    <div class="curl"></div>
                    <div id="bb-bookblock" class="bb-bookblock" #bbBookblock>
                        <div class="bb-item" id="item1">
    
    
                            <div class="content relative">
                                <div class="report-frame-front">
    
                                    <div class="report-front-page"
                                        [style.background]="IncidentReportStore.reportDetails?.incident_cover_page?.background?.data ? 'url(' + createImagePreview('cover-bg-incident',IncidentReportStore.reportDetails?.incident_cover_page?.background?.data?.token) + ') no-repeat 0 0' :  'url(assets/images/w-welcome-screen.jpg)'">
    
                                        <div class="header-report p-5">
    
                                            <div class="row">
    
                                                <div class="col-md-6">
                                                    <img src="assets/images/r-excelledia-logo.png" class="img-fluid" class="img-fluid " />
                                                         
    
                                                </div>
    
                                            </div>
    
                                        </div>
    
                                        <div class="front-report-tytle-section">
                                            <h3>{{IncidentReportStore.reportDetails?.incident_cover_page?.title?.data}}</h3>
                                            <p>{{IncidentReportStore.reportDetails?.incident_cover_page?.date?.data | date : OrganizationGeneralSettingsStore.organizationSettings?.date_time_format}}</p>
                                            <hr>
                                            <div class="d-flex flex-row user-list-sm">
                                                <img *ngIf="IncidentReportStore.reportDetails?.incident_cover_page?.created_by?.image?.token"
                                                    [attr.src]="createImagePreview('user-profile-picture',IncidentReportStore.reportDetails?.incident_cover_page?.created_by?.image?.token)"
                                                    width="40px" height="40px" class="rounded-circle"
                                                    onerror="this.src='/assets/images/user-demo2.png'">
                                                <img *ngIf="!IncidentReportStore.reportDetails?.incident_cover_page?.created_by?.image?.token"
                                                    [attr.src]="getDefaultImage('user-logo')" width="40px" height="40px"
                                                    class="rounded-circle"
                                                    onerror="this.src='/assets/images/user-demo2.png'">
                                                <div>
                                                    <h6>{{IncidentReportStore.reportDetails?.incident_cover_page?.created_by?.first_name}}&nbsp;
                                                        {{IncidentReportStore.reportDetails?.incident_cover_page?.created_by?.last_name}}
                                                    </h6>
                                                    <span>{{IncidentReportStore.reportDetails?.incident_cover_page?.created_by?.designation}}
                                                        | {{IncidentReportStore.reportDetails?.incident_cover_page?.date?.data | date : OrganizationGeneralSettingsStore.organizationSettings?.date_time_format}}</span>
                                                </div>
                                            </div>
                 
                                         </div>
    
                                    </div>
    
    
                                </div>
                            </div>
                        </div>
    
    
                        <div class="bb-item" id="item2">
    
                            <div class="content">
                                <div class="scroller pt-0">
                                    <div class="report-frame">
                                        <div class="row">
                                            <div class="col-md-8 relative">
    
                                                <div class="sm-logo-lt"> <img src="assets/images/r-excelledia-logo.png"
                                                        width="120d" class="img-fluid" /> </div>
                                                <img src="assets/images/content-img.jpg" class="img-fluid" />
                                            </div>
                                            <div class="col-md-4">
                                                <div class="row mt-5 pt-5 pl-5 ml-3">
                                                    <div class="col-md-12">
                                                        <h3 class="mb-3 font-weight-bold">Index</h3>
                                                    </div>
                                                    <ng-container
                                                        *ngFor="let content of IncidentReportStore.reportDetails?.index_page?.index_details">
                                                        <div class="col-lg-8 col-sm-10">
                                                            <p>{{content.title}}</p>
    
                                                        </div>
    
                                                        <div class="col-lg-4 col-sm-2">
                                                            <p>{{content.page_number}}</p>
    
                                                        </div>
    
                                                    </ng-container>
    
    
    
                                                </div>
    
    
                                            </div>
    
    
                                        </div>
    
                                    </div>
                                </div>
                            </div>
    
                        </div>
    
    
                        <div class="bb-item" id="item3">
                            <div class="content">
                                <div class="scroller pt-0">
    
                                    <div class="report-frame">
                                        <div class="row introduction-page">
    
                                            <div class="col-lg-4 col-sm-12">
    
                                                <div class="sm-logo-lt"> <img src="assets/images/r-excelledia-logo.png"
                                                        width="120" class="img-fluid" /> </div>
                                                <div class="sm-logo-lb"> <img src="assets/images/logo.png" width="120"
                                                        class="img-fluid" />
                                                </div>
                                                <img src="assets/images/long-image.jpg" class="img-fluid w-100" />
    
                                            </div>
    
                                            <div class="col-lg-8 col-sm-12">
                                                <div class="intro-right pt-5">
                                                    <h4>{{'introduction' | translate}}</h4>
    
                                                    <p *ngIf="IncidentReportStore.reportDetails?.introduction?.introduction?.data != null" style="white-space: pre-line">
                                                        {{IncidentReportStore.reportDetails?.introduction?.introduction?.data}}</p>
                                                      
                                                     
                                                        <div *ngIf="IncidentReportStore.reportDetails?.introduction?.introduction?.data == null" >
                                                         <ng-container>
                                                            <app-report-no-data [source]="emptyIntro"  [border]="false" [height]="true"></app-report-no-data>
                                                         </ng-container>
                                                      </div>
                                                      <!-- <div *ngIf = "IncidentReportStore.reportDetails?.introduction?.introduction?.data == null">
                                                         <app-context-no-data [sourceData] = "getNoDataSource('left')"></app-context-no-data>
                                                       </div> -->
    
    
                                                </div>
    
                                            </div>
    
                                        </div>
                                    </div>
    
    
                                </div>
                            </div>
                        </div>
                        <div class="bb-item" id="item4">
                            <div class="content">
                               <div class="scroller pt-0">
          
                                  <div class="report-frame">
                                     <div class="introduction-page">
                                        <h4 class="mt-2 mb-3">{{'incident_mapping' | translate}}</h4>
          
                                        
          
                                        <h6>{{'process' | translate}}</h6>
                                        <p *ngIf="!IncidentReportStore.reportDetails?.incident_mapping?.process_mapping || IncidentReportStore.reportDetails?.incident_mapping?.process_mapping?.process?.data.length == 0">{{AppStore.noContentText}}</p>

                                        <div class="audit-page-table-main" *ngIf="IncidentReportStore.reportDetails?.incident_mapping?.process_mapping?.process?.data.length > 0">
                                          <div class="row">
                                             <div class="col-sm-12">
                                                <div class="full-width-table">
                                                <table class="table table-bordered ordinary-table audit-page-table mb-1 table-scroll">
                                                   <thead>
                                                      <tr>
                                                         <th class="border-top-0 text-center" width="2%">#</th>
                                                         <th class="border-top-0" width="8%">{{'ref_id' | translate}}</th>
                                                         <th class="border-top-0" width="23%">{{'process_group' | translate}}</th>
                                                         <th class="border-top-0" width="20%">{{'process' | translate}}</th>
                                                         <th class="border-top-0" width="16%">{{'process_category' | translate}}</th>
                                                         <th class="border-top-0" width="18%">{{'departments' | translate}}</th>
                                                         <!-- <th class="border-top-0" width="13%">Incident Rating</th> -->
                                                      </tr>
                                                   </thead>
                                                   <tbody>
                                                      <tr *ngFor=" let data of IncidentReportStore.reportDetails?.incident_mapping.process_mapping.process.data">
                                                         <td class="text-center">1</td>
                                                         <td>#{{data.reference_code}}</td>
                                                         <td>{{data.process_group?.title}}</td>
                                                         <td>{{data.title}}</td>
                                                         <td>{{data.process_category?.title}} </td>
                                                         <td>{{data.department?.title}}</td>
                                                         <!-- <td><div class="dot-div red-dot">{{data.reference_code}}</div></td> -->
                                                      </tr>
                                                   </tbody>
                                                </table>
                                             </div>
                                             </div>
                                          </div>
                                       </div>
          
          
                                       <h6>{{'issues' | translate}}</h6>
                                       <p *ngIf="!IncidentReportStore.reportDetails?.incident_mapping?.issue_mapping || IncidentReportStore.reportDetails?.incident_mapping?.issue_mapping?.issue?.data.length == 0">{{AppStore.noContentText}}</p>

                                       <div class="audit-page-table-main" *ngIf="IncidentReportStore.reportDetails?.incident_mapping?.issue_mapping?.issue?.data.length > 0">
                                          <div class="row">
                                             <div class="col-sm-12">
                                                <div class="full-width-table">
                                                <table class="table table-bordered ordinary-table audit-page-table mb-1 table-scroll">
                                                   <thead>
                                                      <tr>
                                                        <th class="border-top-0 text-center" width="2%">#</th>
                                                        <th class="border-top-0" width="8%">{{'ref_id' | translate}}</th>
                                                        <th class="border-top-0" width="33%">{{'issue' | translate}}</th>
                                                        <th class="border-top-0" width="10%">{{'issue_types' | translate}}</th>
                                                        <th class="border-top-0" width="16%">{{'issue_categories' | translate}}</th>
                                                        <th class="border-top-0" width="18%">{{'issue_domains' | translate}}</th>
                                                        <th class="border-top-0" width="13%">{{'departments' | translate}}</th>
                                                      </tr>
                                                   </thead>
                                                   <tbody>
                                                      <tr *ngFor="let data of  IncidentReportStore.reportDetails?.incident_mapping.issue_mapping.issue.data;let num = index">
                                                         <td  class="text-center">{{(IncidentReportStore.currentPage - 1) * IncidentReportStore.itemsPerPage + (num + 1)}}</td>
                                                         <td>#{{data.reference_code}}</td>
                                                         <td>{{data.title}}</td>

                                                         <td><span *ngFor="let types of data.organization_issue_types"
                                                            class="risk-type-bx risk-type-bx-drop"><i><img [attr.src]="types.title == 'Internal' ? 'assets/images/risk-type-icon.png' : 'assets/images/risk-type-icon-two.png'"> </i> {{types.title}}</span></td>
                                                            <td>{{data.organization_issue_categories.length > 0 ?  data.organization_issue_categories[0]?.title :AppStore.noContentText }}</td>
                                                            <td>{{data.organization_issue_domains.length > 0 ? data.organization_issue_domains[0]?.title : AppStore.noContentText}}</td>
                                                            <td>{{data.organization_issue_departments.length > 0 ? data.organization_issue_departments[0]?.title : AppStore.noContentText}}</td>
                                                      </tr>
                                                     
                                                   </tbody>
                                                </table>
                                             </div>
                                             </div>
                                          </div>
                                       </div>

                                       <h6>{{'projects' | translate}}</h6>
                                       <p *ngIf="!IncidentReportStore.reportDetails?.incident_mapping?.project_mapping || IncidentReportStore.reportDetails?.incident_mapping?.project_mapping?.project?.data.length == 0">{{AppStore.noContentText}}</p>
                                       <div class="audit-page-table-main" *ngIf="IncidentReportStore.reportDetails?.incident_mapping?.project_mapping?.project?.data.length > 0">
                                          <div class="row">
                                             <div class="col-sm-12">
                                                <div class="full-width-table">
                                                <table class="table table-bordered ordinary-table audit-page-table mb-1 table-scroll">
                                                   <thead>
                                                      <tr>
                                                         <th class="border-top-0 text-center" width="2%">#</th>
                                                         <th class="border-top-0" width="31%">{{'title' |
                                                            translate}}</th>
                                                        <th class="border-top-0" width="22%">{{'manager_name' |
                                                            translate}}
                                                        </th>
                                                        <th class="border-top-0" width="9%">{{'member_count' |
                                                            translate}}</th>
                                                        <th class="border-top-0" width="19%">{{'location' | translate}}
                                                        </th>
                                                         <!-- <th class="border-top-0" width="13%">Department</th> -->
                                                      </tr>
                                                   </thead>
                                                   <tbody>
                                                      <tr *ngFor="let proj of  IncidentReportStore.reportDetails?.incident_mapping.project_mapping.project.data; let list=index">
                                                        <td>{{list+1}}</td>
                                                        <td> {{proj.title}}</td>
                                                        <td> <div class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg" *ngIf="proj.project_manager?.first_name">
                                                            <img
                                                                [attr.src]="proj.project_manager_image_token ? createImageUrls(proj.project_manager_image_token):getDefaultImage('user-logo')"
                                                                width="30px" height="30px" class="rounded-circle">
                                                            
                                                            <div>
                                                                <h6>{{proj.project_manager?.first_name}} {{proj.project_manager?.last_name}}</h6>
                                                                <!-- <span>{{proj.project_manager_designation?proj.project_manager_designation:AppStore.noContentText}} </span> -->
                                                            </div>
                                                        </div> 
                                                        <p *ngIf="!proj.project_manager?.first_name">{{AppStore.noContentText}}</p>
                                                    </td>
                                                        <td>{{proj.member_count? proj.member_count :AppStore.noContentText  }}</td>
                                                        <td>
                                                            {{proj.location ? proj.location?.title:AppStore.noContentText}}  
                                                        </td>
                                                      </tr>
                                                    
                                                   </tbody>
                                                </table>
                                             </div>
                                             </div>
                                          </div>
                                       </div>

                                       <h6>{{'customers' | translate}}</h6>
                                       <p *ngIf="!IncidentReportStore.reportDetails?.incident_mapping?.customer_mapping || IncidentReportStore.reportDetails?.incident_mapping?.customer_mapping?.customer?.data.length == 0">{{AppStore.noContentText}}</p>

                                       <div class="audit-page-table-main" *ngIf="IncidentReportStore.reportDetails?.incident_mapping?.customer_mapping?.customer?.data.length > 0">
                                         <div class="row">
                                            <div class="col-sm-12">
                                               <div class="full-width-table">
                                               <table class="table table-bordered ordinary-table audit-page-table mb-1 table-scroll">
                                                  <thead>
                                                     <tr>
                                                        <th class="border-top-0" width="3%">#
                                                        </th>
                                                        <th class="border-top-0" width="31%">{{'title' |
                                                            translate}}</th>
                                                        <th class="border-top-0" width="22%">{{'contact_person' |
                                                            translate}}
                                                        </th>
                                                        <th class="border-top-0" width="15%">{{'address' |
                                                            translate}}</th>
                                                     </tr>
                                                  </thead>
                                                  <tbody>
                                                     <tr *ngFor=" let cust of IncidentReportStore.reportDetails?.incident_mapping.customer_mapping.customer.data let list=index">
                                                        <td>{{list+1}}</td>
                                                        <td> {{cust.title ? cust.title :  AppStore.noContentText}}
                                                        </td>
                                                        <td>{{cust.contact_person?cust.contact_person:AppStore.noContentText}}
                                                        </td>
                                                        <td>
                                                           {{cust.address?cust.address:AppStore.noContentText}}
                                                       </td>
                                                     </tr>
                                                  </tbody>
                                               </table>
                                             </div>
                                            </div>
                                         </div>
                                      </div>
                                     </div>
                                  </div>
          
          
                               </div>
                            </div>
                         </div>
                        <div class="bb-item" id="item6">
                            <div class="content">
                               <div class="scroller pt-0">
          
                                  <div class="report-frame">
                                     <div class="introduction-page">
          
          
                                        <h4 class="mb-3 mt-3">{{'investigator' | translate}}</h4>
          
                                        <div class="row" *ngIf="IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data">
                                            <div class="col-xl-3 col-lg-4 col-sm-12">
                                               <div class="label-and-user-pic">
                                                  <h6>{{'investigation_leader' | translate}}</h6>
                                                  <div class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg">
                                                      <!-- <img src="images/round-6.png" data-toggle="modal" data-target="#user301" data-ui-class="a-zoom" class="rounded-circle rounde-hov details-show-popup" width="35px" height="35px"> -->
                                                      <!-- <app-user-popup-box [source]="assignUserValues(IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data)" [showName] = "true" ></app-user-popup-box> -->
                                                      <img *ngIf="IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.image_token"
                                                      [attr.src]="createImagePreview('user-profile-picture',IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.image_token)"
                                                      width="40px" height="40px" class="rounded-circle"
                                                      onerror="this.src='/assets/images/user-demo2.png'">
                                                  <img *ngIf="!IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.image_token"
                                                      [attr.src]="getDefaultImage('user-logo')" width="40px" height="40px"
                                                      class="rounded-circle"
                                                      onerror="this.src='/assets/images/user-demo2.png'">
                                                      <div class="pointer new-size-text">
                                                          <h6>{{IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.first_name? IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.first_name : AppStore.noContentText}} {{IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.last_name ? IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.last_name : AppStore.noContentText}}</h6>
                                                          <span>{{IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.designation ? IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.designation?.title : AppStore.noContentText}}</span>
                                                      </div>
                                                  </div>
                                              </div>
                                            </div>
                                         </div>
          
          
                                         <div class="row">
                                            <div class="col-sm-12">
                                               <h6>{{'team_members' | translate}}</h6>
                                               <div class="pb-3" *ngIf="IncidentReportStore.reportDetails?.investigator?.team_members?.data.length > 8">
                                                <ul class="arci-user-tab-dtl workflow-lst-pics-loop clearfix" 
                                                    >
                                                    <li class="rounde-hov-bg"
                                                    *ngFor="let team_members of IncidentReportStore.reportDetails?.investigator?.team_members?.data;let i=index">
                                                        <app-user-popup-box [showName]="false" [source]="getPopupDetails(team_members)"></app-user-popup-box>
                                                    </li>
                                                </ul>
                                            </div>
                                            </div>
                                          </div>
                                            
                                            <div class="row" *ngIf="!(IncidentReportStore.reportDetails?.investigator?.team_members?.data.length > 8)">
                                            <div class="col-xl-3 col-lg-4 col-sm-6 animation-pulse" *ngFor="let members of IncidentReportStore.reportDetails?.investigator?.team_members?.data">
                                               <div class="label-and-user-pic">
                                                <app-user-popup-box  [source]="getPopupDetails(members)"></app-user-popup-box>
                                                  <!-- <div class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg"> -->
                                                      <!-- <img src="images/round-7.png" data-toggle="modal" data-target="#user312" data-ui-class="a-zoom" class="rounded-circle rounde-hov details-show-popup" width="35px" height="35px"> -->
                                                      <!-- <app-user-popup-box [source]="assignUserValues(members)" [showName] = "true" ></app-user-popup-box> -->
                                                      <!-- <img *ngIf="members.image_token"
                                                      [attr.src]="createImagePreview('user-profile-picture',members.image_token)"
                                                      width="40px" height="40px" class="rounded-circle"
                                                      onerror="this.src='/assets/images/user-demo2.png'">
                                                  <img *ngIf="!members.image_token"
                                                      [attr.src]="getDefaultImage('user-logo')" width="40px" height="40px"
                                                      class="rounded-circle"
                                                      onerror="this.src='/assets/images/user-demo2.png'">
                                  
                                                      <div class="pointer new-size-text  ">
                                                          <h6>{{members.first_name ? members.first_name : AppStore.noContentText }} {{members.last_name  ? members.last_name : AppStore.noContentText  }}  </h6>
                                                          <span>{{members.designation ? members.designation?.title : AppStore.noContentText}}</span>
                                                      </div>
                                                     
                                                  </div> -->
                                              </div>
                                            </div>
                                          </div>
                                       
                                     </div>
                                  </div>
          
          
                               </div>
                            </div>
                         </div>
                         <div class="bb-item" id="item7">
                            <div class="content">
                               <div class="scroller pt-0">
          
                                  <div class="report-frame">
                                     <div class="introduction-page">
                                        <h4 class="mb-3 mt-3">{{'investigation' | translate}}</h4>
                                        
                                        <div class="row">
                                                 <div class="col-sm-12 col-lg-8 padding-right-0">
                                                    <div class="bg-white">
                                                       <div class="issue-top-sec">
                                                          <div class="clearfix">
                                                             <h5 class="d-inline-block cmn-head-style label-tag-style"><span class="issue-smoal-head-text">#{{IncidentReportStore.reportDetails?.incident_investigation?.incident_reference_code.data ? IncidentReportStore.reportDetails?.incident_investigation?.incident_reference_code.data : AppStore.noContentText }}</span> {{IncidentReportStore.reportDetails?.incident_investigation?.title.data ? IncidentReportStore.reportDetails?.incident_investigation?.title.data : AppStore.noContentText }}<span class="border-left issue-smoal-head-text border-right-0 pl-2 ml-2">Personal Injury</span></h5>
                                                          </div>
                                                          <div class="clearfix">
                                                             <p class="label-tag-style mb-2"><i class="fas fa-calendar-alt date-pics-two"></i> {{IncidentReportStore.reportDetails?.incident_investigation?.incident_at.data? (IncidentReportStore.reportDetails?.incident_investigation?.incident_at.data | date : OrganizationGeneralSettingsStore.organizationSettings?.date_time_format) :  AppStore.noContentText }}</p>
                                                          </div>
                                                          <p *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.description?.data" style="white-space: pre-line;">{{IncidentReportStore.reportDetails?.incident_investigation?.description?.data ? IncidentReportStore.reportDetails?.incident_investigation?.description?.data : AppStore.noContentText}}</p>
                                                       </div>
          
                                                       <div class="row">
                                                          <div class="col-lg-4 col-sm-6">
                                                             <h6>{{'reported_date_time' | translate}}</h6>
                                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.reported_at.data? (IncidentReportStore.reportDetails?.incident_investigation?.reported_at.data | date : OrganizationGeneralSettingsStore.organizationSettings?.date_time_format) :  AppStore.noContentText }}</p>
                                                          </div>
                                                          <div class="col-lg-4 col-sm-6">
                                                             <h6>{{'category' | translate}}</h6>
                                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_category?.data?.length > 0 ? IncidentReportStore.reportDetails?.incident_investigation?.incident_category.data[0].title : AppStore.noContentText }}</p>
                                                          </div>
                                                          <div class="col-lg-4 col-sm-6">
                                                             <h6>{{'incident_sub_category' | translate}}</h6>
                                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_sub_category?.data?.length > 0  ? IncidentReportStore.reportDetails?.incident_investigation?.incident_sub_category.data[0].title : AppStore.noContentText }}</p>
                                                          </div>
                                                          <div class="col-lg-4 col-sm-6">
                                                             <div class="label-and-user-pic">
                                                                <h6>{{'reported_by' | translate}}</h6>
                                                                <div class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg">
                                                                    <!-- <img src="images/round-7.png" class="rounded-circle rounde-hov details-show-popup" width="35px" height="35px"> -->
                                                                    
                                                                    <div class="pointer new-size-text">
                                                                        <h6>{{IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data?.first_name ? IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data?.first_name : AppStore.noContentText }} 
                                                                            {{IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data?.last_name ? IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data?.last_name : AppStore.noContentText }}
                                                                        </h6>
                                                                        <!-- <span>{{IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data?.first_name ? IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data?.first_name : AppStore.noContentText }}</span> -->
                                                                    </div>
                                                                </div>
                                                            </div>
                                                          </div>
                                                          <div class="col-lg-4 col-sm-6">
                                                             <h6>{{'invoved_party' | translate}}</h6>
                                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_stakeholders?.data?.length > 0  ? IncidentReportStore.reportDetails?.incident_investigation?.incident_stakeholders.data[0].title : AppStore.noContentText }}</p>
                                                          </div>
                                                          <div class="col-lg-4 col-sm-6">
                                                             <h6>{{'subsidiary' | translate}}</h6>
                                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_organization?.data?.length > 0  ? IncidentReportStore.reportDetails?.incident_investigation?.incident_organization.data[0].title : AppStore.noContentText }}</p>
                                                          </div>
                                                          <div class="col-lg-4 col-sm-6">
                                                             <h6>{{'division' | translate}}</h6>
                                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_division?.data?.length > 0  ? IncidentReportStore.reportDetails?.incident_investigation?.incident_division.data[0].title : AppStore.noContentText }}</p>
                                                          </div>
                                                          <div class="col-lg-4 col-sm-6">
                                                             <h6>{{'department' | translate}}</h6>
                                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_department?.data?.length > 0  ? IncidentReportStore.reportDetails?.incident_investigation?.incident_department.data[0].title : AppStore.noContentText }}</p>
                                                          </div>
                                                          <div class="col-lg-4 col-sm-6">
                                                             <h6>{{'section' | translate}}</h6>
                                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_section?.data?.length > 0  ? IncidentReportStore.reportDetails?.incident_investigation?.incident_section.data[0].title : AppStore.noContentText }}</p>
                                                          </div>
                                                          <div class="col-lg-4 col-sm-6">
                                                             <h6>{{'sub_section' | translate}}</h6>
                                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_sub_section?.data?.length > 0  ? IncidentReportStore.reportDetails?.incident_investigation?.incident_sub_section.data[0].title : AppStore.noContentText }}</p>
                                                          </div>
                                                          <div class="col-lg-4 col-sm-6">
                                                             <h6>{{'action_taken' | translate}}</h6>
                                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.action_taken.data ? IncidentReportStore.reportDetails?.incident_investigation?.action_taken.data : AppStore.noContentText }}</p>
                                                          </div>
                                                          <div class="col-lg-4 col-sm-6">
                                                             <h6>{{'incident_root_cause' | translate}} </h6>
                                                             <p *ngFor="let data of IncidentReportStore.reportDetails?.incident_investigation?.incident_root_cause?.data">{{data.title ? data.title : AppStore.noContentText}}</p>
                                                             <!-- <p *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.incident_root_cause?.data?.length == 0">
                                                                {{AppStore.noContentText}}
                                                               </p> -->
                                                          </div>
                                                          <div class="col-lg-4 col-sm-6">
                                                             <h6>{{'were_safe_work_practices_being_used' | translate}}</h6>
                                                             <p *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.were_safe_work_practices_being_used?.data == 1">Yes</p>
                                                             <p *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.were_safe_work_practices_being_used?.data == 2">No</p>
                                                          </div>
                                                          <div class="col-lg-4 col-sm-6">
                                                             <h6>{{'incident_damage_types' | translate}}</h6>
                                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_damage_types.data ? IncidentReportStore.reportDetails?.incident_investigation?.incident_damage_types.data.title : AppStore.noContentText }}</p>
                                                          </div>
                                                          <div class="col-lg-4 col-sm-6">
                                                             <h6>{{'incident_damage_severity' | translate}}</h6>
                                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_damage_severity.data ? IncidentReportStore.reportDetails?.incident_investigation?.incident_damage_severity.data.title : AppStore.noContentText }}</p>
                                                          </div>
          
                                                       </div>
          
                                                       <div class="row">
                                                          <div class="col-lg-6 col-sm-12">
                                                             <h6>{{'incident_investigations' | translate}} </h6>
                                                             <ul class="arrowlist pl-0 mt-2 mb-0">
                                                                <li *ngFor="let data of IncidentReportStore.reportDetails?.incident_investigation?.points?.data">{{data.description}}</li>
                                                                <li *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.points?.data.length == 0">{{AppStore.noContentText}}</li>
                                                             </ul>
                                                          </div>
                                                          <div class="col-lg-6 col-sm-12">
                                                             <h6>{{'significant_observations' | translate}} </h6>
                                                             <ul class="arrowlist pl-0 mt-2 mb-0">
                                                                <li *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.significant_observations?.data.length == 0">{{AppStore.noContentText}}</li>
                                                                <li *ngFor="let data of IncidentReportStore.reportDetails?.incident_investigation?.significant_observations?.data">{{data.description}}</li>
                                                             </ul>
                                                          </div>
                                                          <div class="col-lg-6 col-sm-12">
                                                             <h6>{{'recommendations' | translate}} </h6>
                                                             <ul class="arrowlist pl-0 mt-2 mb-0">
                                                                <li *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.recommendations?.data.length == 0">{{AppStore.noContentText}}</li>
                                                                <li *ngFor="let data of IncidentReportStore.reportDetails?.incident_investigation?.recommendations?.data">{{data.description}}</li>
                                                             </ul>
                                                          </div>
                                                          <div class="col-lg-6 col-sm-12">
                                                             <h6>{{'references' | translate}} </h6>
                                                             <ul class="arrowlist pl-0 mt-2 mb-0">
                                                                <li *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.references?.data.length == 0">{{AppStore.noContentText}}</li>
                                                                <li *ngFor="let data of IncidentReportStore.reportDetails?.incident_investigation?.references?.data">{{data.description}}</li>
                                                             </ul>
                                                          </div>
                                                       </div>
          
                                                       <div class="row mt-3">
                                                          <div class="col-sm-12">
                                                             <h6>{{'evidence' | translate}}</h6>
                                                             <p *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.incident_document?.data?.length==0">{{AppStore.noContentText}}</p>
                                                             <div class="thumb-pics-bg thumb-pics-col-4 clearfix" *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.incident_document?.data?.length > 0">
                                                              <div class="thumb-pics"
                                                              *ngFor="let doc of IncidentReportStore.reportDetails?.incident_investigation?.incident_document?.data" (click)="viewIncidentDocument(doc)">
                                                              <div class="upload-pics edit-option" *ngIf="AuthStore.getActivityPermission(1900,'PREVIEW_INCIDENT_DOCUMENT_FILE')">
                                                                  <div class="browse-form-pic"
                                                                      [ngStyle]="{'background': 'url(' + createImageUrl('investigation-item',doc.token) + '), url(' + getDefaultImage('no-preview') + ') no-repeat 0 0 / cover '}">
                                                                  </div>
                                                                  <div class="browse-form-name clearfix">
                                                                      <div class="float-left">
                                                                          <h6 [attr.title]="doc.title">
                                                                              {{doc.title.length > 13 ? doc.title.substring(0,13)+'
                                                                              ...': doc.title}}
                                                                          </h6>
                                                                          <span>{{doc.size/1048576 | number:'0.2-2'}}MB</span>
                                                                      </div>
                                                                      <div class="browse-logo">
                                                                          <img *ngIf="checkExtension(doc.ext,'image') != -1"
                                                                              src="/assets/images/md-jpg.png">
                                                                          <img *ngIf="checkExtension(doc.ext,'doc') != -1"
                                                                              src="/assets/images/word-icone.png">
                                                                          <img *ngIf="checkExtension(doc.ext,'pdf') != -1"
                                                                              src="/assets/images/pdf-icone.png">
                                                                          <img *ngIf="checkExtension(doc.ext,'excel') != -1"
                                                                              src="/assets/images/excel-icone.png">
                                                                          <img *ngIf="checkExtension(doc.ext,'video') != -1"
                                                                              src="/assets/images/md-video.png">
                                                                          <img *ngIf="checkExtension(doc.ext,'audio') != -1"
                                                                              src="/assets/images/md-audio.png">
                                                                          <img *ngIf="checkExtension(doc.ext,'ppt') != -1"
                                                                              src="/assets/images/md-ppt.png">
                                                                      </div>
                                                                  </div>
                                                                  <div class="edit-option-show-inner" title="Download Document" *ngIf="AuthStore.getActivityPermission(1900,'DOWNLOAD_INCIDENT_DOCUMENT')">
                                                                      <a><i class="fas fa-download" (click)="downloadAuditPlanDocument('downloadIncidentDocument',doc)"
                                                                              ></i></a>
                                                                  </div>
                                                              </div>
                                                          </div>
                                                             </div>
                                                          </div>
                                                       </div>
          
                                                       <div class="row">
                                                         <div class="col-sm-12">
                                                          <hr>
                                                            <div class="d-flex flex-row user-list-sm">
                                                                 <!-- <app-user-popup-box
                                                                [source]=" getCreatedByPopupDetails(IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data,IncidentReportStore.reportDetails?.incident_investigation?.reported_at?.data)">
                                                               </app-user-popup-box> --> 
                                                               <!-- <img src="images/user-gate.jpg" width="30px" height="30px" class="rounded-circle"> -->
                                                     <img *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data.image_token"
                                                      [attr.src]="createImagePreview('user-profile-picture',IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data?.image_token)"
                                                      width="40px" height="40px" class="rounded-circle"
                                                      onerror="this.src='/assets/images/user-demo2.png'">
                                                  <img *ngIf="!IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data.image_token"
                                                      [attr.src]="getDefaultImage('user-logo')" width="40px" height="40px"
                                                      class="rounded-circle"
                                                      onerror="this.src='/assets/images/user-demo2.png'">
                                                              <div>
                                                                <h6>{{IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data.first_name}} {{IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data.last_name}}</h6>
                                                                <span>Project Manger | {{IncidentReportStore.reportDetails?.incident_investigation?.reported_at?.data}}</span>
                                                              </div> 
                                                            </div>
                                                          </div>
                                                       </div>
                                                    </div>
                                                 </div>
                                                 <div class="col-sm-12 col-lg-4">
                                                    
                                                    <div class="risk-rating-box bg-white p-3 mb-3">
                                                       <h5 class="cmn-head-style text-left">{{'person_involved' | translate}}</h5>
                                                       <hr class="mt-0 mb-3">
                                                          <h6 class="text-left">{{'employee' | translate}}</h6>
                                                          <ul class="arci-user-tab-dtl workflow-lst-pics-loop clearfix"
                                                          *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.incident_involved_users?.data?.length > 0">
                                                             <li class="rounde-hov-bg" *ngFor = "let involved of IncidentReportStore.reportDetails?.incident_investigation?.incident_involved_users?.data; let isLast=last">
                                                                <!-- <app-user-popup-box [source]="assignUserValues(involved)" [showName] = "false" ></app-user-popup-box>                                                                  -->
                                                                <a>
                                                                    <img *ngIf="involved.image_token"
                                                      [attr.src]="createImagePreview('user-profile-picture',involved.image_token)"
                                                      width="40px" height="40px" class="rounded-circle"
                                                      onerror="this.src='/assets/images/user-demo2.png'">
                                                  <img *ngIf="!involved.image_token"
                                                      [attr.src]="getDefaultImage('user-logo')" width="40px" height="40px"
                                                      class="rounded-circle"
                                                      onerror="this.src='/assets/images/user-demo2.png'">
                                                                </a> 

                                                            </li>
                                                         </ul>
                                                         <p class="text-left" *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.incident_involved_users?.data?.length == 0">
                                                            {{AppStore.noContentText}}
                                                         </p>
          
                                                         <h6 class="text-left mt-3">{{'others' | translate}}</h6>
                                                         <div *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.incident_involved_other_users?.data?.length > 0">
                                                            <div *ngIf="!moreData">
                                                               <div *ngFor="let data of othersInvolved()" class="name-and-position name-and-position-bdr cmn-bdr text-left">
                                                                    <h6>{{data.name}} </h6>
                                                                    <span>{{data.designation}}</span>
                                                               </div>
                                                               <!-- <div class="name-and-position name-and-position-bdr cmn-bdr text-left">
                                                                    <h6>Samuel John </h6>
                                                                    <span>9809946365</span>
                                                               </div> -->
                                                               <a   (click)="showMore('more')" *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.incident_involved_other_users?.data.length > 2" class="view-more-pestel-box text-center">{{'view_more' | translate}}</a>
                                                              </div>
                                                              <div *ngIf="moreData">
                                                                  <div *ngFor="let data of IncidentReportStore.reportDetails?.incident_investigation?.incident_involved_other_users?.data" class="name-and-position name-and-position-bdr cmn-bdr text-left">
                                                                      <h6>{{data.name}} </h6>
                                                                      <span>{{data.designation}}</span>
                                                                 </div>
                                                                 <!-- <div class="name-and-position name-and-position-bdr cmn-bdr text-left">
                                                                      <h6>Samuel John </h6>
                                                                      <span>9809946365</span>
                                                                 </div> -->
                                                                 <a   (click)="showMore('less')"  class="view-more-pestel-box text-center">{{'view_less' | translate}}</a>
                                                                </div>
                                                         </div>
                                                         <p class="text-left" *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.incident_involved_other_users?.data?.length == 0">
                                                            {{AppStore.noContentText}}
                                                         </p>
                                                        </div>
                                                      <!-- </div> -->
          
                                                      
                                                    <div class="risk-rating-box bg-white p-3 mb-3">
                                                       <h5 class="cmn-head-style text-left">{{'witness' | translate}}</h5>
                                                       <hr class="mt-0 mb-3">
                                                          <h6 class="text-left">{{'employee' | translate}}</h6>
                                                          <ul class="arci-user-tab-dtl workflow-lst-pics-loop clearfix"
                                                          *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.incident_witness_users?.data?.length > 0">
                                                             <li class="rounde-hov-bg" *ngFor = "let witness of IncidentReportStore.reportDetails?.incident_investigation?.incident_witness_users?.data; let isLast=last">
                                                                <a>
                                                                    <img *ngIf="witness.image_token"
                                                      [attr.src]="createImagePreview('user-profile-picture',witness.image_token)"
                                                      width="40px" height="40px" class="rounded-circle"
                                                      onerror="this.src='/assets/images/user-demo2.png'">
                                                  <img *ngIf="!witness.image_token"
                                                      [attr.src]="getDefaultImage('user-logo')" width="40px" height="40px"
                                                      class="rounded-circle"
                                                      onerror="this.src='/assets/images/user-demo2.png'">
                                                                </a>                                                                  
                                                             </li>
                                                         </ul>
                                                         <p class="text-left" *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.incident_witness_users?.data?.length == 0">
                                                            {{AppStore.noContentText}}
                                                         </p>
          
                                                         <h6 class="text-left mt-3">{{'others' | translate}}</h6>
                                                         <div *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.incident_witness_other_users?.data?.length > 0">
                                                            <div *ngIf="!moreDataWitness">
                                                               <div  *ngFor="let data of othersWitness()" class="name-and-position name-and-position-bdr cmn-bdr text-left">
                                                                    <h6>{{data.name}} </h6>
                                                                    <span>{{data.designation}}</span>
                                                               </div>
                                                         
                                                               <a (click)="showMoreWitness('more')" *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.incident_witness_other_users?.data.length > 2"  class="view-more-pestel-box text-center">{{'view_more' | translate}}</a>
                                                              </div>
      
                                                              <div *ngIf="moreDataWitness">
                                                                  <div  *ngFor="let data of IncidentReportStore.reportDetails?.incident_investigation?.incident_witness_other_users?.data" class="name-and-position name-and-position-bdr cmn-bdr text-left">
                                                                       <h6>{{data.name}} </h6>
                                                                       <span>{{data.designation}}</span>
                                                                  </div>
                                                            
                                                                  <a (click)="showMoreWitness('less')" class="view-more-pestel-box text-center">>{{'view_less' | translate}}</a>
                                                                 </div>
                                                         </div>
                                                         <p class="text-left" *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.incident_witness_other_users?.data?.length == 0">
                                                            {{AppStore.noContentText}}
                                                         </p>
                                                        
                                                      </div>
          
                                                      
          
                                                 <!-- </div> -->
          
                                                 </div>
                                              </div>
                                        
          
                                     </div>
                                  </div>
          
          
                               </div>
                            </div>
                         </div>
    
                        <div class="bb-item" id="item9">
                            <div class="content">
                               <div class="scroller pt-0">
          
                                  <div class="report-frame acl-page">
                                     <div class="introduction-page audit-program-box audit-page-table-main">
          
                                          <h4 class="mt-2 mb-3">{{'root_cause_analysis' | translate}}</h4>
          
                                              
                                          <div class="stup-root-cause-main rca-tab-stup-root-cause-main bg-white p-0 stup-root-cause-child">
                                           <div class="stup-root-cause pb-3"><!-- one starts -->
                                              <div class="clearfix">
                                                 <div class="round-question-bg">
                                                    <div class="round-question">
                                                       <h2 class="pulse-effect">?</h2>
                                                       <h5 class="round-question-exclamation-icon"><i class="fas fa-exclamation-triangle"></i></h5>
                                                    </div>
                                                 </div>
                                                 <div class="round-question-details">
                                                    <h6>{{IncidentReportStore.reportDetails?.incident_investigation?.title.data ? IncidentReportStore.reportDetails?.incident_investigation?.title.data : AppStore.noContentText }}</h6>
                                                    <div class="created-info-sec created-info-sec-drop">
                                                       <hr>
                                                         <p style="white-space: pre-wrap;">{{IncidentReportStore.reportDetails?.incident_investigation?.description?.data ? IncidentReportStore.reportDetails?.incident_investigation?.description?.data : AppStore.noContentText}}</p>
                                                     </div>
                                                 </div>
                                              </div>
                                            </div><!-- one ends -->
          
                                            <div class="stup-root-cause pb-3 line-bottom-remove" *ngFor="let rootCause of IncidentReportStore.reportDetails?.root_cause_analysis?.root_cause_analysis?.data " ><!-- two starts -->
                                              <div class="clearfix">
                                                 <div class="round-question-bg">
                                                    <div class="round-question">
                                                       <h2 class="pulse-effect">?</h2>
                                                       <h5>{{rootCause?.why}}</h5>
                                                    </div>
                                                 </div>
                                                 <div class="round-question-details">
                                                    <p style="white-space: pre-wrap;">{{rootCause?.description}}</p>
                                                     
                                                    <div class="row">
                                                        <div class="col-lg-4 col-sm-6">
                                                           <h6>{{'root_cause_category' | translate}}</h6>
                                                           <p>{{rootCause?.root_cause_category?.title}}</p>
                                                        </div>
                                      
                                                        <div class="col-lg-4 col-sm-6">
                                                           <h6>{{'root_cause_sub_category' | translate}}</h6>
                                                           <p>{{rootCause?.root_cause_sub_category?.title}}</p>
                                                        </div>
                                                     </div> 
                                                    <div class="created-info-sec created-info-sec-drop">
                                                       <hr>
                                                         <div class="d-flex flex-row user-list-sm">
                                                            <img [attr.src]="rootCause?.created_by?.image?.token ? createImageUrls(rootCause?.created_by?.image?.token) : getDefaultImage('user-logo')"
                                                            width="40px" height="40px" class="rounded-circle">                                                           <div>
                                                            <h6>{{rootCause?.created_by?.first_name}} {{rootCause?.created_by?.last_name}}</h6>
                                                            <span>{{rootCause?.created_by?.designation}} | {{rootCause?.created_at | date : OrganizationGeneralSettingsStore.organizationSettings?.date_time_format}} </span>
                                                          </div>
                                                         </div>
                                                     </div>
                                                 </div>
                                              </div>
                                            </div><!-- two ends -->
                                         </div>
                                     </div>
                                  </div>
          
          
                               </div>
                            </div>
                         </div>

                         <div class="bb-item" id="item8">
                            <div class="content">
                               <div class="scroller pt-0">
                                  <div class="report-frame acl-page introduction-page">
                                     <h4 class="mt-2 mb-3">{{'corrective_action' | translate}}</h4>
          
                                     <div class="audit-program-box audit-page-table-main">
                                       <div class="row">
                                          <div class="col-sm-12">
                                             <div class="full-width-table">
                                             <table class="table table-bordered ordinary-table audit-page-table mb-1 table-scroll">
                                                <thead>
                                                    <tr>
                                                        <th class="border-top-0" width="2%">#</th>
                                                        <!-- <th class="border-top-0" width="6%">Ref. ID</th> -->
                                                        <th style="width: 6%;" class="border-top-0 issue-list-org-tab-three pointer"  >
                                                          <span>{{'ref_id' | translate}}</span>&nbsp;
                                                        
                                                      </th>
                                                      <th style="width: 25%;" class="border-top-0 issue-list-org-tab-three pointer" >
                                                        <span>{{'title' | translate}}</span>&nbsp;
                                                    </th>
                                                        <th class="border-top-0" width="15%">{{'responsible_user' | translate}} </th>
                                              <th class="border-top-0 pointer" width="10%" >
                                                 <span>{{'start_date' | translate}} </span>&nbsp;
                                              </th>
                                              <th class="border-top-0 pointer" width="10%" >
                                                 <span>{{'target_date' | translate}}</span>&nbsp;
                                              </th>
                                              <!-- <th class="border-top-0 pointer" width="15%">{{'status' | translate}}</th> -->
                      
                                                     </tr>
                                                   
                                                </thead>
                                                <tbody>
                                                   <tr *ngFor="let row of IncidentReportStore.reportDetails?.corrective_action?.corrective_action?.data;let num=index" class="pointer edit-and-delete-main">
                                                    <td >{{num + 1}}</td>
                                                    <td >{{row.reference_code}}</td>
                                                    <td >{{row.title}}</td>
                                                    <td>
                                                        <div class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg">
                                                           <!-- <app-user-popup-box [source]="assignUserValues(row)" [showName] = "false" ></app-user-popup-box> -->
                                                           <img *ngIf="row.responsible_user?.image?.token" data-toggle="modal" data-target="#user02" data-ui-class="a-zoom" [attr.src]="createImagePreview('user-profile-picture',row.responsible_user?.image?.token)"
                                                             width="30px" height="30px" class="rounded-circle rounde-hov details-show-popup" onerror = "this.src='/assets/images/user-demo2.png'">
                                                             <img *ngIf="!row.responsible_user?.image?.token"
                                                                   [attr.src]="getDefaultImage('user-logo')" width="30px" height="30px"
                                                                   class="rounded-circle" onerror = "this.src='/assets/images/user-demo2.png'">
                                                           <div class="pointer">
                                                              <h6>{{row.responsible_user?.first_name}} {{row.responsible_user?.last_name}}</h6>
                                                              <span>{{row.responsible_user?.designation}}</span>
                                                           </div>
                                                        </div>
                                                      </td>
                                                       <td>{{row.start_date | date:
                                                        OrganizationGeneralSettingsStore.organizationSettings?.date_format}}</td>
                                                     <td>{{row.target_date | date:
                                                        OrganizationGeneralSettingsStore.organizationSettings?.date_format}}
                                                     </td>
                                                   </tr>
                                                </tbody>
                                             </table>
                                          </div>
                                          </div>
                                       </div>
                                     </div>
                                     
                                  </div>
          
          
                               </div>
                            </div>
                         </div>
    
                        <div class="bb-item" id="item10">
                            <div class="content">
                                <div class="scroller pt-0">
    
                                    <div class="report-frame">
                                        <div class="row introduction-page">
    
                                            <div class="col-lg-7 col-sm-12">
                                                <div class="intro-right">
    
                                                    <h4>{{'conclusion' | translate}}</h4>
                                                    <p *ngIf="IncidentReportStore.reportDetails?.conclusion?.conclusion?.data != null" style="white-space: pre-line;">
                                                        {{IncidentReportStore.reportDetails?.conclusion?.conclusion?.data}}
                                                      </p>
                                                      <div *ngIf="IncidentReportStore.reportDetails?.conclusion?.conclusion?.data == null" >
                                                         <ng-container>
                                                            <app-report-no-data [source]="emptyIntro"  [border]="false" [height]="true"></app-report-no-data>
                                                         </ng-container>
                                                      </div>
                                                </div>
    
                                            </div>
    
                                            <div class="col-lg-5 col-sm-12">
    
                                                <img *ngIf="IncidentReportStore.reportDetails?.conclusion?.image?.data?.token"
                                                [attr.src]="createImagePreview('conclusion-bg',IncidentReportStore.reportDetails?.conclusion?.image?.data?.token)"
                                                class="img-fluid w-100"
                                                onerror="this.src='/assets/images/thankyou-img.jpg'">
                                            <img *ngIf="!IncidentReportStore.reportDetails?.conclusion?.image?.data?.token"
                                                src="assets/images/thankyou-img.jpg" class="img-fluid" />
                                            </div>
    
    
    
                                        </div>
                                    </div>
    
    
                                </div>
                            </div>
                        </div>
                    </div>
                    <nav>
    
                        <div class="report-footer-logo pl-4">
    
                            <img width="80" src="assets/images/login-logo.png" width="150">
                        </div>
    
    
    
                        <div class="book-buttons">
                            <span id="bb-nav-prev" #bbNavPrev><i class="fas fa-arrow-left"></i> </span>
                            <span id="bb-nav-next" #bbNavNext><i class="fas fa-arrow-right"></i> </span>
    
                        </div>
                        <div class="book-page-no">{{current+1}}/{{IncidentReportStore.reportDetails?.conclusion?.page_number}}</div>
    
                    </nav>
    
                    <span id="tblcontents" class="menu-button side-menu-pdf" #tblContents>Table of Contents</span>
    
                </div>
    
            </div><!-- /container -->
        </ng-container>

        <ng-container *ngIf="IncidentReportStore.individualLoaded && IncidentReportStore.fullView == true">
         <div class="cmn-bdr bg-white p-3 pdf-zoom-header-main pdf-zoom-header d-flex">
            <div class="w-100">
               <form class="form-control issue-select-process-search bg-white search-popup-new">
                   <input type="text" placeholder="Search.." name="search" class="search-process">
                   <button type="submit" style="width: 40px;"><i class="fa fa-search"></i></button>
                 </form>
            </div>

         </div>

         <div class="pdf-v2-report-html pdf-v2-report-list-view-html clearfix">
         <ul class="right-bar pdf-left-btns mCustomScrollbar">
             <li class="pdf-pagination-li" id="#1">
               <a   class="pdf-pagination-a act">
                  <div class="pdf-pagination pdf-img-section-btn">
                     <div class="report-frame-front">
    
                        <div class="report-front-page"
                            [style.background]="IncidentReportStore.reportDetails?.incident_cover_page?.background?.data ? 'url(' + createImagePreview('cover-bg-incident',IncidentReportStore.reportDetails?.incident_cover_page?.background?.data?.token) + ') no-repeat 0 0' :  'url(assets/images/w-welcome-screen.jpg)'">

                            <div class="header-report p-5">

                                <div class="row">

                                    <div class="col-md-6">
                                        <img src="assets/images/r-excelledia-logo.png" class="img-fluid" class="img-fluid " />
                                             

                                    </div>


                                    <!-- <div class="col-md-6 text-right">
                                        <img *ngIf="AuditReportsStore.reportDetails?.cover_page?.cover_logo"
                                        [attr.src]="createImagePreview('cover-logo',AuditReportsStore.reportDetails?.cover_page?.cover_logo?.token)"
                                        class="img-fluid"
                                        onerror="this.src='/assets/images/r-excelledia-logo.png'">
                                    <img *ngIf="!AuditReportsStore.reportDetails?.cover_page?.cover_logo"
                                        src="assets/images/logo.png" class="img-fluid" />
                                       
                                    </div> -->

                                </div>

                            </div>

                            <div class="front-report-tytle-section">
                                <h3>{{IncidentReportStore.reportDetails?.incident_cover_page?.title?.data}}</h3>
                                <p>{{IncidentReportStore.reportDetails?.incident_cover_page?.date?.data | date : OrganizationGeneralSettingsStore.organizationSettings?.date_time_format}}</p>
                                <hr>
                                <div class="d-flex flex-row user-list-sm">
                                    <img *ngIf="IncidentReportStore.reportDetails?.incident_cover_page?.created_by?.image?.token"
                                        [attr.src]="createImagePreview('user-profile-picture',IncidentReportStore.reportDetails?.incident_cover_page?.created_by?.image?.token)"
                                        width="40px" height="40px" class="rounded-circle"
                                        onerror="this.src='/assets/images/user-demo2.png'">
                                    <img *ngIf="!IncidentReportStore.reportDetails?.incident_cover_page?.created_by?.image?.token"
                                        [attr.src]="getDefaultImage('user-logo')" width="40px" height="40px"
                                        class="rounded-circle"
                                        onerror="this.src='/assets/images/user-demo2.png'">
                                    <div>
                                        <h6>{{IncidentReportStore.reportDetails?.incident_cover_page?.created_by?.first_name}}&nbsp;
                                            {{IncidentReportStore.reportDetails?.incident_cover_page?.created_by?.last_name}}
                                        </h6>
                                        <span>{{IncidentReportStore.reportDetails?.incident_cover_page?.created_by?.designation}}
                                            | {{IncidentReportStore.reportDetails?.incident_cover_page?.date?.data | date : OrganizationGeneralSettingsStore.organizationSettings?.date_time_format}}</span>
                                    </div>
                                </div>
     
                             </div>

                        </div>


                    </div>

                  </div>
               </a>
            </li>
             <!-- <li><a href="#1" class="act"><img src="images/pdf-demo-1.png" class="img-fluid pdf-img-section-btn"></a></li> -->
             <li class="pdf-pagination-li" id="#2">
               <a class="pdf-pagination-a" >
                  <div class="pdf-pagination pdf-img-section-btn">
                     <div class="report-frame">
                        <div class="row">
                            <div class="col-md-8 relative">

                                <div class="sm-logo-lt"> <img src="assets/images/r-excelledia-logo.png"
                                        width="120d" class="img-fluid" /> </div>
                                <img src="assets/images/content-img.jpg" class="img-fluid" />
                            </div>
                            <div class="col-md-4">
                                <div class="row mt-5 pt-5 pl-5 ml-3">
                                    <div class="col-md-12">
                                        <h3 class="mb-3 font-weight-bold">Index</h3>
                                    </div>
                                    <ng-container
                                        *ngFor="let content of IncidentReportStore.reportDetails?.index_page?.index_details">
                                        <div class="col-lg-8 col-sm-10">
                                            <p>{{content.title}}</p>

                                        </div>

                                        <div class="col-lg-4 col-sm-2">
                                            <p>{{content.page_number}}</p>

                                        </div>

                                    </ng-container>



                                </div>


                            </div>


                        </div>

                    </div>

                  </div>
                </a>
             </li>
             <li class="pdf-pagination-li">
               <a class="pdf-pagination-a" >
                  <div class="pdf-pagination pdf-img-section-btn">
                     
                     <div class="report-frame">
                        <div class="row introduction-page">

                            <div class="col-lg-4 col-sm-12">

                                <div class="sm-logo-lt"> <img src="assets/images/r-excelledia-logo.png"
                                        width="120" class="img-fluid" /> </div>
                                <div class="sm-logo-lb"> <img src="assets/images/logo.png" width="120"
                                        class="img-fluid" />
                                </div>
                                <img src="assets/images/long-image.jpg" class="img-fluid w-100" />

                            </div>

                            <div class="col-lg-8 col-sm-12">
                                <div class="intro-right pt-5">
                                    <h4>{{'introduction' | translate}}</h4>

                                    <p style="white-space: pre-wrap">
                                        {{IncidentReportStore.reportDetails?.introduction?.introduction?.data}}</p>


                                </div>

                            </div>

                        </div>
                    </div>

                  </div>
                </a>
             </li>
             <li class="pdf-pagination-li">
               <a class="pdf-pagination-a" >
                  <div class="pdf-pagination pdf-img-section-btn">
                     <div class="report-frame">
                        <div class="introduction-page">
                           <h4 class="mt-2 mb-3">{{'incident_mapping' | translate}}</h4>

                           

                           <h6>{{'process' | translate}}</h6>
                           <p *ngIf="!IncidentReportStore.reportDetails?.incident_mapping?.process_mapping || IncidentReportStore.reportDetails?.incident_mapping?.process_mapping?.process?.data.length == 0">{{AppStore.noContentText}}</p>

                           <div class="audit-page-table-main" *ngIf="IncidentReportStore.reportDetails?.incident_mapping?.process_mapping?.process?.data.length > 0">
                             <div class="row">
                                <div class="col-sm-12">
                                   <div class="full-width-table">
                                   <table class="table table-bordered ordinary-table audit-page-table mb-1 table-scroll">
                                      <thead>
                                         <tr>
                                            <th class="border-top-0 text-center" width="2%">#</th>
                                            <th class="border-top-0" width="8%">{{'ref_id' | translate}}</th>
                                            <th class="border-top-0" width="23%">{{'process_group' | translate}}</th>
                                            <th class="border-top-0" width="20%">{{'process' | translate}}</th>
                                            <th class="border-top-0" width="16%">{{'process_category' | translate}}</th>
                                            <th class="border-top-0" width="18%">{{'departments' | translate}}</th>
                                            <!-- <th class="border-top-0" width="13%">Incident Rating</th> -->
                                         </tr>
                                      </thead>
                                      <tbody>
                                         <tr *ngFor=" let data of IncidentReportStore.reportDetails?.incident_mapping.process_mapping.process.data">
                                            <td class="text-center">1</td>
                                            <td>#{{data.reference_code}}</td>
                                            <td>{{data.process_group?.title}}</td>
                                            <td>{{data.title}}</td>
                                            <td>{{data.process_category?.title}} </td>
                                            <td>{{data.department?.title}}</td>
                                            <!-- <td><div class="dot-div red-dot">{{data.reference_code}}</div></td> -->
                                         </tr>
                                      </tbody>
                                   </table>
                                 </div>
                                </div>
                             </div>
                          </div>


                          <h6>{{'issues' | translate}}</h6>
                          <p *ngIf="!IncidentReportStore.reportDetails?.incident_mapping?.issue_mapping || IncidentReportStore.reportDetails?.incident_mapping?.issue_mapping?.issue?.data.length == 0">{{AppStore.noContentText}}</p>

                          <div class="audit-page-table-main" *ngIf="IncidentReportStore.reportDetails?.incident_mapping?.issue_mapping?.issue?.data.length > 0">
                             <div class="row">
                                <div class="col-sm-12">
                                   <div class="full-width-table">
                                   <table class="table table-bordered ordinary-table audit-page-table mb-1 table-scroll">
                                      <thead>
                                         <tr>
                                           <th class="border-top-0 text-center" width="2%">#</th>
                                           <th class="border-top-0" width="8%">{{'ref_id' | translate}}</th>
                                           <th class="border-top-0" width="33%">{{'issue' | translate}}</th>
                                           <th class="border-top-0" width="10%">{{'issue_types' | translate}}</th>
                                           <th class="border-top-0" width="16%">{{'issue_categories' | translate}}</th>
                                           <th class="border-top-0" width="18%">{{'issue_domains' | translate}}</th>
                                           <th class="border-top-0" width="13%">{{'departments' | translate}}</th>
                                         </tr>
                                      </thead>
                                      <tbody>
                                         <tr *ngFor="let data of  IncidentReportStore.reportDetails?.incident_mapping.issue_mapping.issue.data;let num = index">
                                          <td  class="text-center">{{(IncidentReportStore.currentPage - 1) * IncidentReportStore.itemsPerPage + (num + 1)}}</td>
                                            <td>#{{data.reference_code}}</td>
                                            <td>{{data.title}}</td>

                                            <td><span *ngFor="let types of data.organization_issue_types"
                                               class="risk-type-bx risk-type-bx-drop"><i><img [attr.src]="types.title == 'Internal' ? 'assets/images/risk-type-icon.png' : 'assets/images/risk-type-icon-two.png'"> </i> {{types.title}}</span></td>
                                               <td>{{data.organization_issue_categories ?  data.organization_issue_categories[0]?.title :AppStore.noContentText }}</td>
                                               <td>{{data.organization_issue_domain ? data.organization_issue_domains[0]?.title : AppStore.noContentText}}</td>
                                               <td>{{data.organization_issue_departments ? data.organization_issue_domains[0]?.title : AppStore.noContentText}}</td>
                                         </tr>
                                        
                                      </tbody>
                                   </table>
                                 </div>
                                </div>
                             </div>
                          </div>

                          <h6>{{'projects' | translate}}</h6>
                          <p *ngIf="!IncidentReportStore.reportDetails?.incident_mapping?.project_mapping || IncidentReportStore.reportDetails?.incident_mapping?.project_mapping?.project?.data.length == 0">{{AppStore.noContentText}}</p>
                          <div class="audit-page-table-main" *ngIf="IncidentReportStore.reportDetails?.incident_mapping?.project_mapping?.project?.data.length > 0">
                             <div class="row">
                                <div class="col-sm-12">
                                   <div class="full-width-table">
                                   <table class="table table-bordered ordinary-table audit-page-table mb-1 table-scroll">
                                      <thead>
                                         <tr>
                                            <th class="border-top-0 text-center" width="2%">#</th>
                                            <th class="border-top-0" width="31%">{{'title' |
                                               translate}}</th>
                                           <th class="border-top-0" width="22%">{{'manager_name' |
                                               translate}}
                                           </th>
                                           <th class="border-top-0" width="9%">{{'member_count' |
                                               translate}}</th>
                                           <th class="border-top-0" width="19%">{{'location' | translate}}
                                           </th>
                                            <!-- <th class="border-top-0" width="13%">Department</th> -->
                                         </tr>
                                      </thead>
                                      <tbody>
                                         <tr *ngFor="let proj of  IncidentReportStore.reportDetails?.incident_mapping.project_mapping.project.data; let list=index">
                                           <td>{{list+1}}</td>
                                           <td> {{proj.title}}</td>
                                           <td> <div class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg" *ngIf="proj.project_manager?.first_name">
                                               <img
                                                   [attr.src]="proj.project_manager_image_token ? createImageUrls(proj.project_manager_image_token):getDefaultImage('user-logo')"
                                                   width="30px" height="30px" class="rounded-circle">
                                               
                                               <div>
                                                   <h6>{{proj.project_manager?.first_name}} {{proj.project_manager?.last_name}}</h6>
                                                   <!-- <span>{{proj.project_manager_designation?proj.project_manager_designation:AppStore.noContentText}} </span> -->
                                               </div>
                                           </div> 
                                           <p *ngIf="!proj.project_manager?.first_name">{{AppStore.noContentText}}</p>
                                       </td>
                                           <td>{{proj.member_count? proj.member_count :AppStore.noContentText  }}</td>
                                           <td>
                                               {{proj.location ? proj.location?.title:AppStore.noContentText}}  
                                           </td>
                                         </tr>
                                       
                                      </tbody>
                                   </table>
                                 </div>
                                </div>
                             </div>
                          </div>

                          <h6>{{'customers' | translate}}</h6>
                          <p *ngIf="!IncidentReportStore.reportDetails?.incident_mapping?.customer_mapping || IncidentReportStore.reportDetails?.incident_mapping?.customer_mapping?.customer?.data.length == 0">{{AppStore.noContentText}}</p>

                          <div class="audit-page-table-main" *ngIf="IncidentReportStore.reportDetails?.incident_mapping?.customer_mapping?.customer?.data.length > 0">
                            <div class="row">
                               <div class="col-sm-12">
                                  <div class="full-width-table">
                                  <table class="table table-bordered ordinary-table audit-page-table mb-1 table-scroll">
                                     <thead>
                                        <tr>
                                           <th class="border-top-0" width="3%">#
                                           </th>
                                           <th class="border-top-0" width="31%">{{'title' |
                                               translate}}</th>
                                           <th class="border-top-0" width="22%">{{'contact_person' |
                                               translate}}
                                           </th>
                                           <th class="border-top-0" width="15%">{{'address' |
                                               translate}}</th>
                                        </tr>
                                     </thead>
                                     <tbody>
                                        <tr *ngFor=" let cust of IncidentReportStore.reportDetails?.incident_mapping.customer_mapping.customer.data let list=index">
                                           <td>{{list+1}}</td>
                                           <td> {{cust.title ? cust.title :  AppStore.noContentText}}
                                           </td>
                                           <td>{{cust.contact_person?cust.contact_person:AppStore.noContentText}}
                                           </td>
                                           <td>
                                              {{cust.address?cust.address:AppStore.noContentText}}
                                          </td>
                                        </tr>
                                     </tbody>
                                  </table>
                                 </div>
                               </div>
                            </div>
                         </div>  

                        </div>
                     </div>

                  </div>
                </a>
             </li>
             <li class="pdf-pagination-li">
               <a class="pdf-pagination-a" >
                <div class="pdf-pagination pdf-img-section-btn">
                  <div class="report-frame">
                     <div class="introduction-page">


                        <h4 class="mb-3 mt-3">{{'investigator' | translate}}</h4>

                        <div class="row" *ngIf="IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data">
                            <div class="col-xl-3 col-lg-4 col-sm-12">
                               <div class="label-and-user-pic">
                                  <h6>{{'investigation_leader' | translate}}</h6>
                                  <div class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg">
                                      <!-- <img src="images/round-6.png" data-toggle="modal" data-target="#user301" data-ui-class="a-zoom" class="rounded-circle rounde-hov details-show-popup" width="35px" height="35px"> -->
                                      <!-- <app-user-popup-box [source]="assignUserValues(IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data)" [showName] = "true" ></app-user-popup-box> -->
                                      <img *ngIf="IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.image_token"
                                      [attr.src]="createImagePreview('user-profile-picture',IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.image_token)"
                                      width="40px" height="40px" class="rounded-circle"
                                      onerror="this.src='/assets/images/user-demo2.png'">
                                  <img *ngIf="!IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.image_token"
                                      [attr.src]="getDefaultImage('user-logo')" width="40px" height="40px"
                                      class="rounded-circle"
                                      onerror="this.src='/assets/images/user-demo2.png'">
                                      <div class="pointer new-size-text">
                                          <h6>{{IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.first_name? IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.first_name : AppStore.noContentText}} {{IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.last_name ? IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.last_name : AppStore.noContentText}}</h6>
                                          <span>{{IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.designation ? IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.designation?.title : AppStore.noContentText}}</span>
                                      </div>
                                  </div>
                              </div>
                            </div>
                         </div>


                         <div class="row" *ngIf="IncidentReportStore.reportDetails?.investigator?.team_members?.data.length > 0">
                            <div class="col-sm-12">
                               <h6>{{'team_members' | translate}}</h6>
                            </div>
                            <div class="col-xl-3 col-lg-4 col-sm-12 " *ngFor="let members of IncidentReportStore.reportDetails?.investigator?.team_members?.data">
                               <div class="label-and-user-pic edit-option">
        
                                  <div class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg">
                                      <!-- <img src="images/round-7.png" data-toggle="modal" data-target="#user312" data-ui-class="a-zoom" class="rounded-circle rounde-hov details-show-popup" width="35px" height="35px"> -->
                                      <!-- <app-user-popup-box [source]="assignUserValues(members)" [showName] = "true" ></app-user-popup-box> -->
                                      <img *ngIf="members.image_token"
                                      [attr.src]="createImagePreview('user-profile-picture',members.image_token)"
                                      width="40px" height="40px" class="rounded-circle"
                                      onerror="this.src='/assets/images/user-demo2.png'">
                                  <img *ngIf="!members.image_token"
                                      [attr.src]="getDefaultImage('user-logo')" width="40px" height="40px"
                                      class="rounded-circle"
                                      onerror="this.src='/assets/images/user-demo2.png'">
                  
                                      <div class="pointer new-size-text  ">
                                          <h6>{{members.first_name ? members.first_name : AppStore.noContentText }} {{members.last_name  ? members.last_name : AppStore.noContentText  }}  </h6>
                                          <span>{{members.designation ? members.designation?.title : AppStore.noContentText}}</span>
                                      </div>
                                     
                                  </div>
                              </div>
                            </div>
                         </div> 

                     </div>
                  </div>

                  </div>
               </a>
             </li>
             <li class="pdf-pagination-li">
               <a class="pdf-pagination-a" >
                <div class="pdf-pagination pdf-img-section-btn">
                  <div class="report-frame">
                     <div class="introduction-page">
                        <h4 class="mb-3 mt-3">{{'investigation' | translate}}</h4>
                        
                        <div class="row">
                                 <div class="col-sm-12 col-lg-8 padding-right-0">
                                    <div class="bg-white">
                                       <div class="issue-top-sec">
                                          <div class="clearfix">
                                             <h5 class="d-inline-block cmn-head-style label-tag-style"><span class="issue-smoal-head-text">#{{IncidentReportStore.reportDetails?.incident_investigation?.incident_reference_code.data ? IncidentReportStore.reportDetails?.incident_investigation?.incident_reference_code.data : AppStore.noContentText }}</span> {{IncidentReportStore.reportDetails?.incident_investigation?.title.data ? IncidentReportStore.reportDetails?.incident_investigation?.title.data : AppStore.noContentText }}<span class="border-left issue-smoal-head-text border-right-0 pl-2 ml-2">Personal Injury</span></h5>
                                          </div>
                                          <div class="clearfix">
                                             <p class="label-tag-style mb-2"><i class="fas fa-calendar-alt date-pics-two"></i> {{IncidentReportStore.reportDetails?.incident_investigation?.incident_at.data? (IncidentReportStore.reportDetails?.incident_investigation?.incident_at.data | date : OrganizationGeneralSettingsStore.organizationSettings?.date_time_format) :  AppStore.noContentText }}</p>
                                          </div>
                                          <p style="white-space: pre-wrap;">{{IncidentReportStore.reportDetails?.incident_investigation?.description?.data ? IncidentReportStore.reportDetails?.incident_investigation?.description?.data : AppStore.noContentText}}</p>
                                       </div>

                                       <div class="row">
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'reported_date_time' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.reported_at.data? (IncidentReportStore.reportDetails?.incident_investigation?.reported_at.data | date : OrganizationGeneralSettingsStore.organizationSettings?.date_time_format) :  AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'category' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_category?.data?.length > 0 ? IncidentReportStore.reportDetails?.incident_investigation?.incident_category.data[0].title : AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'incident_sub_category' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_sub_category?.data?.length > 0  ? IncidentReportStore.reportDetails?.incident_investigation?.incident_sub_category.data[0].title : AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <div class="label-and-user-pic">
                                                <h6>{{'reported_by' | translate}}</h6>
                                                <div class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg">
                                                    <!-- <img src="images/round-7.png" class="rounded-circle rounde-hov details-show-popup" width="35px" height="35px"> -->
                                                    
                                                    <div class="pointer new-size-text">
                                                        <h6>{{IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data?.first_name ? IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data?.first_name : AppStore.noContentText }} 
                                                            {{IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data?.last_name ? IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data?.last_name : AppStore.noContentText }}
                                                        </h6>
                                                        <!-- <span>{{IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data?.first_name ? IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data?.first_name : AppStore.noContentText }}</span> -->
                                                    </div>
                                                </div>
                                            </div>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'invoved_party' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_stakeholders?.data?.length > 0  ? IncidentReportStore.reportDetails?.incident_investigation?.incident_stakeholders.data[0].title : AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'subsidiary' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_organization?.data?.length > 0  ? IncidentReportStore.reportDetails?.incident_investigation?.incident_organization.data[0].title : AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'division' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_division?.data?.length > 0  ? IncidentReportStore.reportDetails?.incident_investigation?.incident_division.data[0].title : AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'department' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_department?.data?.length > 0  ? IncidentReportStore.reportDetails?.incident_investigation?.incident_department.data[0].title : AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'section' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_section?.data?.length > 0  ? IncidentReportStore.reportDetails?.incident_investigation?.incident_section.data[0].title : AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'sub_section' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_sub_section?.data?.length > 0  ? IncidentReportStore.reportDetails?.incident_investigation?.incident_sub_section.data[0].title : AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'action_taken' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.action_taken.data ? IncidentReportStore.reportDetails?.incident_investigation?.action_taken.data : AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'incident_root_cause' | translate}} </h6>
                                             <p *ngFor="let data of IncidentReportStore.reportDetails?.incident_investigation?.incident_root_cause?.data">{{data.title ? data.title : AppStore.noContentText}}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'were_safe_work_practices_being_used' | translate}}</h6>
                                             <p *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.were_safe_work_practices_being_used?.data == 1">Yes</p>
                                             <p *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.were_safe_work_practices_being_used?.data == 2">No</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'incident_damage_types' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_damage_types.data ? IncidentReportStore.reportDetails?.incident_investigation?.incident_damage_types.data.title : AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'incident_damage_severity' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_damage_severity.data ? IncidentReportStore.reportDetails?.incident_investigation?.incident_damage_severity.data.title : AppStore.noContentText }}</p>
                                          </div>

                                       </div>

                                       <div class="row">
                                          <div class="col-lg-6 col-sm-12">
                                             <h6>{{'incident_investigations' | translate}} </h6>
                                             <ul class="arrowlist pl-0 mt-2 mb-0">
                                                <li *ngFor="let data of IncidentReportStore.reportDetails?.incident_investigation?.points?.data">{{data.description}}</li>
                                                <li *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.points?.data.length == 0">{{AppStore.noContentText}}</li>
                                             </ul>
                                          </div>
                                          <div class="col-lg-6 col-sm-12">
                                             <h6>{{'significant_observations' | translate}} </h6>
                                             <ul class="arrowlist pl-0 mt-2 mb-0">
                                                <li *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.significant_observations?.data.length == 0">{{AppStore.noContentText}}</li>
                                                <li *ngFor="let data of IncidentReportStore.reportDetails?.incident_investigation?.significant_observations?.data">{{data.description}}</li>
                                             </ul>
                                          </div>
                                          <div class="col-lg-6 col-sm-12">
                                             <h6>{{'recommendations' | translate}} </h6>
                                             <ul class="arrowlist pl-0 mt-2 mb-0">
                                                <li *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.recommendations?.data.length == 0">{{AppStore.noContentText}}</li>
                                                <li *ngFor="let data of IncidentReportStore.reportDetails?.incident_investigation?.recommendations?.data">{{data.description}}</li>
                                             </ul>
                                          </div>
                                          <div class="col-lg-6 col-sm-12">
                                             <h6>{{'references' | translate}} </h6>
                                             <ul class="arrowlist pl-0 mt-2 mb-0">
                                                <li *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.references?.data.length == 0">{{AppStore.noContentText}}</li>
                                                <li *ngFor="let data of IncidentReportStore.reportDetails?.incident_investigation?.references?.data">{{data.description}}</li>
                                             </ul>
                                          </div>
                                       </div>

                                       <div class="row mt-3">
                                          <div class="col-sm-12">
                                             <h6>{{'evidence' | translate}}</h6>
                                             <p *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.incident_document?.data?.length==0">{{AppStore.noContentText}}</p>
                                             <div class="thumb-pics-bg thumb-pics-col-4 clearfix" *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.incident_document?.data?.length > 0">
                                              <div class="thumb-pics"
                                              *ngFor="let doc of IncidentReportStore.reportDetails?.incident_investigation?.incident_document?.data" (click)="viewIncidentDocument(doc)">
                                              <div class="upload-pics edit-option" *ngIf="AuthStore.getActivityPermission(1900,'PREVIEW_INCIDENT_DOCUMENT_FILE')">
                                                  <div class="browse-form-pic"
                                                      [ngStyle]="{'background': 'url(' + createImageUrl('investigation-item',doc.token) + '), url(' + getDefaultImage('no-preview') + ') no-repeat 0 0 / cover '}">
                                                  </div>
                                                  <div class="browse-form-name clearfix">
                                                      <div class="float-left">
                                                          <h6 [attr.title]="doc.title">
                                                              {{doc.title.length > 13 ? doc.title.substring(0,13)+'
                                                              ...': doc.title}}
                                                          </h6>
                                                          <span>{{doc.size/1048576 | number:'0.2-2'}}MB</span>
                                                      </div>
                                                      <div class="browse-logo">
                                                          <img *ngIf="checkExtension(doc.ext,'image') != -1"
                                                              src="/assets/images/md-jpg.png">
                                                          <img *ngIf="checkExtension(doc.ext,'doc') != -1"
                                                              src="/assets/images/word-icone.png">
                                                          <img *ngIf="checkExtension(doc.ext,'pdf') != -1"
                                                              src="/assets/images/pdf-icone.png">
                                                          <img *ngIf="checkExtension(doc.ext,'excel') != -1"
                                                              src="/assets/images/excel-icone.png">
                                                          <img *ngIf="checkExtension(doc.ext,'video') != -1"
                                                              src="/assets/images/md-video.png">
                                                          <img *ngIf="checkExtension(doc.ext,'audio') != -1"
                                                              src="/assets/images/md-audio.png">
                                                          <img *ngIf="checkExtension(doc.ext,'ppt') != -1"
                                                              src="/assets/images/md-ppt.png">
                                                      </div>
                                                  </div>
                                                  <div class="edit-option-show-inner" title="Download Document" *ngIf="AuthStore.getActivityPermission(1900,'DOWNLOAD_INCIDENT_DOCUMENT')">
                                                      <a><i class="fas fa-download" (click)="downloadAuditPlanDocument('downloadIncidentDocument',doc)"
                                                              ></i></a>
                                                  </div>
                                              </div>
                                          </div>
                                             </div>
                                          </div>
                                       </div>

                                       <div class="row">
                                         <div class="col-sm-12">
                                          <hr>
                                            <div class="d-flex flex-row user-list-sm">
                                     <img *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data.image_token"
                                      [attr.src]="createImagePreview('user-profile-picture',IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data?.image_token)"
                                      width="40px" height="40px" class="rounded-circle"
                                      onerror="this.src='/assets/images/user-demo2.png'">
                                  <img *ngIf="!IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data.image_token"
                                      [attr.src]="getDefaultImage('user-logo')" width="40px" height="40px"
                                      class="rounded-circle"
                                      onerror="this.src='/assets/images/user-demo2.png'">
                                              <div>
                                                <h6>{{IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data.first_name}} {{IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data.last_name}}</h6>
                                                <span>Project Manger | {{IncidentReportStore.reportDetails?.incident_investigation?.reported_at?.data}}</span>
                                              </div> 
                                            </div>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                                 <div class="col-sm-12 col-lg-4">
                                    
                                    <div class="risk-rating-box bg-white p-3 mb-3">
                                       <h5 class="cmn-head-style text-left">{{'person_involved' | translate}}</h5>
                                       <hr class="mt-0 mb-3">
                                          <h6 class="text-left">{{'employee' | translate}}</h6>
                                          <ul class="arci-user-tab-dtl workflow-lst-pics-loop clearfix">
                                             <li class="rounde-hov-bg" *ngFor = "let involved of IncidentReportStore.reportDetails?.incident_investigation?.incident_involved_users?.data; let isLast=last">
                                                <!-- <app-user-popup-box [source]="assignUserValues(involved)" [showName] = "false" ></app-user-popup-box>                                                                  -->
                                                <a>
                                                    <img *ngIf="involved.image_token"
                                      [attr.src]="createImagePreview('user-profile-picture',involved.image_token)"
                                      width="45px" height="45px" class="rounded-circle"
                                      onerror="this.src='/assets/images/user-demo2.png'">
                                  <img *ngIf="!involved.image_token"
                                      [attr.src]="getDefaultImage('user-logo')" width="45px" height="45px"
                                      class="rounded-circle"
                                      onerror="this.src='/assets/images/user-demo2.png'">
                                                </a> 

                                            </li>
                                         </ul>

                                         <h6 class="text-left mt-3">{{'others' | translate}}</h6>
                                         <div *ngIf="!moreData">
                                         <div *ngFor="let data of othersInvolved()" class="name-and-position name-and-position-bdr cmn-bdr text-left">
                                              <h6>{{data.name}} </h6>
                                              <span>{{data.designation}}</span>
                                         </div>
                                         <!-- <div class="name-and-position name-and-position-bdr cmn-bdr text-left">
                                              <h6>Samuel John </h6>
                                              <span>9809946365</span>
                                         </div> -->
                                         <a   (click)="showMore('more')" *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.incident_involved_other_users?.data.length > 2" class="view-more-pestel-box text-center">{{'view_more' | translate}}</a>
                                        </div>
                                        <div *ngIf="moreData">
                                            <div *ngFor="let data of IncidentReportStore.reportDetails?.incident_investigation?.incident_involved_other_users?.data" class="name-and-position name-and-position-bdr cmn-bdr text-left">
                                                <h6>{{data.name}} </h6>
                                                <span>{{data.designation}}</span>
                                           </div>
                                           <!-- <div class="name-and-position name-and-position-bdr cmn-bdr text-left">
                                                <h6>Samuel John </h6>
                                                <span>9809946365</span>
                                           </div> -->
                                           <a   (click)="showMore('less')"  class="view-more-pestel-box text-center">{{'view_less' | translate}}</a>
                                          </div>
                                        </div>
                                      <!-- </div> -->

                                      
                                    <div class="risk-rating-box bg-white p-3 mb-3">
                                       <h5 class="cmn-head-style text-left">{{'witness' | translate}}</h5>
                                       <hr class="mt-0 mb-3">
                                          <h6 class="text-left">{{'employee' | translate}}</h6>
                                          <ul class="arci-user-tab-dtl workflow-lst-pics-loop clearfix">
                                             <li class="rounde-hov-bg" *ngFor = "let witness of IncidentReportStore.reportDetails?.incident_investigation?.incident_witness_users?.data; let isLast=last">
                                                <a>
                                                    <img *ngIf="witness.image_token"
                                      [attr.src]="createImagePreview('user-profile-picture',witness.image_token)"
                                      width="45px" height="45px" class="rounded-circle"
                                      onerror="this.src='/assets/images/user-demo2.png'">
                                  <img *ngIf="!witness.image_token"
                                      [attr.src]="getDefaultImage('user-logo')" width="45px" height="45px"
                                      class="rounded-circle"
                                      onerror="this.src='/assets/images/user-demo2.png'">
                                                </a>                                                                  
                                             </li>
                                         </ul>

                                         <h6 class="text-left mt-3">{{'others' | translate}}</h6>
                                         <div *ngIf="!moreDataWitness">
                                         <div  *ngFor="let data of othersWitness()" class="name-and-position name-and-position-bdr cmn-bdr text-left">
                                              <h6>{{data.name}} </h6>
                                              <span>{{data.designation}}</span>
                                         </div>
                                   
                                         <a (click)="showMoreWitness('more')" *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.incident_witness_other_users?.data.length > 2"  class="view-more-pestel-box text-center">{{'view_more' | translate}}</a>
                                        </div>

                                        <div *ngIf="moreDataWitness">
                                            <div  *ngFor="let data of IncidentReportStore.reportDetails?.incident_investigation?.incident_witness_other_users?.data" class="name-and-position name-and-position-bdr cmn-bdr text-left">
                                                 <h6>{{data.name}} </h6>
                                                 <span>{{data.designation}}</span>
                                            </div>
                                      
                                            <a (click)="showMoreWitness('less')" class="view-more-pestel-box text-center">>{{'view_less' | translate}}</a>
                                           </div>
                                        
                                      </div>

                                      

                                 <!-- </div> -->

                                 </div>
                              </div>
                        

                     </div>
                  </div>

                  </div>
               </a>
             </li>
             <li class="pdf-pagination-li">
               <a class="pdf-pagination-a" >
                <div class="pdf-pagination pdf-img-section-btn">
                  <div class="report-frame acl-page">
                     <div class="introduction-page audit-program-box audit-page-table-main">

                          <h4 class="mt-2 mb-3">{{'root_cause_analysis' | translate}}</h4>

                              
                          <div class="stup-root-cause-main rca-tab-stup-root-cause-main bg-white p-0">
                           <div class="stup-root-cause pb-3 line-top-remove"><!-- one starts -->
                              <div class="clearfix">
                                 <div class="round-question-bg">
                                    <div class="round-question">
                                       <h2 class="pulse-effect">?</h2>
                                       <h5 class="round-question-exclamation-icon"><i class="fas fa-exclamation-triangle"></i></h5>
                                    </div>
                                 </div>
                                 <div class="round-question-details">
                                    <h6>{{IncidentReportStore.reportDetails?.incident_investigation?.title.data ? IncidentReportStore.reportDetails?.incident_investigation?.title.data : AppStore.noContentText }}</h6>
                                    <div class="created-info-sec created-info-sec-drop">
                                       <hr>
                                         <p style="white-space: pre-wrap;">{{IncidentReportStore.reportDetails?.incident_investigation?.description?.data ? IncidentReportStore.reportDetails?.incident_investigation?.description?.data : AppStore.noContentText}}</p>
                                     </div>
                                 </div>
                              </div>
                            </div><!-- one ends -->

                            <div class="stup-root-cause pb-3" *ngFor="let rootCause of IncidentReportStore.reportDetails?.root_cause_analysis?.root_cause_analysis?.data " ><!-- two starts -->
                              <div class="clearfix">
                                 <div class="round-question-bg">
                                    <div class="round-question">
                                       <h2 class="pulse-effect">?</h2>
                                       <h5>{{rootCause?.why}}</h5>
                                    </div>
                                 </div>
                                 <div class="round-question-details">
                                    <p style="white-space: pre-wrap;">{{rootCause?.description}}</p>
                                     
                                    <div class="row">
                                        <div class="col-lg-4 col-sm-6">
                                           <h6>{{'root_cause_category' | translate}}</h6>
                                           <p>{{rootCause?.root_cause_category?.title}}</p>
                                        </div>
                      
                                        <div class="col-lg-4 col-sm-6">
                                           <h6>{{'root_cause_sub_category' | translate}}</h6>
                                           <p>{{rootCause?.root_cause_sub_category?.title}}</p>
                                        </div>
                                     </div> 
                                    <div class="created-info-sec created-info-sec-drop">
                                       <hr>
                                         <div class="d-flex flex-row user-list-sm">
                                            <img [attr.src]="rootCause?.created_by?.image?.token ? createImageUrls(rootCause?.created_by?.image?.token) : getDefaultImage('user-logo')"
                                            width="40px" height="40px" class="rounded-circle">                                                           <div>
                                            <h6>{{rootCause?.created_by?.first_name}} {{rootCause?.created_by?.last_name}}</h6>
                                            <span>{{rootCause?.created_by?.designation}} | {{rootCause?.created_at | date : OrganizationGeneralSettingsStore.organizationSettings?.date_time_format}} </span>
                                          </div>
                                         </div>
                                     </div>
                                 </div>
                              </div>
                            </div><!-- two ends -->
                         </div>
                     </div>
                  </div>

                  </div>
                </a>
             </li>
             <li class="pdf-pagination-li">
               <a class="pdf-pagination-a" >
                <div class="pdf-pagination pdf-img-section-btn">
          
                  <div class="report-frame acl-page introduction-page">
                     <h4 class="mt-2 mb-3">{{'corrective_action' | translate}}</h4>

                     <div class="audit-program-box audit-page-table-main">
                       <div class="row">
                          <div class="col-sm-12">
                             <div class="full-width-table">
                             <table class="table table-bordered ordinary-table audit-page-table mb-1 table-scroll">
                                <thead>
                                    <tr>
                                        <th class="border-top-0" width="2%">#</th>
                                        <!-- <th class="border-top-0" width="6%">Ref. ID</th> -->
                                        <th style="width: 6%;" class="border-top-0 issue-list-org-tab-three pointer"  >
                                          <span>{{'ref_id' | translate}}</span>&nbsp;
                                        
                                      </th>
                                      <th style="width: 25%;" class="border-top-0 issue-list-org-tab-three pointer" >
                                        <span>{{'title' | translate}}</span>&nbsp;
                                    </th>
                                        <th class="border-top-0" width="15%">{{'responsible_user' | translate}} </th>
                              <th class="border-top-0 pointer" width="10%" >
                                 <span>{{'start_date' | translate}} </span>&nbsp;
                              </th>
                              <th class="border-top-0 pointer" width="10%" >
                                 <span>{{'target_date' | translate}}</span>&nbsp;
                              </th>
                              <!-- <th class="border-top-0 pointer" width="15%">{{'status' | translate}}</th> -->
      
                                     </tr>
                                   
                                </thead>
                                <tbody>
                                   <tr *ngFor="let row of IncidentReportStore.reportDetails?.corrective_action?.corrective_action?.data;let num=index" class="pointer edit-and-delete-main">
                                    <td >{{num + 1}}</td>
                                    <td >{{row.reference_code}}</td>
                                    <td >{{row.title}}</td>
                                    <td>
                                        <div class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg">
                                           <!-- <app-user-popup-box [source]="assignUserValues(row)" [showName] = "false" ></app-user-popup-box> -->
                                           <img *ngIf="row.responsible_user?.image?.token" data-toggle="modal" data-target="#user02" data-ui-class="a-zoom" [attr.src]="createImagePreview('user-profile-picture',row.responsible_user?.image?.token)"
                                             width="30px" height="30px" class="rounded-circle rounde-hov details-show-popup" onerror = "this.src='/assets/images/user-demo2.png'">
                                             <img *ngIf="!row.responsible_user?.image?.token"
                                                   [attr.src]="getDefaultImage('user-logo')" width="30px" height="30px"
                                                   class="rounded-circle" onerror = "this.src='/assets/images/user-demo2.png'">
                                           <div class="pointer">
                                              <h6>{{row.responsible_user?.first_name}} {{row.responsible_user?.last_name}}</h6>
                                              <span>{{row.responsible_user?.designation}}</span>
                                           </div>
                                        </div>
                                      </td>
                                       <td>{{row.start_date | date:
                                        OrganizationGeneralSettingsStore.organizationSettings?.date_format}}</td>
                                     <td>{{row.target_date | date:
                                        OrganizationGeneralSettingsStore.organizationSettings?.date_format}}
                                     </td>
                                   </tr>
                                </tbody>
                             </table>
                           </div>
                          </div>
                       </div>
                     </div>
                     
                  </div>
                  </div>
                </a>
             </li>
             <li class="pdf-pagination-li">
               <a class="pdf-pagination-a" >
                <div class="pdf-pagination pdf-img-section-btn">
                  <div class="report-frame">
                     <div class="row introduction-page">

                         <div class="col-lg-7 col-sm-12">
                             <div class="intro-right">

                                 <h4>{{'conclusion' | translate}}</h4>
                                 <p style="white-space: pre-line;">
                                     {{IncidentReportStore.reportDetails?.conclusion?.conclusion?.data ? IncidentReportStore.reportDetails?.conclusion?.conclusion?.data : AppStore.noContentText }}</p>
                             </div>

                         </div>

                         <div class="col-lg-5 col-sm-12">

                             <img *ngIf="IncidentReportStore.reportDetails?.conclusion?.image?.data?.token"
                             [attr.src]="createImagePreview('conclusion-bg',IncidentReportStore.reportDetails?.conclusion?.image?.data?.token)"
                             class="img-fluid w-100"
                             onerror="this.src='/assets/images/thankyou-img.jpg'">
                         <img *ngIf="!IncidentReportStore.reportDetails?.conclusion?.image?.data?.token"
                             src="assets/images/thankyou-img.jpg" class="img-fluid" />
                         </div>



                     </div>
                 </div>

                  </div>
                </a>
             </li>
             <li class="pdf-pagination-li">
               <a class="pdf-pagination-a" >
               <div class="pdf-pagination pdf-img-section-btn">
                     <div class="introduction-page intro-right widg-padding-cmn">
                         <h4>4. Audit Universe</h4>

                         <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

                         <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident.</p>
                         
                         <h4>4. Audit Universe</h4>

                         <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

                         <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident.</p>
                         
                      </div>

                  </div>
               </a>
            </li>
         </ul>

         <!-- <div class="pdf-right-contents target"> -->
         <div class="pdf-right-contents main-container">

            

            <div class="maindiv">
             <div class="holder" id="1" (click)="scrollbyIndex(1)">
               
                <div class="pdf-page-inner-new-content">
                  <div class="pdf-page-section widg-padding-cmn-small" style="background: #E7FFF4;">
                     <div class="report-frame-front">
    
                        <div class="report-front-page"
                            [style.background]="IncidentReportStore.reportDetails?.incident_cover_page?.background?.data ? 'url(' + createImagePreview('cover-bg-incident',IncidentReportStore.reportDetails?.incident_cover_page?.background?.data?.token) + ') no-repeat 0 0' :  'url(assets/images/w-welcome-screen.jpg)'">

                            <div class="header-report p-5">

                                <div class="row">

                                    <div class="col-md-6">
                                        <img src="assets/images/r-excelledia-logo.png" class="img-fluid" class="img-fluid " />
                                             

                                    </div>


                                    <!-- <div class="col-md-6 text-right">
                                        <img *ngIf="AuditReportsStore.reportDetails?.cover_page?.cover_logo"
                                        [attr.src]="createImagePreview('cover-logo',AuditReportsStore.reportDetails?.cover_page?.cover_logo?.token)"
                                        class="img-fluid"
                                        onerror="this.src='/assets/images/r-excelledia-logo.png'">
                                    <img *ngIf="!AuditReportsStore.reportDetails?.cover_page?.cover_logo"
                                        src="assets/images/logo.png" class="img-fluid" />
                                       
                                    </div> -->

                                </div>

                            </div>

                            <div class="front-report-tytle-section">
                                <h3>{{IncidentReportStore.reportDetails?.incident_cover_page?.title?.data}}</h3>
                                <p>{{IncidentReportStore.reportDetails?.incident_cover_page?.date?.data | date : OrganizationGeneralSettingsStore.organizationSettings?.date_time_format}}</p>
                                <hr>
                                <div class="d-flex flex-row user-list-sm">
                                    <img *ngIf="IncidentReportStore.reportDetails?.incident_cover_page?.created_by?.image?.token"
                                        [attr.src]="createImagePreview('user-profile-picture',IncidentReportStore.reportDetails?.incident_cover_page?.created_by?.image?.token)"
                                        width="40px" height="40px" class="rounded-circle"
                                        onerror="this.src='/assets/images/user-demo2.png'">
                                    <img *ngIf="!IncidentReportStore.reportDetails?.incident_cover_page?.created_by?.image?.token"
                                        [attr.src]="getDefaultImage('user-logo')" width="40px" height="40px"
                                        class="rounded-circle"
                                        onerror="this.src='/assets/images/user-demo2.png'">
                                    <div>
                                        <h6>{{IncidentReportStore.reportDetails?.incident_cover_page?.created_by?.first_name}}&nbsp;
                                            {{IncidentReportStore.reportDetails?.incident_cover_page?.created_by?.last_name}}
                                        </h6>
                                        <span>{{IncidentReportStore.reportDetails?.incident_cover_page?.created_by?.designation}}
                                            | {{IncidentReportStore.reportDetails?.incident_cover_page?.date?.data | date : OrganizationGeneralSettingsStore.organizationSettings?.date_time_format}}</span>
                                    </div>
                                </div>
     
                             </div>

                        </div>


                    </div>
                  </div>
               </div>
               
             </div>
             <div class="holder" id="2" (click)="scrollbyIndex(2)">
                <div class="pdf-page-inner-new-content not-target">

                  <div class="report-frame">
                     <div class="row">
                         <div class="col-md-8 relative">

                             <div class="sm-logo-lt"> <img src="assets/images/r-excelledia-logo.png"
                                     width="120d" class="img-fluid" /> </div>
                             <img src="assets/images/content-img.jpg" class="img-fluid" />
                         </div>
                         <div class="col-md-4">
                             <div class="row mt-5 pt-5 pl-5 ml-3">
                                 <div class="col-md-12">
                                     <h3 class="mb-3 font-weight-bold">Index</h3>
                                 </div>
                                 <ng-container
                                     *ngFor="let content of IncidentReportStore.reportDetails?.index_page?.index_details">
                                     <div class="col-lg-8 col-sm-10">
                                         <p>{{content.title}}</p>

                                     </div>

                                     <div class="col-lg-4 col-sm-2">
                                         <p>{{content.page_number}}</p>

                                     </div>

                                 </ng-container>



                             </div>


                         </div>


                     </div>

                 </div>
                </div>
                <!-- <div class="report-page-nbr">
                  <p class="text-black mb-0">2/10</p>
               </div> -->
             </div>
             <div class="holder" id="3" (click)="scrollbyIndex(3)">
                <div class="pdf-page-inner-new-content">
                   
              
                  <div class="report-frame">
                     <div class="row introduction-page">

                         <div class="col-lg-4 col-sm-12">

                             <div class="sm-logo-lt"> <img src="assets/images/r-excelledia-logo.png"
                                     width="120" class="img-fluid" /> </div>
                             <div class="sm-logo-lb"> <img src="assets/images/logo.png" width="120"
                                     class="img-fluid" />
                             </div>
                             <img src="assets/images/long-image.jpg" class="img-fluid w-100" />

                         </div>

                         <div class="col-lg-8 col-sm-12">
                             <div class="intro-right pt-5">
                                 <h4>{{'introduction' | translate}}</h4>

                                 <p style="white-space: pre-line">
                                     {{IncidentReportStore.reportDetails?.introduction?.introduction?.data}}</p>


                             </div>

                         </div>

                     </div>
                 </div>

                </div>
                <!-- <div class="report-page-nbr">
                  <p class="text-black mb-0">3/10</p>
               </div> -->
             </div>
             <div class="holder" id="4" (click)="scrollbyIndex(4)">
                <div class="pdf-page-inner-new-content">
                  <div class="report-frame">
                     <div class="introduction-page">
                        <h4 class="mt-2 mb-3">{{'incident_mapping' | translate}}</h4>

                        

                        <h6>{{'process' | translate}}</h6>
                        <p *ngIf="!IncidentReportStore.reportDetails?.incident_mapping?.process_mapping || IncidentReportStore.reportDetails?.incident_mapping?.process_mapping?.process?.data.length == 0">{{AppStore.noContentText}}</p>

                        <div class="audit-page-table-main" *ngIf="IncidentReportStore.reportDetails?.incident_mapping?.process_mapping?.process?.data.length > 0">
                          <div class="row">
                             <div class="col-sm-12">
                                <div class="full-width-table">
                                <table class="table table-bordered ordinary-table audit-page-table mb-1 table-scroll">
                                   <thead>
                                      <tr>
                                         <th class="border-top-0 text-center" width="2%">#</th>
                                         <th class="border-top-0" width="8%">{{'ref_id' | translate}}</th>
                                         <th class="border-top-0" width="23%">{{'process_group' | translate}}</th>
                                         <th class="border-top-0" width="20%">{{'process' | translate}}</th>
                                         <th class="border-top-0" width="16%">{{'process_category' | translate}}</th>
                                         <th class="border-top-0" width="18%">{{'departments' | translate}}</th>
                                         <!-- <th class="border-top-0" width="13%">Incident Rating</th> -->
                                      </tr>
                                   </thead>
                                   <tbody>
                                      <tr *ngFor=" let data of IncidentReportStore.reportDetails?.incident_mapping.process_mapping.process.data">
                                         <td class="text-center">1</td>
                                         <td>#{{data.reference_code}}</td>
                                         <td>{{data.process_group?.title}}</td>
                                         <td>{{data.title}}</td>
                                         <td>{{data.process_category?.title}} </td>
                                         <td>{{data.department?.title}}</td>
                                         <!-- <td><div class="dot-div red-dot">{{data.reference_code}}</div></td> -->
                                      </tr>
                                   </tbody>
                                </table>
                              </div>
                             </div>
                          </div>
                       </div>


                       <h6>{{'issues' | translate}}</h6>
                       <p *ngIf="!IncidentReportStore.reportDetails?.incident_mapping?.issue_mapping || IncidentReportStore.reportDetails?.incident_mapping?.issue_mapping?.issue?.data.length == 0">{{AppStore.noContentText}}</p>

                       <div class="audit-page-table-main" *ngIf="IncidentReportStore.reportDetails?.incident_mapping?.issue_mapping?.issue?.data.length > 0">
                          <div class="row">
                             <div class="col-sm-12">
                                <div class="full-width-table">
                                <table class="table table-bordered ordinary-table audit-page-table mb-1 table-scroll">
                                   <thead>
                                      <tr>
                                        <th class="border-top-0 text-center" width="2%">#</th>
                                        <th class="border-top-0" width="8%">{{'ref_id' | translate}}</th>
                                        <th class="border-top-0" width="33%">{{'issue' | translate}}</th>
                                        <th class="border-top-0" width="10%">{{'issue_types' | translate}}</th>
                                        <th class="border-top-0" width="16%">{{'issue_categories' | translate}}</th>
                                        <th class="border-top-0" width="18%">{{'issue_domains' | translate}}</th>
                                        <th class="border-top-0" width="13%">{{'departments' | translate}}</th>
                                      </tr>
                                   </thead>
                                   <tbody>
                                      <tr *ngFor="let data of  IncidentReportStore.reportDetails?.incident_mapping.issue_mapping.issue.data;let num = index">
                                       <td  class="text-center">{{(IncidentReportStore.currentPage - 1) * IncidentReportStore.itemsPerPage + (num + 1)}}</td>
                                         <td>#{{data.reference_code}}</td>
                                         <td>{{data.title}}</td>

                                         <td><span *ngFor="let types of data.organization_issue_types"
                                            class="risk-type-bx risk-type-bx-drop"><i><img [attr.src]="types.title == 'Internal' ? 'assets/images/risk-type-icon.png' : 'assets/images/risk-type-icon-two.png'"> </i> {{types.title}}</span></td>
                                            <td>{{data.organization_issue_categories ?  data.organization_issue_categories[0]?.title :AppStore.noContentText }}</td>
                                            <td>{{data.organization_issue_domain ? data.organization_issue_domains[0]?.title : AppStore.noContentText}}</td>
                                            <td>{{data.organization_issue_departments ? data.organization_issue_domains[0]?.title : AppStore.noContentText}}</td>
                                      </tr>
                                     
                                   </tbody>
                                </table>
                              </div>
                             </div>
                          </div>
                       </div>

                       <h6>{{'projects' | translate}}</h6>
                       <p *ngIf="!IncidentReportStore.reportDetails?.incident_mapping?.project_mapping || IncidentReportStore.reportDetails?.incident_mapping?.project_mapping?.project?.data.length == 0">{{AppStore.noContentText}}</p>
                       <div class="audit-page-table-main" *ngIf="IncidentReportStore.reportDetails?.incident_mapping?.project_mapping?.project?.data.length > 0">
                          <div class="row">
                             <div class="col-sm-12">
                                <div class="full-width-table">
                                <table class="table table-bordered ordinary-table audit-page-table mb-1 table-scroll">
                                   <thead>
                                      <tr>
                                         <th class="border-top-0 text-center" width="2%">#</th>
                                         <th class="border-top-0" width="31%">{{'title' |
                                            translate}}</th>
                                        <th class="border-top-0" width="22%">{{'manager_name' |
                                            translate}}
                                        </th>
                                        <th class="border-top-0" width="9%">{{'member_count' |
                                            translate}}</th>
                                        <th class="border-top-0" width="19%">{{'location' | translate}}
                                        </th>
                                         <!-- <th class="border-top-0" width="13%">Department</th> -->
                                      </tr>
                                   </thead>
                                   <tbody>
                                      <tr *ngFor="let proj of  IncidentReportStore.reportDetails?.incident_mapping.project_mapping.project.data; let list=index">
                                        <td>{{list+1}}</td>
                                        <td> {{proj.title}}</td>
                                        <td> <div class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg" *ngIf="proj.project_manager?.first_name">
                                            <img
                                                [attr.src]="proj.project_manager_image_token ? createImageUrls(proj.project_manager_image_token):getDefaultImage('user-logo')"
                                                width="30px" height="30px" class="rounded-circle">
                                            
                                            <div>
                                                <h6>{{proj.project_manager?.first_name}} {{proj.project_manager?.last_name}}</h6>
                                                <!-- <span>{{proj.project_manager_designation?proj.project_manager_designation:AppStore.noContentText}} </span> -->
                                            </div>
                                        </div> 
                                        <p *ngIf="!proj.project_manager?.first_name">{{AppStore.noContentText}}</p>
                                    </td>
                                        <td>{{proj.member_count? proj.member_count :AppStore.noContentText  }}</td>
                                        <td>
                                            {{proj.location ? proj.location?.title:AppStore.noContentText}}  
                                        </td>
                                      </tr>
                                    
                                   </tbody>
                                </table>
                              </div>
                             </div>
                          </div>
                       </div>

                       <h6>{{'customers' | translate}}</h6>
                       <p *ngIf="!IncidentReportStore.reportDetails?.incident_mapping?.customer_mapping || IncidentReportStore.reportDetails?.incident_mapping?.customer_mapping?.customer?.data.length == 0">{{AppStore.noContentText}}</p>

                       <div class="audit-page-table-main" *ngIf="IncidentReportStore.reportDetails?.incident_mapping?.customer_mapping?.customer?.data.length > 0">
                         <div class="row">
                            <div class="col-sm-12">
                               <div class="full-width-table">
                               <table class="table table-bordered ordinary-table audit-page-table mb-1 table-scroll">
                                  <thead>
                                     <tr>
                                        <th class="border-top-0" width="3%">#
                                        </th>
                                        <th class="border-top-0" width="31%">{{'title' |
                                            translate}}</th>
                                        <th class="border-top-0" width="22%">{{'contact_person' |
                                            translate}}
                                        </th>
                                        <th class="border-top-0" width="15%">{{'address' |
                                            translate}}</th>
                                     </tr>
                                  </thead>
                                  <tbody>
                                     <tr *ngFor=" let cust of IncidentReportStore.reportDetails?.incident_mapping.customer_mapping.customer.data let list=index">
                                        <td>{{list+1}}</td>
                                        <td> {{cust.title ? cust.title :  AppStore.noContentText}}
                                        </td>
                                        <td>{{cust.contact_person?cust.contact_person:AppStore.noContentText}}
                                        </td>
                                        <td>
                                           {{cust.address?cust.address:AppStore.noContentText}}
                                       </td>
                                     </tr>
                                  </tbody>
                               </table>
                              </div>
                            </div>
                         </div>
                      </div>

                     </div>
                  </div>
                </div>
                <!-- <div class="report-page-nbr">
                  <p class="text-black mb-0">4/10</p>
               </div> -->
             </div>
             <div class="holder" id="5" (click)="scrollbyIndex(5)">
                <div class="pdf-page-inner-new-content">
                 <div class="report-frame">
                                     <div class="introduction-page">
          
          
                                        <h4 class="mb-3 mt-3">{{'investigator' | translate}}</h4>
          
                                        <div class="row" *ngIf="IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data">
                                            <div class="col-xl-3 col-lg-4 col-sm-12">
                                               <div class="label-and-user-pic">
                                                  <h6>{{'investigation_leader' | translate}}</h6>
                                                  <div class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg">
                                                      <!-- <img src="images/round-6.png" data-toggle="modal" data-target="#user301" data-ui-class="a-zoom" class="rounded-circle rounde-hov details-show-popup" width="35px" height="35px"> -->
                                                      <!-- <app-user-popup-box [source]="assignUserValues(IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data)" [showName] = "true" ></app-user-popup-box> -->
                                                      <img *ngIf="IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.image_token"
                                                      [attr.src]="createImagePreview('user-profile-picture',IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.image_token)"
                                                      width="40px" height="40px" class="rounded-circle"
                                                      onerror="this.src='/assets/images/user-demo2.png'">
                                                  <img *ngIf="!IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.image_token"
                                                      [attr.src]="getDefaultImage('user-logo')" width="40px" height="40px"
                                                      class="rounded-circle"
                                                      onerror="this.src='/assets/images/user-demo2.png'">
                                                      <div class="pointer new-size-text">
                                                          <h6>{{IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.first_name? IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.first_name : AppStore.noContentText}} {{IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.last_name ? IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.last_name : AppStore.noContentText}}</h6>
                                                          <span>{{IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.designation ? IncidentReportStore.reportDetails?.investigator?.investigation_leader?.data?.designation?.title : AppStore.noContentText}}</span>
                                                      </div>
                                                  </div>
                                              </div>
                                            </div>
                                         </div>
          
          
                                         <div class="row" *ngIf="IncidentReportStore.reportDetails?.investigator?.team_members?.data.length > 0">
                                            <div class="col-sm-12">
                                               <h6>{{'team_members' | translate}}</h6>
                                            </div>
                                            <div class="col-xl-3 col-lg-4 col-sm-12 " *ngFor="let members of IncidentReportStore.reportDetails?.investigator?.team_members?.data">
                                               <div class="label-and-user-pic edit-option">
                        
                                                  <div class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg">
                                                      <!-- <img src="images/round-7.png" data-toggle="modal" data-target="#user312" data-ui-class="a-zoom" class="rounded-circle rounde-hov details-show-popup" width="35px" height="35px"> -->
                                                      <!-- <app-user-popup-box [source]="assignUserValues(members)" [showName] = "true" ></app-user-popup-box> -->
                                                      <img *ngIf="members.image_token"
                                                      [attr.src]="createImagePreview('user-profile-picture',members.image_token)"
                                                      width="40px" height="40px" class="rounded-circle"
                                                      onerror="this.src='/assets/images/user-demo2.png'">
                                                  <img *ngIf="!members.image_token"
                                                      [attr.src]="getDefaultImage('user-logo')" width="40px" height="40px"
                                                      class="rounded-circle"
                                                      onerror="this.src='/assets/images/user-demo2.png'">
                                  
                                                      <div class="pointer new-size-text  ">
                                                          <h6>{{members.first_name ? members.first_name : AppStore.noContentText }} {{members.last_name  ? members.last_name : AppStore.noContentText  }}  </h6>
                                                          <span>{{members.designation ? members.designation?.title : AppStore.noContentText}}</span>
                                                      </div>
                                                     
                                                  </div>
                                              </div>
                                            </div>
                                         </div>
          
                                     </div>
                                  </div>
                </div>
                <!-- <div class="report-page-nbr">
                  <p class="text-black mb-0">5/10</p>
               </div> -->
             </div>
             <div class="holder" id="6" (click)="scrollbyIndex(6)">
                <div class="pdf-page-inner-new-content">
                  <div class="report-frame">
                     <div class="introduction-page">
                        <h4 class="mb-3 mt-3">{{'investigation' | translate}}</h4>
                        
                        <div class="row">
                                 <div class="col-sm-12 col-lg-8 padding-right-0">
                                    <div class="bg-white">
                                       <div class="issue-top-sec">
                                          <div class="clearfix">
                                             <h5 class="d-inline-block cmn-head-style label-tag-style"><span class="issue-smoal-head-text">#{{IncidentReportStore.reportDetails?.incident_investigation?.incident_reference_code.data ? IncidentReportStore.reportDetails?.incident_investigation?.incident_reference_code.data : AppStore.noContentText }}</span> {{IncidentReportStore.reportDetails?.incident_investigation?.title.data ? IncidentReportStore.reportDetails?.incident_investigation?.title.data : AppStore.noContentText }}<span class="border-left issue-smoal-head-text border-right-0 pl-2 ml-2">Personal Injury</span></h5>
                                          </div>
                                          <div class="clearfix">
                                             <p class="label-tag-style mb-2"><i class="fas fa-calendar-alt date-pics-two"></i> {{IncidentReportStore.reportDetails?.incident_investigation?.incident_at.data? (IncidentReportStore.reportDetails?.incident_investigation?.incident_at.data | date : OrganizationGeneralSettingsStore.organizationSettings?.date_time_format) :  AppStore.noContentText }}</p>
                                          </div>
                                          <p style="white-space: pre-wrap;">{{IncidentReportStore.reportDetails?.incident_investigation?.description?.data ? IncidentReportStore.reportDetails?.incident_investigation?.description?.data : AppStore.noContentText}}</p>
                                       </div>

                                       <div class="row">
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'reported_date_time' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.reported_at.data? (IncidentReportStore.reportDetails?.incident_investigation?.reported_at.data | date : OrganizationGeneralSettingsStore.organizationSettings?.date_time_format) :  AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'category' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_category?.data?.length > 0 ? IncidentReportStore.reportDetails?.incident_investigation?.incident_category.data[0].title : AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'incident_sub_category' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_sub_category?.data?.length > 0  ? IncidentReportStore.reportDetails?.incident_investigation?.incident_sub_category.data[0].title : AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <div class="label-and-user-pic">
                                                <h6>{{'reported_by' | translate}}</h6>
                                                <div class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg">
                                                    <!-- <img src="images/round-7.png" class="rounded-circle rounde-hov details-show-popup" width="35px" height="35px"> -->
                                                    
                                                    <div class="pointer new-size-text">
                                                        <h6>{{IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data?.first_name ? IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data?.first_name : AppStore.noContentText }} 
                                                            {{IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data?.last_name ? IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data?.last_name : AppStore.noContentText }}
                                                        </h6>
                                                        <!-- <span>{{IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data?.first_name ? IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data?.first_name : AppStore.noContentText }}</span> -->
                                                    </div>
                                                </div>
                                            </div>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'invoved_party' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_stakeholders?.data?.length > 0  ? IncidentReportStore.reportDetails?.incident_investigation?.incident_stakeholders.data[0].title : AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'subsidiary' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_organization?.data?.length > 0  ? IncidentReportStore.reportDetails?.incident_investigation?.incident_organization.data[0].title : AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'division' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_division?.data?.length > 0  ? IncidentReportStore.reportDetails?.incident_investigation?.incident_division.data[0].title : AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'department' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_department?.data?.length > 0  ? IncidentReportStore.reportDetails?.incident_investigation?.incident_department.data[0].title : AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'section' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_section?.data?.length > 0  ? IncidentReportStore.reportDetails?.incident_investigation?.incident_section.data[0].title : AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'sub_section' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_sub_section?.data?.length > 0  ? IncidentReportStore.reportDetails?.incident_investigation?.incident_sub_section.data[0].title : AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'action_taken' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.action_taken.data ? IncidentReportStore.reportDetails?.incident_investigation?.action_taken.data : AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'incident_root_cause' | translate}} </h6>
                                             <p *ngFor="let data of IncidentReportStore.reportDetails?.incident_investigation?.incident_root_cause?.data">{{data.title ? data.title : AppStore.noContentText}}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'were_safe_work_practices_being_used' | translate}}</h6>
                                             <p *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.were_safe_work_practices_being_used?.data == 1">Yes</p>
                                             <p *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.were_safe_work_practices_being_used?.data == 2">No</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'incident_damage_types' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_damage_types.data ? IncidentReportStore.reportDetails?.incident_investigation?.incident_damage_types.data.title : AppStore.noContentText }}</p>
                                          </div>
                                          <div class="col-lg-4 col-sm-6">
                                             <h6>{{'incident_damage_severity' | translate}}</h6>
                                             <p>{{IncidentReportStore.reportDetails?.incident_investigation?.incident_damage_severity.data ? IncidentReportStore.reportDetails?.incident_investigation?.incident_damage_severity.data.title : AppStore.noContentText }}</p>
                                          </div>

                                       </div>

                                       <div class="row">
                                          <div class="col-lg-6 col-sm-12">
                                             <h6>{{'incident_investigations' | translate}} </h6>
                                             <ul class="arrowlist pl-0 mt-2 mb-0">
                                                <li *ngFor="let data of IncidentReportStore.reportDetails?.incident_investigation?.points?.data">{{data.description}}</li>
                                                <li *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.points?.data.length == 0">{{AppStore.noContentText}}</li>
                                             </ul>
                                          </div>
                                          <div class="col-lg-6 col-sm-12">
                                             <h6>{{'significant_observations' | translate}} </h6>
                                             <ul class="arrowlist pl-0 mt-2 mb-0">
                                                <li *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.significant_observations?.data.length == 0">{{AppStore.noContentText}}</li>
                                                <li *ngFor="let data of IncidentReportStore.reportDetails?.incident_investigation?.significant_observations?.data">{{data.description}}</li>
                                             </ul>
                                          </div>
                                          <div class="col-lg-6 col-sm-12">
                                             <h6>{{'recommendations' | translate}} </h6>
                                             <ul class="arrowlist pl-0 mt-2 mb-0">
                                                <li *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.recommendations?.data.length == 0">{{AppStore.noContentText}}</li>
                                                <li *ngFor="let data of IncidentReportStore.reportDetails?.incident_investigation?.recommendations?.data">{{data.description}}</li>
                                             </ul>
                                          </div>
                                          <div class="col-lg-6 col-sm-12">
                                             <h6>{{'references' | translate}} </h6>
                                             <ul class="arrowlist pl-0 mt-2 mb-0">
                                                <li *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.references?.data.length == 0">{{AppStore.noContentText}}</li>
                                                <li *ngFor="let data of IncidentReportStore.reportDetails?.incident_investigation?.references?.data">{{data.description}}</li>
                                             </ul>
                                          </div>
                                       </div>

                                       <div class="row mt-3">
                                          <div class="col-sm-12">
                                             <h6>{{'evidence' | translate}}</h6>
                                             <p *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.incident_document?.data?.length==0">{{AppStore.noContentText}}</p>
                                             <div class="thumb-pics-bg thumb-pics-col-4 clearfix" *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.incident_document?.data?.length > 0">
                                              <div class="thumb-pics"
                                              *ngFor="let doc of IncidentReportStore.reportDetails?.incident_investigation?.incident_document?.data" (click)="viewIncidentDocument(doc)">
                                              <div class="upload-pics edit-option" *ngIf="AuthStore.getActivityPermission(1900,'PREVIEW_INCIDENT_DOCUMENT_FILE')">
                                                  <div class="browse-form-pic"
                                                      [ngStyle]="{'background': 'url(' + createImageUrl('investigation-item',doc.token) + '), url(' + getDefaultImage('no-preview') + ') no-repeat 0 0 / cover '}">
                                                  </div>
                                                  <div class="browse-form-name clearfix">
                                                      <div class="float-left">
                                                          <h6 [attr.title]="doc.title">
                                                              {{doc.title.length > 13 ? doc.title.substring(0,13)+'
                                                              ...': doc.title}}
                                                          </h6>
                                                          <span>{{doc.size/1048576 | number:'0.2-2'}}MB</span>
                                                      </div>
                                                      <div class="browse-logo">
                                                          <img *ngIf="checkExtension(doc.ext,'image') != -1"
                                                              src="/assets/images/md-jpg.png">
                                                          <img *ngIf="checkExtension(doc.ext,'doc') != -1"
                                                              src="/assets/images/word-icone.png">
                                                          <img *ngIf="checkExtension(doc.ext,'pdf') != -1"
                                                              src="/assets/images/pdf-icone.png">
                                                          <img *ngIf="checkExtension(doc.ext,'excel') != -1"
                                                              src="/assets/images/excel-icone.png">
                                                          <img *ngIf="checkExtension(doc.ext,'video') != -1"
                                                              src="/assets/images/md-video.png">
                                                          <img *ngIf="checkExtension(doc.ext,'audio') != -1"
                                                              src="/assets/images/md-audio.png">
                                                          <img *ngIf="checkExtension(doc.ext,'ppt') != -1"
                                                              src="/assets/images/md-ppt.png">
                                                      </div>
                                                  </div>
                                                  <div class="edit-option-show-inner" title="Download Document" *ngIf="AuthStore.getActivityPermission(1900,'DOWNLOAD_INCIDENT_DOCUMENT')">
                                                      <a><i class="fas fa-download" (click)="downloadAuditPlanDocument('downloadIncidentDocument',doc)"
                                                              ></i></a>
                                                  </div>
                                              </div>
                                          </div>
                                             </div>
                                          </div>
                                       </div>

                                       <div class="row">
                                         <div class="col-sm-12">
                                          <hr>
                                            <div class="d-flex flex-row user-list-sm">
                                     <img *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data.image_token"
                                      [attr.src]="createImagePreview('user-profile-picture',IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data?.image_token)"
                                      width="40px" height="40px" class="rounded-circle"
                                      onerror="this.src='/assets/images/user-demo2.png'">
                                  <img *ngIf="!IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data.image_token"
                                      [attr.src]="getDefaultImage('user-logo')" width="40px" height="40px"
                                      class="rounded-circle"
                                      onerror="this.src='/assets/images/user-demo2.png'">
                                              <div>
                                                <h6>{{IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data.first_name}} {{IncidentReportStore.reportDetails?.incident_investigation?.reported_by?.data.last_name}}</h6>
                                                <span>Project Manger | {{IncidentReportStore.reportDetails?.incident_investigation?.reported_at?.data}}</span>
                                              </div> 
                                            </div>
                                          </div>
                                       </div> 

                                    </div>
                                 </div>
                                 <div class="col-sm-12 col-lg-4">
                                    
                                    <div class="risk-rating-box bg-white p-3 mb-3">
                                       <h5 class="cmn-head-style text-left">{{'person_involved' | translate}}</h5>
                                       <hr class="mt-0 mb-3">
                                          <h6 class="text-left">{{'employee' | translate}}</h6>
                                          <ul class="arci-user-tab-dtl workflow-lst-pics-loop clearfix">
                                             <li class="rounde-hov-bg" *ngFor = "let involved of IncidentReportStore.reportDetails?.incident_investigation?.incident_involved_users?.data; let isLast=last">
                                                <!-- <app-user-popup-box [source]="assignUserValues(involved)" [showName] = "false" ></app-user-popup-box>                                                                  -->
                                                <a>
                                                    <img *ngIf="involved.image_token"
                                      [attr.src]="createImagePreview('user-profile-picture',involved.image_token)"
                                      width="45px" height="45px" class="rounded-circle"
                                      onerror="this.src='/assets/images/user-demo2.png'">
                                  <img *ngIf="!involved.image_token"
                                      [attr.src]="getDefaultImage('user-logo')" width="45px" height="45px"
                                      class="rounded-circle"
                                      onerror="this.src='/assets/images/user-demo2.png'">
                                                </a> 

                                            </li>
                                         </ul>

                                         <h6 class="text-left mt-3">{{'others' | translate}}</h6>
                                         <div *ngIf="!moreData">
                                         <div *ngFor="let data of othersInvolved()" class="name-and-position name-and-position-bdr cmn-bdr text-left">
                                              <h6>{{data.name}} </h6>
                                              <span>{{data.designation}}</span>
                                         </div>
                                         <a   (click)="showMore('more')" *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.incident_involved_other_users?.data.length > 2" class="view-more-pestel-box text-center">{{'view_more' | translate}}</a>
                                        </div>
                                        <div *ngIf="moreData">
                                            <div *ngFor="let data of IncidentReportStore.reportDetails?.incident_investigation?.incident_involved_other_users?.data" class="name-and-position name-and-position-bdr cmn-bdr text-left">
                                                <h6>{{data.name}} </h6>
                                                <span>{{data.designation}}</span>
                                           </div>
                                           <a   (click)="showMore('less')"  class="view-more-pestel-box text-center">{{'view_less' | translate}}</a>
                                          </div>
                                        </div>
                                      <!-- </div> -->

                                      
                                    <div class="risk-rating-box bg-white p-3 mb-3">
                                       <h5 class="cmn-head-style text-left">{{'witness' | translate}}</h5>
                                       <hr class="mt-0 mb-3">
                                          <h6 class="text-left">{{'employee' | translate}}</h6>
                                          <ul class="arci-user-tab-dtl workflow-lst-pics-loop clearfix">
                                             <li class="rounde-hov-bg" *ngFor = "let witness of IncidentReportStore.reportDetails?.incident_investigation?.incident_witness_users?.data; let isLast=last">
                                                <a>
                                                    <img *ngIf="witness.image_token"
                                      [attr.src]="createImagePreview('user-profile-picture',witness.image_token)"
                                      width="45px" height="45px" class="rounded-circle"
                                      onerror="this.src='/assets/images/user-demo2.png'">
                                  <img *ngIf="!witness.image_token"
                                      [attr.src]="getDefaultImage('user-logo')" width="45px" height="45px"
                                      class="rounded-circle"
                                      onerror="this.src='/assets/images/user-demo2.png'">
                                                </a>                                                                  
                                             </li>
                                         </ul>

                                         <h6 class="text-left mt-3">{{'others' | translate}}</h6>
                                         <div *ngIf="!moreDataWitness">
                                         <div  *ngFor="let data of othersWitness()" class="name-and-position name-and-position-bdr cmn-bdr text-left">
                                              <h6>{{data.name}} </h6>
                                              <span>{{data.designation}}</span>
                                         </div>
                                   
                                         <a (click)="showMoreWitness('more')" *ngIf="IncidentReportStore.reportDetails?.incident_investigation?.incident_witness_other_users?.data.length > 2"  class="view-more-pestel-box text-center">{{'view_more' | translate}}</a>
                                        </div>

                                        <div *ngIf="moreDataWitness">
                                            <div  *ngFor="let data of IncidentReportStore.reportDetails?.incident_investigation?.incident_witness_other_users?.data" class="name-and-position name-and-position-bdr cmn-bdr text-left">
                                                 <h6>{{data.name}} </h6>
                                                 <span>{{data.designation}}</span>
                                            </div>
                                      
                                            <a (click)="showMoreWitness('less')" class="view-more-pestel-box text-center">>{{'view_less' | translate}}</a>
                                           </div>
                                        
                                      </div>

                                      

                                 <!-- </div> -->

                                 </div>
                              </div>
                        

                     </div>
                  </div>
                </div>
                <!-- <div class="report-page-nbr">
                  <p class="text-black mb-0">6/10</p>
               </div> -->
             </div>
             <div class="holder" id="7" (click)="scrollbyIndex(7)">
                <div class="pdf-page-inner-new-content">
                  <div class="report-frame acl-page">
                     <div class="introduction-page audit-program-box audit-page-table-main">

                          <h4 class="mt-2 mb-3">{{'root_cause_analysis' | translate}}</h4>

                              
                          <div class="stup-root-cause-main rca-tab-stup-root-cause-main bg-white p-0">
                           <div class="stup-root-cause pb-3 line-top-remove"><!-- one starts -->
                              <div class="clearfix">
                                 <div class="round-question-bg">
                                    <div class="round-question">
                                       <h2 class="pulse-effect">?</h2>
                                       <h5 class="round-question-exclamation-icon"><i class="fas fa-exclamation-triangle"></i></h5>
                                    </div>
                                 </div>
                                 <div class="round-question-details">
                                    <h6>{{IncidentReportStore.reportDetails?.incident_investigation?.title.data ? IncidentReportStore.reportDetails?.incident_investigation?.title.data : AppStore.noContentText }}</h6>
                                    <div class="created-info-sec created-info-sec-drop">
                                       <hr>
                                         <p style="white-space: pre-wrap;">{{IncidentReportStore.reportDetails?.incident_investigation?.description?.data ? IncidentReportStore.reportDetails?.incident_investigation?.description?.data : AppStore.noContentText}}</p>
                                     </div>
                                 </div>
                              </div>
                            </div><!-- one ends -->

                            <div class="stup-root-cause pb-3" *ngFor="let rootCause of IncidentReportStore.reportDetails?.root_cause_analysis?.root_cause_analysis?.data " ><!-- two starts -->
                              <div class="clearfix">
                                 <div class="round-question-bg">
                                    <div class="round-question">
                                       <h2 class="pulse-effect">?</h2>
                                       <h5>{{rootCause?.why}}</h5>
                                    </div>
                                 </div>
                                 <div class="round-question-details">
                                    <p style="white-space: pre-wrap;">{{rootCause?.description}}</p>
                                     
                                    <div class="row">
                                        <div class="col-lg-4 col-sm-6">
                                           <h6>{{'root_cause_category' | translate}}</h6>
                                           <p>{{rootCause?.root_cause_category?.title}}</p>
                                        </div>
                      
                                        <div class="col-lg-4 col-sm-6">
                                           <h6>{{'root_cause_sub_category' | translate}}</h6>
                                           <p>{{rootCause?.root_cause_sub_category?.title}}</p>
                                        </div>
                                     </div> 
                                    <div class="created-info-sec created-info-sec-drop">
                                       <hr>
                                         <div class="d-flex flex-row user-list-sm">
                                            <img [attr.src]="rootCause?.created_by?.image?.token ? createImageUrls(rootCause?.created_by?.image?.token) : getDefaultImage('user-logo')"
                                            width="40px" height="40px" class="rounded-circle">                                                           <div>
                                            <h6>{{rootCause?.created_by?.first_name}} {{rootCause?.created_by?.last_name}}</h6>
                                            <span>{{rootCause?.created_by?.designation}} | {{rootCause?.created_at | date : OrganizationGeneralSettingsStore.organizationSettings?.date_time_format}} </span>
                                          </div>
                                         </div>
                                     </div>
                                 </div>
                              </div>
                            </div><!-- two ends -->



                         </div>
                     </div>
                  </div>
                </div>
             </div>
             <div class="holder" id="8" (click)="scrollbyIndex(8)">
                <div class="pdf-page-inner-new-content">
                  <div class="report-frame acl-page introduction-page">
                     <h4 class="mt-2 mb-3">{{'corrective_action' | translate}}</h4>

                     <div class="audit-program-box audit-page-table-main">
                       <div class="row">
                          <div class="col-sm-12">
                             <div class="full-width-table">
                             <table class="table table-bordered ordinary-table audit-page-table mb-1 table-scroll">
                                <thead>
                                    <tr>
                                        <th class="border-top-0" width="2%">#</th>
                                        <!-- <th class="border-top-0" width="6%">Ref. ID</th> -->
                                        <th style="width: 6%;" class="border-top-0 issue-list-org-tab-three pointer"  >
                                          <span>{{'ref_id' | translate}}</span>&nbsp;
                                        
                                      </th>
                                      <th style="width: 25%;" class="border-top-0 issue-list-org-tab-three pointer" >
                                        <span>{{'title' | translate}}</span>&nbsp;
                                    </th>
                                        <th class="border-top-0" width="15%">{{'responsible_user' | translate}} </th>
                              <th class="border-top-0 pointer" width="10%" >
                                 <span>{{'start_date' | translate}} </span>&nbsp;
                              </th>
                              <th class="border-top-0 pointer" width="10%" >
                                 <span>{{'target_date' | translate}}</span>&nbsp;
                              </th>
                              <!-- <th class="border-top-0 pointer" width="15%">{{'status' | translate}}</th> -->
      
                                     </tr>
                                   
                                </thead>
                                <tbody>
                                   <tr *ngFor="let row of IncidentReportStore.reportDetails?.corrective_action?.corrective_action?.data;let num=index" class="edit-and-delete-main">
                                    <td >{{num + 1}}</td>
                                    <td >{{row.reference_code}}</td>
                                    <td >{{row.title}}</td>
                                    <td>
                                        <div class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg">
                                           <!-- <app-user-popup-box [source]="assignUserValues(row)" [showName] = "false" ></app-user-popup-box> -->
                                           <img *ngIf="row.responsible_user?.image?.token" data-toggle="modal" data-target="#user02" data-ui-class="a-zoom" [attr.src]="createImagePreview('user-profile-picture',row.responsible_user?.image?.token)"
                                             width="30px" height="30px" class="rounded-circle rounde-hov details-show-popup" onerror = "this.src='/assets/images/user-demo2.png'">
                                             <img *ngIf="!row.responsible_user?.image?.token"
                                                   [attr.src]="getDefaultImage('user-logo')" width="30px" height="30px"
                                                   class="rounded-circle" onerror = "this.src='/assets/images/user-demo2.png'">
                                           <div class="pointer">
                                              <h6>{{row.responsible_user?.first_name}} {{row.responsible_user?.last_name}}</h6>
                                              <span>{{row.responsible_user?.designation}}</span>
                                           </div>
                                        </div>
                                      </td>
                                       <td>{{row.start_date | date:
                                        OrganizationGeneralSettingsStore.organizationSettings?.date_format}}</td>
                                     <td>{{row.target_date | date:
                                        OrganizationGeneralSettingsStore.organizationSettings?.date_format}}
                                     </td>
                                   </tr>
                                </tbody>
                             </table>
                           </div>
                          </div>
                       </div>
                     </div>
                     
                  </div>
                </div>
             </div>
             <div class="holder" id="9" (click)="scrollbyIndex(9)">
                <div class="pdf-page-inner-new-content">
                  <div class="report-frame">
                     <div class="row introduction-page">

                         <div class="col-lg-7 col-sm-12">
                             <div class="intro-right">

                                 <h4>{{'conclusion' | translate}}</h4>
                                 <p style="white-space: pre-line;">
                                     {{IncidentReportStore.reportDetails?.conclusion?.conclusion?.data ? IncidentReportStore.reportDetails?.conclusion?.conclusion?.data : AppStore.noContentText }}</p>
                             </div>

                         </div>

                         <div class="col-lg-5 col-sm-12">

                             <img *ngIf="IncidentReportStore.reportDetails?.conclusion?.image?.data?.token"
                             [attr.src]="createImagePreview('conclusion-bg',IncidentReportStore.reportDetails?.conclusion?.image?.data?.token)"
                             class="img-fluid w-100"
                             onerror="this.src='/assets/images/thankyou-img.jpg'">
                         <img *ngIf="!IncidentReportStore.reportDetails?.conclusion?.image?.data?.token"
                             src="assets/images/thankyou-img.jpg" class="img-fluid" />
                         </div>



                     </div>
                 </div>
                </div>
             </div>
             <div class="holder" id="10">
                <div class="pdf-page-inner-new-content">
                </div>
             </div>
             
            </div>

          </div>

          </div>
        </ng-container>
    
    </main>