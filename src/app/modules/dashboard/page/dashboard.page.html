<main class="mt-3 acl-page cpf-space-adjust db-small-space-boxes db-layout-150" *mobxAutorun>
   <div class="container-fluid" *ngIf="Dashboard_loader">
      <div class="row sm-row">
         <div class="col-lg-2 col-sm-4 sm-col" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(200,6101)">
            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
               <div
               [ngClass]="UsersStore.userCount?.total_user_count!=0?'row align-items-center justify-content-center pointer':'text-center'"   
               (click)="redirectToListPage('users',UsersStore.userCount?.total_user_count)">
                  <div class="text-center">
                     <h3 class="big-text-four">{{UsersStore.userCount ? UsersStore.userCount?.total_user_count : AppStore.noContentText}}</h3>
                     <h5 class="mb-0">{{'users' | translate}}</h5>
                  </div>
               </div>
            </div>
         </div>

         <div class="col-lg-2 col-sm-4 sm-col" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(600,12801)">
            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
               <div  [ngClass]="ProcessStore.totalItems!=0?'row align-items-center justify-content-center pointer':'text-center'"   
               (click)="redirectToListPage('processes',ProcessStore.totalItems)">
                  <div class="text-center" >
                     <h3 class="big-text-four">{{ProcessStore.totalItems}}</h3>
                     <h5 class="mb-0">{{'processes' | translate}}</h5>
                  </div>
               </div>
            </div>
         </div>

         <div class="col-lg-2 col-sm-4 sm-col" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(600,11501)">
            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
               <div [ngClass]="ControlStore.totalItems!=0?'row align-items-center justify-content-center pointer':'text-center'"
                  (click)="redirectToListPage('controls',ControlStore.totalItems)" >
                  <div class="text-center" >
                     <h3 class="big-text-four">{{ControlStore.totalItems}}</h3>
                     <h5 class="mb-0">{{'controls' | translate}}</h5>
                  </div>
               </div>
            </div>
         </div>

         <div class="col-lg-2 col-sm-4 sm-col" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(700,19501)">
            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
               <div [ngClass]="DocumentsStore.totalItems!=0?'row align-items-center justify-content-center pointer':'text-center'"
                  (click)="redirectToListPage('documents',DocumentsStore.totalItems)">
                  <div class="text-center">
                     <h3 class="big-text-four">{{DocumentsStore.totalItems}}</h3>
                     <h5 class="mb-0">{{'documents' | translate}}</h5>
                  </div>
               </div>
            </div>
         </div>

         <div class="col-lg-2 col-sm-4 sm-col" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(100,21901)">
            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
               <div [ngClass]="IssueListStore.totalItems!=0?'row align-items-center justify-content-center pointer':'text-center'"
                  (click)="redirectToListPage('issues',IssueListStore.totalItems)">
                  <div class="text-center">
                     <h3 class="big-text-four">{{IssueListStore.totalItems}}</h3>
                     <h5 class="mb-0">{{'issues' | translate}}</h5>
                  </div>
               </div>
            </div>
         </div>

         <div class="col-lg-2 col-sm-4 sm-col" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(1600,28101)">
            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
               <div [ngClass]="MeetingsStore.totalItems!=0?'row align-items-center justify-content-center pointer':'text-center'"
                  (click)="redirectToListPage('meetings',MeetingsStore.totalItems)">
                  <div class="text-center" >
                     <h3 class="big-text-four">{{MeetingsStore.totalItems}}</h3>
                     <h5 class="mb-0">{{'meetings' | translate}}</h5>
                  </div>
               </div>
            </div>
         </div>
      </div>

      <div class="row sm-row">
         <div class="col-xl-6 col-lg-12 col-sm-12 sm-col" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(900,24401)">
            <div class="bg-white btm-space-10 ceo-db-first-box-one db-shadow">
               <div class="row align-items-center">
                  <div class="col-md-4 border-right">
                     <div [ngClass]="RiskDashboardStore?.riskCount?.total_risk!=0?'text-center pointer':'text-center'"  
                        (click)="redirectToListPage('total_risks',RiskDashboardStore?.riskCount?.total_risk)">
                        <h3 class="big-text-four">{{RiskDashboardStore?.riskCount?.total_risk}}</h3>
                        <h5 class="mb-0">{{'total_risks' | translate}}</h5>
                     </div>
                  </div>
                  <div class="col-md-8 text-center">
                     <div class="clearfix round-type-status-main-bg">
                        <div class="round-type-status-main">
                           <div class="open-close-status-db d-flex align-items-center status-open">
                              <div class="round-type-status-value db-light-light-color">
                                 <h6 class="mb-0">{{calculatePercentage(RiskDashboardStore?.riskCount?.open,RiskDashboardStore?.riskCount?.total_risk) | number : '0.0-2'}}%</h6>
                              </div>
                              <div class="round-type-status-bg db-light-light-color rounded-circle">
                                 <div class="round-type-status rounded-circle">
                                    <h6 class="mb-0">{{RiskDashboardStore?.riskCount?.open}}</h6>
                                    <h5>{{'open' | translate}}</h5>
                                 </div>
                              </div>
                           </div>
                        </div>
                        <div class="round-type-status-main">
                           <div
                              class="open-close-status-db open-close-status-db-right d-flex align-items-center status-closed">
                              <div class="round-type-status-bg db-light-light-color rounded-circle">
                                 <div class="round-type-status rounded-circle">
                                    <h6 class="mb-0">{{RiskDashboardStore?.riskCount?.close}}</h6>
                                    <h5>{{'closed' | translate}}</h5>
                                 </div>
                              </div>
                              <div class="round-type-status-value db-light-light-color">
                                 <h6 class="mb-0">{{calculatePercentage(RiskDashboardStore?.riskCount?.close,RiskDashboardStore?.riskCount?.total_risk) | number : '0.0-2'}}%</h6>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>

         <div class="col-xl-6 col-lg-12 col-sm-12 sm-col">
            <div class="row sm-row">
               <div class="col-lg-4 col-sm-4 sm-col" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(1000,14601)">
                  <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                     <div [ngClass]="AuditStore?.totalItems!=0?'text-center pointer':'text-center'"  
                        (click)="redirectToListPage('audits',AuditStore?.totalItems)">
                        <div class="text-center">
                           <h3 class="big-text-four">{{AuditStore.totalItems}}</h3>
                           <h5 class="mb-0">{{'audits' | translate}}</h5>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="col-lg-4 col-sm-4 sm-col" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(1000,15101)">
                  <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                     <div [ngClass]="AuditFindingsStore?.totalItems!=0?'text-center pointer':'text-center'"  
                        (click)="redirectToListPage('findings',AuditFindingsStore?.totalItems)">
                        <div class="text-center">
                           <h3 class="big-text-four">{{AuditFindingsStore.totalItems}}</h3>
                           <h5 class="mb-0">{{'findings' | translate}}</h5>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="col-lg-4 col-sm-4 sm-col" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(1900,34801)">
                  <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                     <div [ngClass]="IncidentStore?.totalItems!=0?'text-center pointer':'text-center'"  
                        (click)="redirectToListPage('incidents',IncidentStore?.totalItems)">
                        <div class="text-center">
                           <h3 class="big-text-four">{{IncidentStore.totalItems}}</h3>
                           <h5 class="mb-0">{{'incidents' | translate}}</h5>
                        </div>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </div>

      <div class="row sm-row" >
         <div class="col-xl-6 col-lg-12 col-sm-12 sm-col" *ngIf = "OrganizationModulesStore.checkOrganizationModules(3600)">
            <div class="bg-white btm-space-10 ceo-db-first-box-one db-shadow">
               <div class="row align-items-center">
                  <div class="col-md-4 border-right">
                     <div [ngClass]="RiskDashboardStore?.riskCount?.total_risk!=0?'text-center pointer':'text-center'"  
                        (click)="redirectToListPage('isms_total_risks',RiskDashboardStore?.riskCount?.total_risk)">
                        <h3 class="big-text-four">{{ISMSDashboardStore?.ismsRiskCount?.total_risk}}</h3>
                        <h5 class="mb-0">{{'isms_total_risks' | translate}}</h5>
                     </div>
                  </div>
                  <div class="col-md-8 text-center" *ngIf = "OrganizationModulesStore.checkOrganizationModules(3600)">
                     <div class="clearfix round-type-status-main-bg">
                        <div class="round-type-status-main">
                           <div class="open-close-status-db d-flex align-items-center status-open">
                              <div class="round-type-status-value db-light-light-color">
                                 <h6 class="mb-0">{{calculatePercentage(ISMSDashboardStore?.ismsRiskCount?.open,RiskDashboardStore?.riskCount?.total_risk) | number : '0.0-2'}}%</h6>
                              </div>
                              <div class="round-type-status-bg db-light-light-color rounded-circle">
                                 <div class="round-type-status rounded-circle">
                                    <h6 class="mb-0">{{ISMSDashboardStore?.ismsRiskCount?.open}}</h6>
                                    <h5>{{'open' | translate}}</h5>
                                 </div>
                              </div>
                           </div>
                        </div>
                        <div class="round-type-status-main">
                           <div
                              class="open-close-status-db open-close-status-db-right d-flex align-items-center status-closed">
                              <div class="round-type-status-bg db-light-light-color rounded-circle">
                                 <div class="round-type-status rounded-circle">
                                    <h6 class="mb-0">{{ISMSDashboardStore?.ismsRiskCount?.close}}</h6>
                                    <h5>{{'closed' | translate}}</h5>
                                 </div>
                              </div>
                              <div class="round-type-status-value db-light-light-color">
                                 <h6 class="mb-0">{{calculatePercentage(ISMSDashboardStore?.ismsRiskCount?.close,RiskDashboardStore?.riskCount?.total_risk) | number : '0.0-2'}}%</h6>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>

         <div class="col-lg-2 col-sm-4 sm-col" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(2500,40401)">
            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
               <div [ngClass]="ComplianceRegisterStore?.totalItems!=0?'text-center pointer':'text-center'"  
                  (click)="redirectToListPage('compliance',ComplianceRegisterStore?.totalItems)">
                  <div class="text-center">
                     <h3 class="big-text-four">{{ComplianceRegisterStore.totalItems}}</h3>
                     <h5 class="mb-0">{{'compliance' | translate}}</h5>
                  </div>
               </div>
            </div>
         </div>

         <div class="col-lg-2 col-sm-4 sm-col" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(2500,43201)">
            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
               <div [ngClass]="SLAContractStore?.totalItems!=0?'text-center pointer':'text-center'"  
                  (click)="redirectToListPage('sla_contracts',SLAContractStore?.totalItems)">
                  <div class="text-center">
                     <h3 class="big-text-four">{{SLAContractStore.totalItems}}</h3>
                     <h5 class="mb-0">{{'sla_contracts' | translate}}</h5>
                  </div>
               </div>
            </div>
         </div>
         
         <div class="col-lg-2 col-sm-4 sm-col" *ngIf = "OrganizationModulesStore.checkOrganizationModules(3300)">
            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
               <div [ngClass]="SLAContractStore?.totalItems!=0?'text-center pointer':'text-center'"  
                  (click)="redirectToListPage('asset_total',SLAContractStore?.totalItems)">
                  <div class="text-center">
                     <h3 class="big-text-four">{{AssetDashboardStore.AssetCount?.total_assets}}</h3>
                     <h5 class="mb-0">{{'asset_dashboard_total_assets'|translate}}</h5>
                  </div>
               </div>
            </div>
         </div>
      </div>
      

      <div class="widget">
         <div class="row sm-row" *ngIf = "OrganizationModulesStore.checkOrganizationModules(900)">
            <div class="col-lg-6 col-sm-12 sm-col main-db-risk">
               <div class="row sm-row">
                  <div class="col-lg-3 col-sm-3 sm-col left-small-boxes-risk-db" *ngIf = "AuthStore.getActivityPermission(100,'DASHBOARD_RISK_COUNT_BY_INHERENT_RISK_RATINGs')">
                     
                     <div class="bg-white padding-small-10 btm-space-10 risk-db-left-one" style="min-height: 102px"
                     *ngFor = "let i of RiskDashboardStore.riskCountByInherentRiskRatings">
                        <div class="left-line-type-text-main d-inline-block">
                           <div class="left-line-type-text">
                              <span [ngClass]="i.label ? 'big-line-bdr-left bg-'+i.label : 'big-line-bdr-left'"></span>
                              <h5>{{i.risk_ratings}}</h5>
                              <h6>{{i.count}}</h6>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="col-lg-9 col-sm-9 sm-col" *ngIf = "AuthStore.getActivityPermission(100,'DASHBOARD_RISK_COUNT_BY_STATUSES')">
                     <div class="bg-white widg-padding-cmn btm-space-10 risk-db-left-two">
                        <h5 class="cmn-head-style m-0">{{'risk_zone_rating_wise' | translate}}</h5>
                        <hr>

                        <div class="ceo-db-aut-sec-row-height" style="min-height: 492px;">
                           <div class="dpt-pic-ceo w-100" *ngIf="!showPieNoDataMap">
                              <div id="riskchartdiv" style="width: 100%; height: 370px" #riskchartdiv></div>
                           </div>
                           <div class="dpt-pic-ceo w-100" *ngIf="showPieNoDataMap">
                              <app-no-chart-data [source]="riskPieChartInfo" [border] = "false">
                              </app-no-chart-data>
                           </div>
                        </div>

                     </div>
                  </div>
               </div>
            </div>
            <div class="col-lg-6 col-sm-12 sm-col">
               <div class="bg-white widg-padding-cmn btm-space-10 tab-with-text-db">
                        <h5 class="cmn-head-style m-0">
                           {{'top_open_risks' | translate}}
                        </h5>
                        <hr>
                        <owl-carousel-o [options]="clientOptions" *ngIf="RiskDashboardStore.riskList.length!=0">
                           <ng-container >
                               <ng-template carouselSlide>
                                   <div class="top-ten-risk-db-main" style="min-height: 446px;">
                                       <div class="top-ten-risk-db" style="padding: 20px 20px;" *ngFor="let risk of RiskDashboardStore.riskList;let num=index" [routerLink]="['/risk-management/risks/'+risk.id]">
                                           <div class="d-flex align-items-center pointer">
                                               <h4>{{num+1}}</h4>
                                               <div class="middle-text-sec-risk-db w-100">
                                                   <p>{{risk?.title}}</p>
                                               </div>
                                               <div class="top-ten-right-left-line-type-text" style="width: 150px;">
                                                   <div class="left-line-type-text-main d-inline-block">
                                                       <div class="left-line-type-text">
                                                           <span class="big-line-bdr-left" [ngStyle]="{'background':risk.color_code}"></span>
                                                           <h5>{{risk.risk_rating}}</h5>
                                                           <h6>{{risk.risk_score}}</h6>
                                                       </div>
                                                   </div>
                                               </div>
                                           </div>
                                       </div>
                                   </div>
                               </ng-template>
                           </ng-container>
                           <ng-container *ngIf="RiskDashboardStore.secondRiskList.length!=0">
                               <ng-template carouselSlide>
                                   <div class="top-ten-risk-db-main">
                                       <div class="top-ten-risk-db" style="padding: 20px 20px;" *ngFor="let risk of RiskDashboardStore.secondRiskList;let num=index" [routerLink]="['/risk-management/risks/'+risk.id]">
                                           <div class="d-flex align-items-center pointer">
                                               <h4>{{num+6}}</h4>
                                               <div class="middle-text-sec-risk-db w-100">
                                                   <p>{{risk?.title}}</p>
                                               </div>
                                               <div class="top-ten-right-left-line-type-text" style="width: 150px;">
                                                   <div class="left-line-type-text-main d-inline-block">
                                                       <div class="left-line-type-text">
                                                           <span class="big-line-bdr-left" [ngStyle]="{'background':risk.color_code}"></span>
                                                           <h5>{{risk.risk_rating}}</h5>
                                                           <h6>{{risk.risk_score}}</h6>
                                                       </div>
                                                   </div>
                                               </div>
                                           </div>
                                       </div>
                                   </div>
                               </ng-template>
                           </ng-container>
                       </owl-carousel-o>
                       <ng-container *ngIf="RiskDashboardStore.riskList.length == 0">
                           <div class = "no-policy-demo-text bg-white d-flex align-items-center w-100 mt-2 p-3" style="min-height: 475px;">
                              <div class="no-policy-demo">
                                 <img class="pointer" [attr.src]="ThemeStructureSettingStore.themeStructureObject.empty_screen ? ThemeStructureSettingStore.themeStructureObject.empty_screen : '/assets/images/empty_screen.png'" onerror="this.src='assets/images/empty_screen.png'" style="width:200px"/>
                              </div>
                           </div>
                        </ng-container>
               </div>
            </div>
         </div>
         <div *ngIf="OrganizationModulesStore.checkOrganizationModules(1900)">
            <div class="row sm-row" *ngIf = "AuthStore.getActivityPermission(100,'INCIDENT_DASHBOARD_COUNT_BY_MONTH') || AuthStore.getActivityPermission(100,'INCIDENT_DASHBOARD_COUNT_BY_YEAR') || AuthStore.getActivityPermission(100,'INCIDENT_DASHBOARD_COUNT_BY_DEPARTMENT')">
               <div class="col-sm-12 sm-col">
                  <div class="bg-white widg-padding-cmn btm-space-10 tab-with-text-db">
                     <div class="row widget-heading line-tab">
                        <div class="col-lg-6 col-md-12">
                           <h5 class="cmn-head-style m-0 pt-2">{{'incidents' | translate}}</h5>
                        </div>
                        <div class="col-lg-6 col-md-12">
                           <ul class="nav nav-tabs float-right">
                              <li class="nav-item" *ngIf = "AuthStore.getActivityPermission(100,'INCIDENT_DASHBOARD_COUNT_BY_MONTH')"> <a (click)="getIncidentCountByMonths(1)" [ngClass]="incidentDashboard == 1 ? 'nav-link active show' : 'nav-link'" data-toggle="tab"
                                 href="#by-months" data-original-title="" title="">{{'by_months' | translate}}</a> </li>
                              <li class="nav-item" *ngIf = "AuthStore.getActivityPermission(100,'INCIDENT_DASHBOARD_COUNT_BY_YEAR')"> <a (click)="getIncidentCountByYears(2)" [ngClass]="incidentDashboard == 2 ? 'nav-link active show' : 'nav-link'" 
                               data-toggle="tab"   data-original-title="" title="">{{'by_year' | translate}}</a> </li>
                                   <li class="nav-item" *ngIf = "AuthStore.getActivityPermission(100,'INCIDENT_DASHBOARD_COUNT_BY_DEPARTMENT')"> <a (click)="getIncidentCountByDepartments(3)" [ngClass]="incidentDashboard == 3 ? 'nav-link active show' : 'nav-link'"
                               data-toggle="tab"   data-original-title="" title="">{{'by_department' | translate}}</a> </li>
                            </ul>
                        </div>
                     </div>
                     <div class="tab-content tab-content-body pt-3">
                        <div [ngClass]="incidentDashboard == 1 ? 'tab-pane active show' : 'tab-pane fade'" id="by-department-cpf">
                           <!-- <div class="ceo-db-aut-sec-row-height"> -->
                              <div class="dpt-pic-ceo w-100">
                                 <div id="ibarChart1" style="min-height: 250px;" #ibarChart1></div>
                              </div>
                           <!-- </div> -->
   
                        </div>
                        <div [ngClass]="incidentDashboard == 2 ? 'tab-pane active show' : 'tab-pane fade'" id="by-year-cpf">
                           <!-- <div class="ceo-db-aut-sec-row-height"> -->
                              <div class="dpt-pic-ceo w-100">
                                 <div id="ibarChart2" style="min-height: 250px;" #ibarChart2></div>
                              </div>
                           <!-- </div> -->
                        </div>
                        <div [ngClass]="incidentDashboard == 3 ? 'tab-pane active show' : 'tab-pane fade'" id="by-year-cpf">
                           <!-- <div class="ceo-db-aut-sec-row-height"> -->
                              <div class="dpt-pic-ceo w-100">
                                 <div id="ibarChart3" style="min-height: 250px;" #ibarChart3></div>
                              </div>
                           <!-- </div> -->
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
        

         <div class="row sm-row" *ngIf = "OrganizationModulesStore.checkOrganizationModules(2500) && AuthStore.getActivityPermission(100,'DASHBOARD_COMPLIANCE_STATUS')">
            <div class="col-lg-6 col-sm-12 sm-col" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(2500,40401)">
               <div class="bg-white widg-padding-cmn btm-space-10 ceo-db-aut-four">
                  <h5 class="cmn-head-style m-0">{{'compliance_status' | translate}}</h5>
                  <hr>
                  <!-- <div class="ceo-db-aut-sec-row-height"> -->
                     <div class="dpt-pic-ceo w-100" *ngIf="!showCompPieNoDataMap">
                        <div id="chartdivcompliancestatus" style="min-height: 250px;" #chartdivcompliancestatus></div>
                     </div>
                     <div class="dpt-pic-ceo w-100" *ngIf="showCompPieNoDataMap">
                        <app-no-chart-data [source]="complianceStatusPieChart">
                        </app-no-chart-data>
                     </div>
                  <!-- </div> -->

               </div>
            </div>

            <div class="col-lg-6 col-sm-12 sm-col" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(2500,43201) && AuthStore.getActivityPermission(100,'DASHBOARD_SLA_AND_CONTRACT_STATUS')">
               <div class="bg-white widg-padding-cmn btm-space-10 ceo-db-aut-four">
                  <h5 class="cmn-head-style m-0">{{'sla_document_status' | translate}}</h5>
                  <hr>
                  <!-- <div class="ceo-db-aut-sec-row-height"> -->
                     <div class="dpt-pic-ceo w-100" *ngIf="!showSlaPieNoDataMap">
                        <div id="chartdivsladocumentstatus" style="min-height: 250px;" #chartdivsladocumentstatus></div>
                     </div>
                     <div class="dpt-pic-ceo w-100" *ngIf="showSlaPieNoDataMap">
                        <app-no-chart-data [source]="slaDocumentStatusPieChart">
                        </app-no-chart-data>
                     </div>
                  <!-- </div> -->
               </div>
            </div>
         </div>
      </div>

      <!-- ISMS RISK-->

      <div class="widget" *ngIf = "OrganizationModulesStore.checkOrganizationModules(3600)">
         <div class="row sm-row">
            <div class="col-lg-6 col-sm-12 sm-col main-db-risk">
               <div class="row sm-row">
                  <div class="col-lg-3 col-sm-3 sm-col left-small-boxes-risk-db" >
                     
                     <div class="bg-white padding-small-10 btm-space-10 risk-db-left-one" style="min-height: 102px"
                     *ngFor = "let item of ISMSDashboardStore.ismsInherentRating">
                        <div class="left-line-type-text-main d-inline-block">
                           <div class="left-line-type-text">
                              <span [ngClass]="item.label ? 'big-line-bdr-left bg-'+item.label : 'big-line-bdr-left'"></span>
                              <h5>{{item.isms_risk_ratings}}</h5>
                              <h6>{{item.count}}</h6>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="col-lg-9 col-sm-9 sm-col">
                     <div class="bg-white widg-padding-cmn btm-space-10 risk-db-left-two">
                        <h5 class="cmn-head-style m-0">{{'isms_risk_zone_rating_wise' | translate}}</h5>
                        <hr>

                        <div class="ceo-db-aut-sec-row-height" style="min-height: 493px;">
                           <div class="dpt-pic-ceo w-100" *ngIf="!showPieNoDataMapISMSRisk">
                              <div id="IsmsInherentRatings" style="width: 100%; height: 370px" #IsmsInherentRatings></div>
                           </div>
                           <div class="dpt-pic-ceo w-100" *ngIf="showPieNoDataMapISMSRisk">
                              <app-no-chart-data [source]="noDataSource">
                              </app-no-chart-data>
                           </div>
                        </div>

                     </div>
                  </div>
               </div>
            </div>
            <div class="col-lg-6 col-sm-12 sm-col">
               <div class="bg-white widg-padding-cmn btm-space-10 tab-with-text-db">
                        <h5 class="cmn-head-style m-0">
                           {{'top_five_isms_risks' | translate}}
                        </h5>
                        <hr>
                        
                        <ng-container *ngIf="ISMSDashboardStore?.ismsRisk.length > 0">
                                   <div class="top-ten-risk-db-main" style="min-height: 493px;">
                                       <div class="top-ten-risk-db" style="padding: 20px 20px;" *ngFor="let risk of ISMSDashboardStore?.ismsRisk;let num=index"
                                                   [routerLink]="['/isms/isms-risks/'+risk.id]">
                                           <div class="d-flex align-items-center pointer">
                                               <h4>{{num+1}}</h4>
                                               <div class="middle-text-sec-risk-db w-100">
                                                   <p>{{risk?.title}}</p>
                                               </div>
                                               <div class="top-ten-right-left-line-type-text" style="width: 150px;">
                                                   <div class="left-line-type-text-main d-inline-block">
                                                       <div class="left-line-type-text">
                                                           <span class="big-line-bdr-left" [ngStyle]="{'background':risk.color_code}"></span>
                                                           <h5>{{risk.risk_rating}}</h5>
                                                           <h6>{{risk.risk_score}}</h6>
                                                       </div>
                                                   </div>
                                               </div>
                                           </div>
                                       </div>
                                   </div>
                        </ng-container>
                           
                       <ng-container *ngIf="ISMSDashboardStore?.ismsRisk.length <= 0">
                           <div class = "no-policy-demo-text bg-white d-flex align-items-center w-100 mt-2 p-3" style="min-height: 475px;">
                              <div class="no-policy-demo">
                                 <img class="pointer" [attr.src]="ThemeStructureSettingStore.themeStructureObject.empty_screen ? ThemeStructureSettingStore.themeStructureObject.empty_screen : '/assets/images/empty_screen.png'" onerror="this.src='assets/images/empty_screen.png'" style="width:200px"/>
                              </div>
                           </div>
                        </ng-container>
               </div>
            </div>
         </div>
      </div>

<!--asset managment-->
      <div class="row sm-row" *ngIf = "OrganizationModulesStore.checkOrganizationModules(3300)">
         <div class="col-lg-6 col-sm-12 sm-col">
            <div class="bg-white widg-padding-cmn btm-space-10 ceo-db-aut-four">
               <h5 class="cmn-head-style m-0">{{'asset_dashboard_criticality_rating'|translate}}</h5>
                <hr>
                     <div class="dpt-pic-ceo w-100" *ngIf="!showPieNoDataMapCriticalRating">
                     <div id="chartAssetCriticalityRating" style="min-height: 250px;" #chartAssetCriticalityRating></div>
                     </div>
                     <div class="dpt-pic-ceo w-100" *ngIf="showPieNoDataMapCriticalRating">
                        <app-no-chart-data [source]="assetCriticalityRatingPieChart">
                        </app-no-chart-data>
                     </div>
            </div>
         </div>
      </div>  

   </div>
   <ng-container *mobxAutorun>
      <div *ngIf="!Dashboard_loader">
        <app-dashboard-loader></app-dashboard-loader>
      </div>
  </ng-container>
</main>