
<!-- work-flow-popup Start -->
<!-- <div class="modal modal-style-1 popup-full-width fade" id="new-assessments-popup" data-keyboard="false"
    data-backdrop="static" #formModal> -->
    <button type="button" class="close" data-dismiss="modal" (click)="closeFormModal()"><i
        class="lni-close"></i><span>{{'esc'|translate}}</span></button>
<div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
            <h4 class="modal-title">{{'assessment'|translate}}</h4>
            <!--<button type="button" class="close" data-dismiss="modal">&times;</button>-->
        </div>
        <!-- Modal body -->
        <div class="modal-body form-body">
            <form [formGroup]="form" *mobxAutorun>


                <!-- <hr class="mt-0"> -->

                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group">
                            <label for="name">{{'title'|translate}}<sup>*</sup></label>
                            <div class="plain-select input-add-report">
                                <input type="text" class="form-control" formControlName="title"
                                [placeholder]="'title'|translate">
                                <p style="color: red;" class="pt-1" *ngIf="formErrors && formErrors.title">
                                    {{formErrors.title}}
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-12">
                        
                            
                            <div class="form-group add-kpi-textarea pb-2">
                                
                                <label for="description">{{'description' | translate}}</label>
                                <ckeditor id="description"  [editor]="Editor" formControlName="description" style="max-height: 300px;"></ckeditor>
                            </div>
                            <!-- <label for="name">Description</label>
                            <textarea class="form-control " rows="3" id="comment" formControlName="description"
                                placeholder="Description"></textarea>-->
                            <p style="color: red;" class="pt-1" *ngIf="formErrors && formErrors.description">
                                {{formErrors.description}}
                            </p> 
                        
                    </div>
                    <div class="col-sm-12" >
                        <div class="form-group">
                            <label for="name">{{'framework'|translate}}<sup>*</sup></label>
                            <div class="clearfix d-flex">
                                <div class="multiple-plain-ngselect w-100">

                                    <ng-select 
                                        [placeholder]="'select_framework'|translate" [multiple]="false" searchable="true"
                                        bindLabel="title" formControlName="business_assessment_framework_id"
                                        (change)="getFrameworkDetails()"
                                        (search)="searchFramework($event)" (clear)="getFramework()"
                                        (open)="getFramework()" [closeOnSelect]="true" autocomplete="new-password">
                                        <ng-option [value]="type.id"
                                            *ngFor="let type of FrameworksStore.frameworkDetails">
                                            {{type.title}}
                                        </ng-option>
                                    </ng-select>
                                </div>
                                <button style="width: 42px;" class="btn multi-add-user ml-2" (click)="addNewFramework()"><i class="fas fa-plus"></i></button>
                              

                            </div>
                            <p class="form-error pt-1"
                            *ngIf="formErrors&&formErrors.business_assessment_framework_id">
                            {{formErrors.business_assessment_framework_id}}</p>
                        </div>
                    </div>

                    <div class="col-sm-12" >
                        <div class="form-group">
                            <label for="name">{{'maturity_modal'|translate}}<sup>*</sup></label>
                            <div class="clearfix d-flex">
                                <div class="multiple-plain-ngselect w-100">

                                    <ng-select 
                                        [placeholder]="'select_maturity_model'|translate" [multiple]="false" searchable="true"
                                        bindLabel="title" formControlName="maturity_model_id"
                                       
                                        [closeOnSelect]="true" autocomplete="new-password">
                                        <ng-option [value]="type.id"
                                            *ngFor="let type of maturityModels">
                                            {{type.title}}
                                        </ng-option>
                                    </ng-select>
                                </div>
                              

                            </div>
                            <p class="form-error pt-1"
                            *ngIf="formErrors&&formErrors.maturity_model_id">
                            {{formErrors.maturity_model_id}}</p>
                        </div>
                    </div>
                   

                   
                    

                    

                    
                    
                </div>

               


                <div class="row mt-2">
                    <div class="col-sm-12">
                        <div class="d-block justify-content-left border-0 mt-3">
                            <button type="button" data-toggle="modal"
                                class="btn btn-active" (click)="save()"
                                [disabled]="!form.valid || AppStore.loading">{{ AppStore.loading  ? getButtonText('loading') : getButtonText('save') }}</button>
                            <button [disabled]="!form.valid || AppStore.loading" type="button" data-toggle="modal" data-target="#signal-lost"
                                class="btn" (click)="save(true)"
                                >{{ AppStore.loading  ? getButtonText('loading') : getButtonText('save_close') }}</button>
                            <button type="button" data-toggle="modal"
                                class="btn" (click)="closeFormModal()">{{ AppStore.loading  ? getButtonText('loading') : getButtonText('cancel') }}</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <!-- Modal footer -->
    </div>
</div>
<!-- </div> -->
<!-- work-flow-popup End -->

<div class="modal modal-style-1 fade popup-full-width" id="add-business-framework-popup" data-keyboard="false"
   data-backdrop="static" #formModal>
  
   <app-framework-modal *ngIf="frameworkObject.type" [source]="frameworkObject">

   </app-framework-modal>

   </div>


