<main class="audit-program-details-page mt-3" *mobxAutorun>
  <div class="container-fluid">
     <div class="widget">
        <div class="row">
           <div class="col-sm-12">
              <div class="project-discussion-box bg-white"><!-- project-discussion-box start -->
                          <div class="d-flex widg-padding-cmn pb-3">
                            <img onerror="this.src='/assets/images/user-demo2.png'"
                            [src]="createImagePreview('user-profile-picture', reply?.created_by?.image?.token)"
                            class="rounded-circle rounde-hov" width="30px"
                            height="30px">
                             <div class="text-left discussion-content-sec w-100">
                                 <span class="text-light-blue">{{reply.created_by?.first_name}} {{reply.created_by?.last_name}}</span><span class="comment-btns-cmn comment-btns-date"><i class="far fa-clock"></i>{{reply.created_at | date:OrganizationGeneralSettingsStore.organizationSettings?.date_time_format}}</span>
                                 <h6 class="mb-0">{{reply.title}}</h6>
                                 <div class="paragraph-texts-loop">
                                    <p>{{reply.description}}</p>
                                 </div>                                                                
                            </div>
                         </div>
                         <div class="comment-btns-sec">
                          <span class="comment-btns-cmn comment-btns-date"><i class="far fa-clock"></i>{{reply?.created_at | date:OrganizationGeneralSettingsStore.organizationSettings?.date_time_format}}</span>
                          <span class="comment-btns-cmn comment-btns-msg" ><a (click)='addNewItem()'><i class="far fa-comment-dots"></i>{{'Comment' | translate}}</a></span>
                         </div>

                         <div class="discussion-view-box hide-discussion"><!-- discussion-view-box start -->                            
                             <div class="d-flex widg-padding-cmn" *ngFor="let rep of reply?.children_discussion">
                              <img onerror="this.src='/assets/images/user-demo2.png'"
                            [src]="createImagePreview('user-profile-picture', rep?.created_by?.image?.token)"
                            class="rounded-circle rounde-hov" width="30px"
                            height="30px">
                                                                                             
                                <div class="text-left discussion-content-sec w-100" >
                                  <span class="text-light-blue">{{rep.created_by}}</span><span class="comment-btns-cmn comment-btns-date"><i class="far fa-clock"></i>{{rep.created_at | date:OrganizationGeneralSettingsStore.organizationSettings?.date_time_format}}</span>
                                  <div class="paragraph-texts-loop mt-2">
                                    <h6 class="mb-0">{{rep.title}}</h6> 
                                    <p>{{rep.description}} </p>
                                  </div>                                 
                                  <div class="comment-btns-sec-two pt-3">
                                    <span class="comment-btns-cmn comment-btns-hart pointer active"><i class="fas fa-heart"></i>{{'Like' | translate}}</span>
                                    <span class="comment-btns-cmn comment-btns-msg" ><a (click)='addReplyItem(rep?.id)'><i class="fas fa-reply-all"></i>{{'Reply' | translate}}</a></span>
                                  </div> 
                                  <div class="discussion-view-box-inner bg-main mt-3" *ngFor="let repl of rep?.children"><!-- discussion-view-box-inner start -->
                                    <div class="d-flex widg-padding-cmn">
                                      <img onerror="this.src='/assets/images/user-demo2.png'"
                                      [src]="createImagePreview('user-profile-picture', repl?.created_by?.image?.token)"
                                      class="rounded-circle rounde-hov" width="30px"
                                      height="30px">
                                       <div class="text-left discussion-content-sec w-100">
                                           <span class="text-light-blue">{{repl.created_by}}</span><span class="v2-text-color-one"><span class="ml-1 mr-1">I</span>Jan 13, 2020<span class="ml-1 mr-1">I</span>9.33am</span>
                                           <div class="paragraph-texts-loop mt-2">
                                             <h6 class="mb-0">{{repl.title}}</h6> 
                                             <p>{{repl.description}}</p>
                                           </div>
                                           <div class="comment-btns-sec-two pt-3">
                                             <span class="comment-btns-cmn comment-btns-hart pointer"><i class="fas fa-heart"></i>{{'Like' | translate}}</span>
                                             <span class="comment-btns-cmn comment-btns-msg"><i class="fas fa-reply-all"></i>{{'Reply' | translate}}</span>
                                           </div>
                           
                                       </div>
                                   </div>
                                 </div><!-- discussion-view-box-inner end -->                                                             
                                </div>
                              </div>
                          </div>
                       </div>                                                     
           </div>
        </div>                            
     </div>   
  </div>
  <div class="modal modal-style-1 popup-full-width fade" data-keyboard="false"
  data-backdrop="static" #formModal *mobxAutorun>
 
  <app-discussion-replies-modal [source]="DiscussionObject"
      *ngIf="DiscussionObject.type!=null"></app-discussion-replies-modal>
 </div> 

 <div class="modal modal-style-1 popup-full-width fade" data-keyboard="false"
 data-backdrop="static" #replyModal *mobxAutorun>

 <app-discussion-reply-reply-modal [sourceR]="DiscussionReply"
     *ngIf="DiscussionReply.type!=null"></app-discussion-reply-reply-modal>
</div>
</main>
