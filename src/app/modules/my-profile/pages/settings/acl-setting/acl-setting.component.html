<div class="tab-pane fade active show" id="acl" role="tabpanel">
    <div class="widget acl-page">
        <div *ngIf="AclSettingStore.loaded" class="panel-group panel-drop-sections panel-drop-white" id="jd"
            role="tablist" aria-multiselectable="true">
            <div class="panel panel-default" *ngFor="let module_group of AclSettingStore.aclDetails; let i=index;">
                <div [ngClass]="module_group.is_accordion_active?'panel-heading active':'panel-heading'"
                    (click)="enable('module_group','',i)" role="tab" id="headingOne">
                    <div class="panel-title">
                        <a role="button" data-toggle="collapse" href="#ceo1051" aria-expanded="false"
                            aria-controls="collapseOne" class="collapsed">
                            <h5 class="width96pc mt-0">{{module_group.module_group}}<span class="drop-down-icone"><i
                                        class="fas fa-chevron-down"></i></span> </h5>
                        </a>
                    </div>
                </div>
                <div [attr.id]="'profile'+i"
                    [ngClass]="module_group.is_accordion_active?'drop-detail-sec panel-collapse collapse show':'drop-detail-sec panel-collapse collapse'"
                    role="tabpanel" aria-labelledby="headingOne" data-parent="#ceo1051">
                    <div class="panel-body bg-white">
                        <!-- acltable -->
                        <div class="table-responsive">
                            <table class="table table-bordered ordinary-table table-hover acl-table user-acl-table">
                                <thead>
                                    <tr>
                                        <th class="border-top-0" width="20%">
                                            <div class="row">
                                                <div class="col-sm-6">{{'modules' | translate}}</div>
                                                <div class="col-sm-6 text-right" style="pointer-events: none">
                                                    <label class="container2 mt-1 float-right">
                                                        <input type="checkbox" [checked]="moduleEnabled">
                                                        <span class="checkmark"></span></label>
                                                </div>
                                            </div>
                                        </th>
                                        <th class="border-top-0" width="55%">
                                            <div class="row">

                                                <div class="col text-center"> <i [attr.title]="'list'| translate" class="fas fa-list"></i>
                                                </div>

                                                <div class="col text-center"> <i [attr.title]="'add'| translate"class="fas fa-plus"></i>
                                                </div>
                                                <div class="col text-center"> <i [attr.title]="'details'| translate"
                                                        class="fas fa-info"></i> </div>
                                                <div class="col text-center"> <i [attr.title]="'update'| translate"
                                                        class="fas fa-pencil-alt"></i> </div>
                                                <div class="col text-center"> <i [attr.title]="'delete'| translate"
                                                        class="fas fa-trash-alt"></i> </div>
                                                <div class="col text-center" [attr.title]="'activate'| translate"> {{'on' | translate}}</div>
                                                <div class="col text-center" [attr.title]="'deactivate'| translate"> {{'off' | translate}} </div>
                                            </div>
                                        </th>
                                        <th class="border-top-0" width="14%">
                                            <div class="row">
                                                <div class="col text-center"> <i [attr.title]="'generate_template'| translate"
                                                        class="fas fa-globe-americas"></i> </div>
                                                <!-- <div class="col text-center"> <i title="Share"
                                                        class="fas fa-share-alt"></i> </div> -->
                                                <div class="col text-center"> <i [attr.title]="'export'| translate"
                                                        class="fas fa-share-square"></i> </div>
                                                <!-- <div class="col text-center"><i title="Import"
                                                        class="fas fa-file-download"></i> </div> -->
                                                <!-- <div class="col text-center"> <i title="Download"
                                                        class="fas fa-download"></i> </div> -->
                                            </div>
                                        </th>
                                        <th class="border-top-0" width="10%">
                                            <div class="text-center"> {{'more_permission' | translate}}
                                            </div>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Table row -->
                                    <tr *ngFor="let module of module_group.modules;let j=index;">
                                        <td>
                                            <div class="row">
                                                <div class="col-sm-6">{{module.module}} </div>
                                                <div class="col-sm-6 text-right" style="pointer-events: none">
                                                    <label class="container2 mt-1 float-right">
                                                        <input type="checkbox" [checked]="module.is_enabled">
                                                        <span class="checkmark"></span></label>
                                                </div>
                                            </div>
                                        </td>
                                        <td *ngIf="module.activity_type_groups?.length>0">
                                            <div class="row" style="pointer-events: none">
                                                <div class="col text-center ">
                                                    <label class="container2 center-check-bx mt-1 "
                                                        *ngIf="checkActivityPresent(module.activity_type_groups[0]?.activities,'LIST')">
                                                        <input type="checkbox"
                                                            [checked]="checkActivityEnabled(module.activity_type_groups[0]?.activities,'LIST')">
                                                        <span class="checkmark"></span></label>
                                                </div>
                                                <div class="col text-center ">
                                                    <label class="container2 center-check-bx mt-1 "
                                                        *ngIf="checkActivityPresent(module.activity_type_groups[0]?.activities,'CREATE')">
                                                        <input type="checkbox"
                                                            [checked]="checkActivityEnabled(module.activity_type_groups[0]?.activities,'CREATE')">
                                                        <span class="checkmark"></span></label>
                                                </div>
                                                <div class="col text-center ">
                                                    <label class="container2 center-check-bx mt-1 "
                                                        *ngIf="checkActivityPresent(module.activity_type_groups[0]?.activities,'DETAILS')">
                                                        <input type="checkbox"
                                                            [checked]="checkActivityEnabled(module.activity_type_groups[0]?.activities,'DETAILS')">
                                                        <span class="checkmark"></span></label>
                                                </div>
                                                <div class="col text-center ">
                                                    <label class="container2 center-check-bx mt-1 "
                                                        *ngIf="checkActivityPresent(module.activity_type_groups[0]?.activities,'UPDATE')">
                                                        <input type="checkbox"
                                                            [checked]="checkActivityEnabled(module.activity_type_groups[0]?.activities,'UPDATE')">
                                                        <span class="checkmark"></span></label>
                                                </div>
                                                <div class="col text-center ">
                                                    <label class="container2 center-check-bx mt-1 "
                                                        *ngIf="checkActivityPresent(module.activity_type_groups[0]?.activities,'DELETE')">
                                                        <input type="checkbox"
                                                            [checked]="checkActivityEnabled(module.activity_type_groups[0]?.activities,'DELETE')">
                                                        <span class="checkmark"></span></label>
                                                </div>
                                                <div class="col text-center">
                                                    <label class="container2 center-check-bx mt-1 "
                                                        *ngIf="checkActivityPresent(module.activity_type_groups[0]?.activities,'ACTIVATE')">
                                                        <input type="checkbox"
                                                            [checked]="checkActivityEnabled(module.activity_type_groups[0]?.activities,'ACTIVATE')">
                                                        <span class="checkmark"></span></label>
                                                </div>
                                                <div class="col text-center">
                                                    <label class="container2 center-check-bx mt-1 "
                                                        *ngIf="checkActivityPresent(module.activity_type_groups[0]?.activities,'INACTIVATE')">
                                                        <input type="checkbox"
                                                            [checked]="checkActivityEnabled(module.activity_type_groups[0]?.activities,'INACTIVATE')">
                                                        <span class="checkmark"></span></label>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="row" *ngIf="module.activity_type_groups?.length>1"
                                                style="pointer-events: none">
                                                <div class="col text-center ">
                                                    <label class="container2 center-check-bx mt-1"
                                                        *ngIf="checkActivityPresent(module.activity_type_groups[1]?.activities,'TEMPLATE')">
                                                        <input type="checkbox"
                                                            [checked]="checkActivityEnabled(module.activity_type_groups[1]?.activities,'TEMPLATE')">
                                                        <span class="checkmark"></span></label>
                                                </div>
                                                <div class="col text-center ">
                                                    <label class="container2 center-check-bx mt-1"
                                                        *ngIf="checkActivityPresent(module.activity_type_groups[1]?.activities,'EXPORT')">
                                                        <input type="checkbox"
                                                            [checked]="checkActivityEnabled(module.activity_type_groups[1]?.activities,'EXPORT')">
                                                        <span class="checkmark"></span></label>
                                                </div>
                                                <!-- <div class="col text-center ">
                                                    <label class="container2 center-check-bx mt-1 ">
                                                        <input type="checkbox">
                                                        <span class="checkmark"></span></label>
                                                </div>
                                                <div class="col text-center ">
                                                    <label class="container2 center-check-bx mt-1 ">
                                                        <input type="checkbox">
                                                        <span class="checkmark"></span></label>
                                                </div>
                                                <div class="col text-center ">
                                                    <label class="container2 center-check-bx mt-1 ">
                                                        <input type="checkbox">
                                                        <span class="checkmark"></span></label>
                                                </div> -->
                                            </div>
                                        </td>
                                        <td align="center">
                                            <div class="edit-option-table">
                                                <!-- <a class="dropdown-toggle three-dots-btn" data-toggle="dropdown">
                                                    <span><i class="fas fa-ellipsis-v"></i></span> </a> -->
                                                <button type="button" data-toggle="modal"
                                                    (click)="openFormModal(i,j,module.activity_type_groups)"
                                                    class="edit-btn-table"><i class="fas fa-eye"></i></button>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <!-- //acltable -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Nav tabs -->
    </div>
</div>
<!-- More Permission popup Start -->
<div class="modal modal-style-1 fade popup-full-width" id="more-permission-popup" data-keyboard="false"
    data-backdrop="static" #formModal>
    <button type="button" class="close" (click)="closeFormModal()"><i class="lni-close"></i><span>esc</span></button>
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <!-- Modal body -->
            <div class="modal-body form-body" *ngIf="groupIndex!=null">
                <div class="row" *ngFor="let group of moreActivity;let k=index">
                    <div class="col-sm-12">

                        <div class="head-and-check mt-3">
                            <div class="Preview-checkbox clearfix" style="pointer-events: none">
                                <label class="container2 remember-txt float-left mb-0">
                                    <input type="checkbox" [checked]="checkGroupEnabled(k)">
                                    <span class="checkmark"></span>{{group.activity_type_group}}</label>
                            </div>
                            <hr class="mt-1 mb-2">
                        </div>
                        <div class="row">
                            <div class="col-md-3 col-6" *ngFor="let row of group.activities;let i=index">
                                <div class="form-group mb-3" *ngIf="!(i>7)"> 
                                    <div class="Preview-checkbox clearfix new-check-box" style="pointer-events: none">
                                        <label class="container2 remember-txt float-left mb-0">
                                            <input type="checkbox"
                                                [checked]="checkMoreActivityEnabled(group.activities,row.activity_type)">
                                            <span class="checkmark"></span>{{row.activity_title}}</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Modal footer -->
        </div>
    </div>
</div>
<!-- More Permission popup End -->