<!-- profille -->
<div class="tab-pane fade active show" role="tabpanel" *ngIf="MyProfileProfileStore.loaded">
    <div class="row">
        <div class="col-sm-12">
            <div class=" bg-white">
                <div class="widget-body-light right-block pb-0">

                    <div class="row">
                        <div class="col-sm-4">
                            <h6>{{'designation' | translate}}</h6>
                            <p>{{MyProfileProfileStore.profile?.designation?.title? MyProfileProfileStore.profile?.designation?.title:AppStore.noContentText}}</p>
                        </div>
                        <div class="col-sm-4">
                            <h6>{{'mobile' | translate}}</h6>
                            <p>{{MyProfileProfileStore.profile?.mobile? MyProfileProfileStore.profile?.mobile :AppStore.noContentText}}</p>
                        </div>
                        <div class="col-sm-4">
                            <h6>{{'email_id' | translate}}</h6>
                            <p>{{MyProfileProfileStore.profile?.email? MyProfileProfileStore.profile?.email :AppStore.noContentText}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4" [ngStyle] = "{display: !OrganizationLevelSettingsStore.organizationLevelSettings?.is_subsidiary ? 'none':'block'}">
                            <h6>{{'organization' | translate}}</h6>
                            <p>{{MyProfileProfileStore.profile?.organization?.title ? MyProfileProfileStore.profile?.organization?.title:AppStore.noContentText}}</p>
                        </div>
                        <div class="col-sm-4" [ngStyle] = "{display: !OrganizationLevelSettingsStore.organizationLevelSettings?.is_division ? 'none':'block'}">
                            <h6>{{'division' | translate}}</h6>
                            <p>{{MyProfileProfileStore.profile?.division?.title ? MyProfileProfileStore.profile?.division?.title:AppStore.noContentText}}</p>
                        </div>
                        <div class="col-sm-4" [ngStyle] = "{display: !OrganizationLevelSettingsStore.organizationLevelSettings?.is_department ? 'none':'block'}">
                            <h6>{{'department' | translate}}</h6>
                            <p>{{MyProfileProfileStore.profile?.department?.title ? MyProfileProfileStore.profile?.department?.title:AppStore.noContentText}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4" [ngStyle] = "{display: !OrganizationLevelSettingsStore.organizationLevelSettings?.is_section ? 'none':'block'}">
                            <h6>{{'section' | translate}}</h6>
                            <p>{{MyProfileProfileStore.profile?.section?.title ? MyProfileProfileStore.profile?.section?.title:AppStore.noContentText}}</p>
                        </div>
                        <div class="col-sm-4" [ngStyle] = "{display: !OrganizationLevelSettingsStore.organizationLevelSettings?.is_sub_section ? 'none':'block'}">
                            <h6>{{'sub_sections' | translate}}</h6>
                            <p>{{MyProfileProfileStore.profile?.sub_section?.title ? MyProfileProfileStore.profile?.sub_section?.title:AppStore.noContentText}}</p>
                        </div>
                        <div class="col-sm-4" [ngStyle] = "{display: !OrganizationLevelSettingsStore.organizationLevelSettings?.is_branch ? 'none':'block'}">
                            <h6>{{'branch' | translate}}</h6>
                            <p>{{MyProfileProfileStore.profile?.branch?.title ? MyProfileProfileStore.profile?.branch?.title:AppStore.noContentText}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4">
                            <h6>{{'roles' | translate}}</h6>
                            <p>{{MyProfileProfileStore.profile?.roles?.length > 0 ? getTransformedArray(MyProfileProfileStore.profile?.roles) : AppStore.noContentText}}</p>
                        </div>
                        <div class="col-sm-4">
                            <h6>{{'personal_email' | translate}}</h6>
                            <p>{{MyProfileProfileStore.profile?.personal_email? MyProfileProfileStore.profile?.personal_email :AppStore.noContentText}}</p>
                        </div>
                        <div class="col-sm-4" *ngIf = "OrganizationGeneralSettingsStore.organizationSettings?.is_user_license_activation">
                            <h6>{{'activation_key' | translate}} </h6>
                            <p>{{MyProfileProfileStore.profile?.user_license ? MyProfileProfileStore.profile?.user_license?.key : AppStore.noContentText}}</p>
                        </div>
                    </div>
                    <!-- contact details -->
                    <div class="row">
                        <div class="col-sm-12">
                            <h5 class="mt-0"> <span>
                                {{'permanent_address' | translate}} </span> </h5>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4">
                            <h6>{{'address' | translate}}</h6>
                            <p>{{MyProfileProfileStore.profile?.address[0]?.address?MyProfileProfileStore.profile?.address[0]?.address:AppStore.noContentText}}</p>
                        </div>
                        <div class="col-sm-4">
                            <h6>{{'state' | translate}}</h6>
                            <p>{{MyProfileProfileStore.profile?.address[0]?.state? MyProfileProfileStore.profile?.address[0]?.state:AppStore.noContentText}}</p>
                        </div>
                        <div class="col-sm-4">
                            <h6>{{'city' | translate}}</h6>
                            <p>{{MyProfileProfileStore.profile?.address[0]?.city? MyProfileProfileStore.profile?.address[0]?.city:AppStore.noContentText}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4">
                            <h6>{{'street' | translate}}</h6>
                            <p>{{MyProfileProfileStore.profile?.address[0]?.street? MyProfileProfileStore.profile?.address[0]?.street:AppStore.noContentText}}</p>
                        </div>
                        <div class="col-sm-4">
                            <h6>{{'zip' | translate}} / {{'postal_code' | translate}}</h6>
                            <p>{{MyProfileProfileStore.profile?.address[0]?.zip? MyProfileProfileStore.profile?.address[0]?.zip:AppStore.noContentText}}</p>
                        </div>
                        <div class="col-sm-4">
                            <h6>{{'contact' | translate}}</h6>
                            <p>{{MyProfileProfileStore.profile?.address[0]?.contact ? MyProfileProfileStore.profile?.address[0]?.contact:AppStore.noContentText}}</p>
                        </div>
                    </div>
                    <!-- Emergency Contact -->
                    <div class="row">
                        <div class="col-sm-12">
                            <h5> <span> {{'emergency_address' | translate}} </span> </h5>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-8">
                            <div class="row">
                                <div class="col-sm-6">
                                    <h6>{{'name' | translate}}</h6>
                                    <p>{{MyProfileProfileStore.profile?.address[1]?.relative_name ? MyProfileProfileStore.profile?.address[1]?.relative_name: AppStore.noContentText}}</p>
                                </div>
                                <div class="col-sm-6">
                                    <h6>{{'contact' | translate}} </h6>
                                    <p>{{MyProfileProfileStore.profile?.address[1]?.contact ? MyProfileProfileStore.profile?.address[1]?.contact:AppStore.noContentText}}</p>
                                </div>
                                <div class="col-sm-6">
                                    <h6>{{'relationship' | translate}}</h6>
                                    <p>{{MyProfileProfileStore.profile?.address[1]?.relationship ? MyProfileProfileStore.profile?.address[1]?.relationship:AppStore.noContentText}}</p>
                                </div>
                                <div class="col-sm-6">
                                    <h6>{{'mobile' | translate}}</h6>
                                    <p>{{MyProfileProfileStore.profile?.address[1]?.relative_mobile ? MyProfileProfileStore.profile?.address[1]?.relative_mobile:AppStore.noContentText}}</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <h6>{{'address' | translate}}</h6>
                            <p>{{MyProfileProfileStore.profile?.address[1]?.address?MyProfileProfileStore.profile?.address[1]?.address:AppStore.noContentText}}</p>
                        </div>
                    </div>
                    <!-- next raw -->
                    <h5 class="width96pc"> <span>{{'qualification' | translate}}
                    </span><a class="add-button-outlined" [attr.title]="'add_new_qualification'|translate"
                    data-toggle="modal" (click)="addNewQualification()" ><i class="fas fa-plus"></i> </a></h5>
                    <div class="row" >
                        <div class="col-sm-4 edit-option" *ngFor="let row of MyProfileProfileStore.profile?.qualifications">
                            
                                <h6>{{row.school}}</h6>
                                <p>{{row.degree}}
                                </p>
                                <p *ngIf="row.end!=null">{{row.start}}-{{row.end}}
                                </p>
                                <p *ngIf="row.end==null">{{row.start}}-Present</p>
                                <div class="edit-option-show" style="margin: 10px 0 0 0;">
                                    <a (click)="editQualification(row)"><i class="fas fa-pen"></i></a>
                                    <a (click)="deleteQualification(row.id)"><i class="fas fa-trash"></i></a>
                                </div>
                            
                        </div>
                        <div class="col-sm-12 edit-option"
                        *ngIf="MyProfileProfileStore.profile?.qualifications?.length==0">
                           <p> {{'qualification_details_not_available' | translate}}</p>
                      </div>
                    </div>
                    <h5 class="width96pc"> <span> {{'work_experience' | translate}} </span> <a class="add-button-outlined"
                            data-toggle="modal" (click)="addNewExperience()" [attr.title]="'add_new_experience'|translate"><i class="fas fa-plus"></i> </a>
                    </h5>
                    <div class="row" >
                        <div class="col-sm-4 edit-option" *ngFor="let row of MyProfileProfileStore.profile?.work_experiences">
                            <h6>{{row.company}}</h6>
                            <p>{{row.designation}}</p>
                            <p>{{row.start}} - {{row.end}}</p>
                            <div class="edit-option-show" style="margin: 10px 0 0 0;">
                                <a (click)="editExperience(row)"><i class="fas fa-pen"></i></a>
                                <a (click)="deleteExperience(row.id)"><i class="fas fa-trash"></i></a>
                            </div>
                        </div>
                        <div class="col-sm-12 edit-option"
                          *ngIf="MyProfileProfileStore.profile?.work_experiences?.length==0">
                             <p> {{'experience_details_not_available' | translate}}</p>
                        </div>
                    </div>
                    <h5 class="width96pc"><span>{{'certificates' | translate}}</span> <a class="add-button-outlined"
                            data-toggle="modal" (click)="addNewCertificate()" [attr.title]="'add_new_certificate'|translate"><i class="fas fa-plus"></i>
                        </a> </h5>
                        <div class="row" >
                    <div class="thumb-pics-bg clearfix thump-pics-full">
                        <div class="thumb-pics"
                        *ngFor="let row of MyProfileProfileStore.profile?.certificates">
                          <div class="upload-pics upload-pics-small edit-option">
                            <div class="browse-form-pic"
                            [ngStyle]="{'background': 'url('+createImageUrl('user-certificate',row.token)+') no-repeat'}"
                            (click)="viewCertificate(row)">
                            </div>
                            <div class="browse-form-name clearfix">
                              <div class="float-left">
                                <h6>{{row.certificate_name.length>20?row.certificate_name.substring(0,20)+' ...':row.certificate_name}}
                                </h6>
                                <span>{{row.size/1048576 | number:'0.2-2'}}MB</span>
                              </div>
                              <div class="browse-logo">
                                <img *ngIf="checkExtension(row.ext,'excel') != -1"
                                    src="/assets/images/md-xl.png" width="30px" height="30px">
                                <img *ngIf="checkExtension(row.ext,'image') != -1"
                                    src="/assets/images/md-jpg.png" width="30px" height="30px">
                                <img *ngIf="checkExtension(row.ext,'doc') != -1"
                                    src="/assets/images/md-doc.png" width="30px" height="30px">
                                <img *ngIf="checkExtension(row.ext,'pdf') != -1"
                                    src="/assets/images/md-pdf.png" width="30px" height="30px">
                                <img *ngIf="checkExtension(row.ext,'video') != -1"
                                    src="/assets/images/md-video.png" width="30px" height="30px">
                                <img *ngIf="checkExtension(row.ext,'audio') != -1"
                                    src="/assets/images/md-audio.png" width="30px" height="30px">
                                <img *ngIf="checkExtension(row.ext,'ppt') != -1"
                                    src="/assets/images/md-ppt.png" width="30px" height="30px">
                            </div>
                            </div>
                            <div class="edit-option-show-inner">
                                <a [attr.title]="'edit'|translate" (click)="editCertificate(row)">
                                    <i class="fas fa-pen"></i></a>
                                <a [attr.title]="'delete'|translate" (click)="deleteCertificate(row.id)">
                                    <i class="fas fa-trash"></i></a>                                       
                                <a [attr.title]="'download'|translate" (click)="downloadCertificate(row)">
                                    <i  class="fas fa-download"></i></a>                                                                    
                            </div>
                          </div>
                        </div>
                        <div class="col-sm-12 mb-2 ml-2 edit-option" *ngIf="MyProfileProfileStore.profile?.certificates?.length==0">
                            <p> {{'certification_details_not_available' | translate}}</p>

                        </div>
  
  
                      </div>
                        </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal modal-style-1 popup-full-width fade" data-keyboard="false" data-backdrop="static" #formModal>
        <app-profile-qualification-modal *ngIf="profileObject.category == 'Qualification'" [source]="profileObject">
        </app-profile-qualification-modal>
        <app-profile-experience-modal *ngIf="profileObject.category == 'Experience'" [source]="profileObject">
        </app-profile-experience-modal>
        <app-profile-certificate-modal *ngIf="profileObject.category == 'Certificate'" [source]="profileObject">
        </app-profile-certificate-modal>
    </div>
</div>
<ng-container *ngIf="!MyProfileProfileStore.loaded">
    <app-profile-loader></app-profile-loader>
</ng-container>
<!-- preview component for image preview -->
<div class="modal modal-style-1 popup-full-width fade popup-new-type" id="add-three-popup" data-keyboard="false"
    data-backdrop="static" #filePreviewModal *mobxAutorun>
    <button type="button" class="close" data-dismiss="modal" (click)="closePreviewModal($event)"><i
            class="lni-close"></i><span>{{'esc' | translate}}</span></button>
    <app-profile-preview
        *ngIf="previewObject"
        [source]="previewObject" (close)="closePreviewModal($event)">
    </app-profile-preview>
</div>
<!-- preview modal end -->

<!------------------- Delete Confirmation Modal Start --------------------------->

<div class="modal modal-style-1 fade" id="delete-popup" data-backdrop="static" data-keyboard="false" #deletePopup>
    <app-delete-popup [source]="deleteObject"></app-delete-popup>
</div>

<!------------------- Delete Confirmation Modal End --------------------------->