<main class="audit-program-details-page mt-3" *mobxAutorun>
    <div class="container-fluid widget" *ngIf="AssetMatrixStore.individual_asset_matrix_loaded">

        <div class="row">
            <div class="col-sm-12">
                <div class="tab-content">
                    <!-- Profille -->
                    <div class="tab-pane active" id="asset-profile">
                       
                            <div class="row">
                                
                                <div class="col-lg-8 col-sm-12 padding-right-0 work-flow-asset-main">
                                    <div class="edit-and-delete-main bg-white widg-padding-cmn asset-tag min-height-83">
                                    <div>
                                    
                                   
                                    
                                        <div class="issue-top-sec">
                                                <h5 class="d-inline-block cmn-head-style  mr-2 mb-3">{{AssetMatrixStore?.individualAssetMatrixDetails?.title}}</h5>                                                
                                        </div> 
                                        <div class="clearfix" *ngIf="AssetMatrixStore?.individualAssetMatrixDetails?.description">
                                            <p style="white-space: pre-line;">{{AssetMatrixStore?.individualAssetMatrixDetails?.description?.length > 0
                                                ? AssetMatrixStore?.individualAssetMatrixDetails?.description :
                                                AppStore.noContentText}}</p>
                                        </div>
                                        
                                        <div class=" work-flow-approval work-flow-audit-new box-shadow-none w-100  cmn-bdr border-radius mb-4"><!-- work-flow-review-approval starts -->
                                            <!--<div class="edit-option-show" style="margin: 41px -6px 0 0;">
                                              <a href="#"><i class="fas fa-trash"></i></a>
                                            </div>-->
                                            <span class="label-work-flow-audit outline-tag-orange text-orange">{{'matrix_category'|translate}}</span>
                                            <div class="work-flow-user-box  align-items-center pt-1 pb-1  ">
                                                <div class="work-flow-user-box  align-items-center">
                                                    <div class="row calculation-lg">
                                                        <div class="col-md-4" *ngFor="let mCat of AssetMatrixStore?.individualAssetMatrixDetails?.asset_matrix_categories; let num=index">
                                                            <div class="d-flex pt-2 pb-2">
                                                                <div class="w-100">
                                                                    <h6 class="mt-1 mb-1">{{mCat.asset_matrix_category.title}}</h6>                                                                 
                                                                </div> 
                                                                <div  class="margin-45 pl-2" style="width:30px;" *ngIf="AssetMatrixStore?.individualAssetMatrixDetails?.asset_matrix_categories?.length-1!=num">
                                                                    <span [ngClass]="AssetMatrixStore?.individualAssetMatrixDetails?.asset_calculation_method?.type+'-lg cmn-calc'"></span>   
                                                                </div>                                                           
                                                            </div>
                                                        </div>
                                                       
                                                    </div>
                                                </div>
                                                <!-- <div class="row">
                                                    <div class="col-md-4" *ngFor="let mCat of AssetMatrixStore?.individualAssetMatrixDetails?.asset_matrix_categories; let num=index">
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <h6 class="mt-1 mb-1">{{mCat.asset_matrix_category.title}}</h6>
                                                            </div>
                                                            <div class="col-md-6" *ngIf="AssetMatrixStore?.individualAssetMatrixDetails?.asset_matrix_categories?.length-1!=num">
                                                                <h6 class="mt-1 mb-1 calculation-main-cls" style="text-align: center;" >
                                                                    {{AssetMatrixStore?.individualAssetMatrixDetails?.asset_calculation_method?.type=='addition'?'+':'*'}}
                                                                    <span [ngClass]="'calculation ml-1 '+AssetMatrixStore?.individualAssetMatrixDetails?.asset_calculation_method?.type"></span>
                                                                </h6>
                                                            </div>
                                                        </div>
                                                      
                                                    </div>
                                                    
                                                  
                                                </div> -->
                                             
                                            </div>
                                         
                                         </div>

                                         <div class="row">
                                             <div class="col-md-12">
                                                 <h6>{{'option_values'|translate}}</h6>
                                                 <div class="mb-3 mt-2"> 
                                                     <label [ngClass]="'outline-tag text-'+option.label+' outline-tag-'+option.label" *ngFor="let option of AssetMatrixStore?.individualAssetMatrixDetails?.asset_option_values">{{option.language[0]?.pivot?.title}} ({{option.score}})</label> 
                                                     <!-- <label class=" outline-tag text-light-green outline-tag-green">Minor (2)</label> 
                                                     <label class=" outline-tag text-yellow outline-tag-yellow">Moderate (3)</label> 
                                                     <label class=" outline-tag outline-tag-orange text-orange">Major (4)</label> 
                                                     <label class=" outline-tag text-red outline-tag-red">Extreme (5)</label> -->
                                                 </div>
                                             </div>
                                         </div>

                                         <div class="row">
                                             <div class="col-md-12">
                                                 <!-- <div class="mb-3">
                                                 <h6>{{'calculation_method'|translate}}</h6>
                                                 <label class="outline-tag active calculation-main-cls">{{AssetMatrixStore?.individualAssetMatrixDetails?.asset_calculation_method?.language[0]?.pivot?.title}} <span [ngClass]="'calculation ml-1 '+AssetMatrixStore?.individualAssetMatrixDetails?.asset_calculation_method?.type"></span> </label>
                                                </div> -->
                                                <div class="calculation-main-cls">
                                                    <h6>{{'calculation_method'|translate}}</h6>
                                                    <div class="mb-2">
                                                        <label class="outline-tag active calculation-main-cls">{{AssetMatrixStore?.individualAssetMatrixDetails?.asset_calculation_method?.language[0]?.pivot?.title}} <span [ngClass]="'calculation ml-1 '+AssetMatrixStore?.individualAssetMatrixDetails?.asset_calculation_method?.type"></span> </label>
                                                        <!-- <p class="outline-tag">Multiplication (*)</p> 
                                                             <p class="outline-tag active">Highest Value  <span>(<i class="fa fa-arrow-up"></i>)</span></p> 
                                                             <p class="outline-tag">Average (xÌ„)</p>  -->
                                                    </div>
                                                    <!-- <p class="form-error pt-1" *ngIf="formErrors && formErrors.asset_calculation_method_id"> {{formErrors.asset_calculation_method_id}}</p> -->
                                                    
                                                 </div>
                                             </div>
                                         </div>

                                         <div class="row">
                                            <div class="col-md-12">
                                                <div class="risk-score-box">
                                                    <h6 class="bold mb-2">{{'criticality_rating'|translate}}</h6>
                                                    <h5 class="font-normal" *ngFor="let rating of AssetMatrixStore?.individualAssetMatrixDetails?.asset_ratings"><span [ngClass]="'risk-score-indication bg-'+rating.asset_rating?.label"></span>{{rating.asset_rating?.language[0]?.pivot?.title}} ( {{rating?.score_from}} - {{rating.score_to}} )</h5>
                                                    <!-- <h5><span class="risk-score-indication bg-light-green"></span>Minor ( 11-19 )</h5>
                                                    <h5><span class="risk-score-indication bg-dark-yellow"></span>Moderate ( 20-30 )</h5> -->
                                                    <!--<h5><span class="risk-score-indication bg-dark-orange"></span><span>Major ( 4 )</span></h5>
                                                    <h5><span class="risk-score-indication bg-dark-red"></span><span>Extreme ( 5 )</span></h5>-->
                                                </div>
                                            </div>
                                        </div>
                                       
                                        </div>
                                        </div>

                                     

                                    </div>
                                   
                                
                            
                                <div class="col-lg-4 col-sm-12">

                                   
                                    <div class="edit-and-delete-main bg-white widg-padding-cmn-small mb-3" style="min-height: 250px;">
                                        <div class="edit-option-show" style="margin: 33px 0 0 0;">
                                            <a data-toggle="modal" (click)="openCategoryModal()" style="cursor: pointer"><i class="fas fa-pen"></i></a>
                                        </div>
                                        <h6>{{'asset_category'|translate}}</h6>
                                        <hr class="mt-0 mb-3">

                                       <div class="row align-items-center">
                                           <div class="col-md-12">
                                            <div class="mb-2 mt-2 clearfix">
                                                
                                                <label class="outline-tag" *ngFor = "let cat of AssetMatrixStore?.individualAssetMatrixDetails?.asset_categories">{{cat.title}}</label>
                                                <!-- <label class="outline-tag">Physical Assets</label>  -->

                                            </div>
                                           </div>
                                       </div>

                                    </div>




                                </div>
                                
                               </div>
                            
                       
                    </div>

         

                </div>
            </div>
        </div>
    </div>
    <ng-container *ngIf="!AssetMatrixStore.individual_asset_matrix_loaded">
        <app-asset-matrix-detail-loader></app-asset-matrix-detail-loader>
    </ng-container>
</main>

<div class="modal modal-style-1 popup-full-width fade show" id="add-asset-category-sub-popup" data-keyboard="false" data-backdrop="static" #addCategory>
<app-add-asset-category *ngIf="openCategory == true"></app-add-asset-category> 
</div>

<div class="modal modal-style-1 popup-full-width fade show" data-keyboard="false" data-backdrop="static" #addMatrix *mobxAutorun>
    <app-add-asset-matrix *ngIf="matrixObject.type" [source]="matrixObject"></app-add-asset-matrix>
    </div>

    <!------------------- Delete Confirmation Modal Start --------------------------->

<div class="modal modal-style-1 fade" id="delete-popup" data-backdrop="static" data-keyboard="false" #deletePopup>
    <app-delete-popup [source]="deleteObject"></app-delete-popup>
</div>

<!------------------- Delete Confirmation Modal End --------------------------->