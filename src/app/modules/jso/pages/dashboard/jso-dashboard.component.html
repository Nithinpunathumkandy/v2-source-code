<nav class="edit-bar" data-toggle="affix" scrollPoint #navigationBar *mobxAutorun>
   <app-breadcrumb-menu></app-breadcrumb-menu>
   <div class="module-name-block module-name-block-space float-left">
      <a class="dropdown module-title">{{'dashboard'|translate}}</a>
    </div>  
</nav>

<main class="mt-3 db-layout-150" *mobxAutorun>
   <div class="container-fluid" *ngIf="Jso_dashboard_loader">
      <div class="widget">

         <div class="row sm-row five-row" *ngIf = "AuthStore.getActivityPermission(2000,'DASHBOARD_JSO_COUNTS')">

            <div class="col sm-col" *ngIf="OrganizationModulesStore.checkIndividualSubModule(2000,36301)">
               <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">

                  <div class="text-center">
                     <h3 class="big-text-four">{{JsoDashboardStore.jsoCount?.total_observation_count}}</h3>
                     <h5 class="mb-0">{{'observations' | translate}}</h5>
                  </div>

               </div>
            </div>

            <div class="col sm-col">
               <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">

                  <div class="text-center">
                     <h3 class="big-text-four">{{JsoDashboardStore.jsoCount?.total_observation_open_count}}</h3>
                     <h5 class="mb-0">{{'open' | translate}}</h5>
                  </div>

               </div>
            </div>

            <div class="col sm-col">
               <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">

                  <div class="text-center">
                     <h3 class="big-text-four">{{JsoDashboardStore.jsoCount?.total_observation_closed_count}}</h3>
                     <h5 class="mb-0">{{'closed' | translate}}</h5>
                  </div>

               </div>
            </div>

            <div class="col sm-col">
               <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">

                  <div class="text-center">
                     <h3 class="big-text-four">{{JsoDashboardStore.jsoCount?.total_positive_count}}</h3>
                     <h5 class="mb-0">{{'safe_actions' | translate}}</h5>
                  </div>

               </div>
            </div>

            <div class="col sm-col" *ngIf="OrganizationModulesStore.checkIndividualSubModule(2000,36901)">
               <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">

                  <div class="text-center">
                     <h3 class="big-text-four">{{JsoDashboardStore.jsoCount?.total_negative_count}}</h3>
                     <h5 class="mb-0">{{'unsafe_actions' | translate}}</h5>
                  </div>
               </div>
            </div>

         </div>

         <div class="row sm-row" *ngIf = "OrganizationModulesStore.checkOrganizationModules(2000) && AuthStore.getActivityPermission(2000,'DASHBOARD_JSO_OBSERVATIONS_PERCENTAGE_PARTICIPATION_PER_DEPARTMENT')">
            <div class="col-sm-12 sm-col" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(2000,45601)">
               <div class="bg-white widg-padding-cmn btm-space-10 ceo-db-aut-four">
                  <h5 class="cmn-head-style m-0">{{'unsafe_action_by_category' | translate}}</h5>
                  <hr>

                  <div class="jso-db-min-height-250" *ngIf="!showObservationCategoriesNoDataMap">
                     <div id="observationCategoriesChart" style="width: 100%; height: 250px"></div>
                  </div>
                  <div class="jso-db-min-height-250" *ngIf="showObservationCategoriesNoDataMap">
                     <app-no-chart-data [source]="noDataSource">
                     </app-no-chart-data>
                  </div>
               </div>
            </div>
         </div>

         <div class="row sm-row" *ngIf = "OrganizationModulesStore.checkOrganizationModules(2000) && AuthStore.getActivityPermission(2000,'DASHBOARD_JSO_POSITIVE_VS_NEGATIVE_COUNTS')">
            <div class="col-lg-6 col-sm-12 sm-col" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(2000,45601)">
               <div class="bg-white widg-padding-cmn btm-space-10 ceo-db-aut-four">
                  <h5 class="cmn-head-style m-0">{{'safe_vs_unsafe' | translate}}</h5>
                  <hr>

                  <div class="jso-db-min-height-250" *ngIf="!showsafeVsUnsafeActionsNoDataMap">
                     <div  id="safeVsUnsafeActionChart" style="width: 100%; height: 250px"></div>
                  </div>
                  <div class="jso-db-min-height-250" *ngIf="showsafeVsUnsafeActionsNoDataMap">
                     <app-no-chart-data [source]="noDataSource">
                     </app-no-chart-data>
                  </div>
               </div>
            </div>

            <div class="col-lg-6 col-sm-12 sm-col" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(2000,36901) && AuthStore.getActivityPermission(2000,'DASHBOARD_JSO_OBSERVATION_CATEGORIES')">
               <div class="bg-white widg-padding-cmn btm-space-10 ceo-db-aut-four">
                  <h5 class="cmn-head-style m-0">{{'percentage_participation_department' | translate}}</h5>
                  <hr>

                  <div class="jso-db-min-height-250" *ngIf = "!showParticipationDepartmentNoDataMap">
                     <div id="ParticipationDepartmentchart" style="width: 100%; height: 250px"></div>
                  </div>
                  <div class="jso-db-min-height-250" *ngIf="showParticipationDepartmentNoDataMap">
                     <app-no-chart-data [source]="noDataSource">
                     </app-no-chart-data>
                  </div>
               </div>
            </div>
         </div>

         <div class="row sm-row" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(2000,36301) && AuthStore.getActivityPermission(2000,'DASHBOARD_JSO_OBSERVATION_OPEN_VS_CLOSED_COUNTS')">
            <div class="col-lg-6 col-sm-12 sm-col" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(2000,36301)">
               <div class="bg-white widg-padding-cmn btm-space-10 ceo-db-aut-four">
                  <h5 class="cmn-head-style m-0">{{'open_vs_closed' | translate}}</h5>
                  <hr>
                  <div class="jso-db-min-height-250" *ngIf="!showOpenClosedNoDataMap">
                     <div id="openclosechart" style="width: 100%; height: 250px"></div>
                  </div>
                  <div class="jso-db-min-height-250" *ngIf="showOpenClosedNoDataMap">
                     <app-no-chart-data [source]="noDataSource">
                     </app-no-chart-data>
                  </div>
               </div>
            </div>

            <div class="col-lg-6 col-sm-12 sm-col" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(2000,36301) && AuthStore.getActivityPermission(2000,'DASHBOARD_JSO_NUMBER_OF_OBSERVATION_PER_DEPARTMENT')">
               <div class="bg-white widg-padding-cmn btm-space-10 ceo-db-aut-four">
                  <h5 class="cmn-head-style m-0">{{'number_observations_per_designation' | translate}}</h5>
                  <hr>
                  <div class="jso-db-min-height-250" *ngIf="!showNumberOfObservationsNoDataMap"> 
                     <div id="numberOfObservationChart" style="width: 100%; height: 250px"></div>
                  </div>
                  <div class="jso-db-min-height-250" *ngIf="showNumberOfObservationsNoDataMap">
                     <app-no-chart-data [source]="noDataSource">
                     </app-no-chart-data>
                  </div>
               </div>
            </div>
         </div>

      </div>
      
   </div>
   <ng-container *mobxAutorun>
      <div *ngIf="!Jso_dashboard_loader">
        <app-jso-dashboard-loader></app-jso-dashboard-loader>
      </div>
  </ng-container>
</main>