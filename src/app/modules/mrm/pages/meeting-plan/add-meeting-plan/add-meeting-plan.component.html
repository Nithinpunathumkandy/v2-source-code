<div #plainDev></div>
<nav class="edit-bar" data-toggle="affix" #navigationBar>

    <app-breadcrumb-menu></app-breadcrumb-menu>
    <app-sub-menu></app-sub-menu>

</nav>
<main class="mt-3 organization-page tab-btns-five">
    <div class="container-fluid">
        <div class="organization-form-page master-form-page" *mobxAutorun>
            <form id="regForm" [formGroup]="form" class="organization-multi-stup-form issue-multi-stup-form">
                <!-- Circles which indicates the steps of the form: -->
                <div id="header-sroll-form" class="form-indicates-sec clearfix" #formSteps>
                    <span class="step pointer" (click)="changeStep(0)"><span class="multi-form-nbr">1</span>{{'info' |
                        translate}}</span>
                    <span class="step pointer" (click)="changeStep(1)"><span
                            class="multi-form-nbr">2</span>{{'participants' | translate}}</span>
                    <span class="step pointer" (click)="changeStep(2)"><span class="multi-form-nbr">3</span>{{'mapping'|
                        translate}}</span>
                    <span class="step pointer" (click)="changeStep(3)"><span class="multi-form-nbr">4</span>{{'agendas'|
                        translate}}</span>
                    <span [attr.disabled]="form.invalid || MeetingPlanStore.meetingPlanAgendas.length==0" 
                    [ngClass]="{'pointer': !form.invalid && MeetingPlanStore.meetingPlanAgendas.length}"
                    class="step " (click)="changeStep(4)"><span
                            class="multi-form-nbr">5</span>{{'preview_save' | translate}}</span>
                </div>
                <!-- One "tab" for each step in the form: -->
                <!-- fast form fill-thalsi -->
                <div class="tab">
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label for="name">{{'category' | translate}}<span class="form-error">*</span></label>
                                <div class="clearfix d-flex">
                                    <div class="multiple-plain-ngselect w-100">
                                        <ng-select [placeholder]="'select_category' | translate" [multiple]="false"
                                            [items]="MeetingCategoryMasterStore.allItems"
                                            formControlName="meeting_category_id" (open)="getMeetingCategory()"
                                            (search)="searchMeetingCategory($event)" bindLabel="title">

                                            <ng-template ng-label-tmp let-item="item" let-clear="clear">
                                                {{item?.title?.length > 60 ? (item.title | slice:0:60)+' ...' :
                                                item.title}}
                                            </ng-template>
                                            <ng-template ng-option-tmp let-item="item" let-index="index">
                                                {{item?.title?.length > 80 ? (item.title | slice:0:80)+' ...' :
                                                item.title}}
                                            </ng-template>
                                        </ng-select>
                                        <p class="pt-1" style="color: red;"
                                            *ngIf="formErrors && formErrors.meeting_category_id">
                                            {{formErrors.meeting_category_id}}
                                        </p>
                                    </div>
                                    <button class="btn multi-add-user ml-2" style="width: 42px;" (click)="categoryAdd()"
                                        *ngIf="currentTab==0 && AuthStore.getActivityPermission(1600,'CREATE_MEETING_CATEGORY')"><i
                                            class="fas fa-plus"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label for="name"> {{'previous_meeting' | translate}}</label>
                                <div class="clearfix">
                                    <div class="multiple-plain-ngselect">
                                        <ng-select [placeholder]="'select_previous_meeting' | translate" [multiple]="false"
                                            [items]=" MeetingsStore?.allItems" formControlName="meeting_id"
                                            bindLabel="title" (open)="getPreviousMeetings()"
                                            (search)="searchPreviousMeetings($event)">
                                            <!-- <ng-option [value]="previous_meeting.id" *ngFor="let previous_meeting of MeetingsStore?.allItems">
                                                {{previous_meeting.title.length > 80 ? previous_meeting.title.substring(0,80)+' ...' : previous_meeting.title}}
                                            </ng-option> -->
                                            <ng-template ng-label-tmp let-item="item" let-clear="clear">
                                                {{item?.title?.length > 60 ? (item.start | date:
                                                OrganizationGeneralSettingsStore?.organizationSettings?.date_format)+'
                                                '+(item.title | slice:0:60)+' ...' : (item.start | date:
                                                OrganizationGeneralSettingsStore?.organizationSettings?.date_format)+'
                                                '+ item.title}}
                                            </ng-template>
                                            <ng-template ng-option-tmp let-item="item" let-index="index">
                                                {{item?.title?.length > 80 ? (item.start | date:
                                                OrganizationGeneralSettingsStore?.organizationSettings?.date_format)+'
                                                '+(item.title | slice:0:80)+' ...' : (item.start | date:
                                                OrganizationGeneralSettingsStore?.organizationSettings?.date_format)+'
                                                '+ item.title}}
                                            </ng-template>
                                        </ng-select>
                                        <p class="pt-1" style="color: red;" *ngIf="formErrors && formErrors.meeting_id">
                                            {{formErrors.meeting_id}}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label for="name"> {{'title' | translate}}<span class="form-error">*</span></label>
                                <input type="text" class="form-control" formControlName="title"
                                    [placeholder]="'title_of_the_meeting_plan' | translate">
                                <p class="pt-1" style="color: red;" *ngIf="formErrors && formErrors.title">
                                    {{formErrors.title}}
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group add-kpi-textarea">
                                <label for="name"> {{'description' | translate}}</label>
                                <span class="float-right">
                                    <p class="text-grey mb-0">{{form?.value.description != null ?
                                        form?.value.description?.length : 0}}
                                        {{'characters' | translate}}</p>
                                </span>
                                <textarea class="form-control" rows="11" id="comment" formControlName="description"
                                    [placeholder]="'write_a_short_description_of_the_Meeting_Plan' | translate"></textarea>
                                <p class="pt-1" style="color: red;" *ngIf="formErrors && formErrors.description">
                                    {{formErrors.description}}
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label for="name">{{'start_date/time' | translate}}<span
                                        class="form-error">*</span></label>
                                <div class="input-group">
                                    <input class="form-control" formControlName="from" [owlDateTime]="dt1" [min]="createDateTimeValidator(1)"
                                        [owlDateTimeTrigger]="dt1" 
                                        [placeholder]="'start_date/time' | translate" style="background-color: white;">
                                    <owl-date-time [hour12Timer]="OrganizationGeneralSettingsStore?.organizationSettings?.clock_format=='12-hour clock'?true:false" #dt1></owl-date-time>
                                    <div class="input-group-append">
                                        <button [owlDateTimeTrigger]="dt1" class="btn btn-outline-secondary calendar"
                                            type="button"><i class="fas fa-calendar-alt"></i></button>
                                    </div>
                                </div>
                                <p class="pt-1" style="color: red;" *ngIf="formErrors && formErrors.from">
                                    {{formErrors.from}}
                                </p>
                                <p class="pt-1" style="color: red;" *ngIf="(MeetingPlanStore.editFlag && MeetingPlanStore.individualLoaded) ? passDateChecking():false">
                                    {{'wrong_date_or_time_selected_please_check_and_verify' | translate}}
                                </p>

                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group">
                                <label for="name">{{'end_date/time' | translate}}<span
                                        class="form-error">*</span></label>
                                <div class="input-group">
                                    <input class="form-control" [owlDateTime]="dt2" formControlName="to"
                                        [min]="createDateTimeValidator(0)" [owlDateTimeTrigger]="dt2"
                                        [placeholder]="'end_date/time' | translate" style="background-color: white;">
                                    <owl-date-time [hour12Timer]="OrganizationGeneralSettingsStore?.organizationSettings?.clock_format=='12-hour clock'?true:false" #dt2></owl-date-time>
                                    <div class="input-group-append">
                                        <button [owlDateTimeTrigger]="dt2" class="btn btn-outline-secondary calendar"
                                            type="button"><i class="fas fa-calendar-alt"></i></button>
                                    </div>
                                </div>
                                <p class="pt-1" style="color: red;" *ngIf="formErrors && formErrors.to">
                                    {{formErrors.to}}
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-5">

                            <label class="bold" for="name"> {{'meeting_types' | translate}}</label>
                            <div class="Preview-block pt-0">

                                <div class="row">
                                    <div class="col-sm-6"
                                        *ngFor="let data of MeetingTypeMasterStore.allItems; let i=index">
                                        <div class="Preview-checkbox clearfix">
                                            <label class="container2 remember-txt float-left">
                                                <input type="checkbox" [checked]="getMeetingTypeStatus(data.id)"
                                                    [value]="data" (change)="onCheckboxChange($event,data)">
                                                <span class="checkmark"></span>
                                                {{data.meeting_type_language_title}}</label>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <p class="pt-1" style="color: red;" *ngIf="formErrors && formErrors.meeting_type_ids">
                                {{formErrors.meeting_type_ids}}
                            </p>
                        </div>

                    </div>

                    <div class="row multi-stup-form-common">
                        <div class="col-lg-6 col-sm-12" *ngIf="OrganizationGeneralSettingsStore?.organizationSettings?.is_ms_type">
                            <div class="form-group">
                                <label for="name"> {{'ms_types' | translate}}</label>
                                <div class="clearfix">
                                    <div class="multiple-plain-ngselect">
                                        <ng-select [placeholder]="'select_ms_types' | translate"
                                            [items]="MsTypeStore.msTypeDetails" multiple="true"
                                            formControlName="ms_type_organization_ids" (open)="getMsType()"
                                            (search)="searchMsType($event)" bindLabel="ms_type_title">
                                            <ng-template ng-label-tmp let-item="item" let-clear="clear">
                                                <label class="mb-0">{{item?.ms_type_title?.length > 60 ?
                                                    (item.ms_type_title | slice:0:60)+' ...' : item.ms_type_title}}<span
                                                        style="color: #7c7a7a;">V
                                                        {{item.ms_type_version_title}}</span></label><span
                                                    aria-hidden="true" (click)="clear(item)" style="border:none;"
                                                    class="ng-value-icon left">×</span>
                                            </ng-template>
                                            <ng-template ng-option-tmp let-item="item" let-index="index">
                                                <label class="mb-0">{{item?.ms_type_title?.length > 80 ?
                                                    (item.ms_type_title | slice:0:80)+' ...' : item.ms_type_title}}<span
                                                        style="color: #7c7a7a;">V
                                                        {{item.ms_type_version_title}}</span></label>
                                            </ng-template>
                                        </ng-select>
                                        <p class="pt-1" style="color: red;"
                                            *ngIf="formErrors && formErrors.ms_type_organization_ids">
                                            {{formErrors.ms_type_organization_ids}}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                            <div class="col-sm-6" *ngIf="offlineEnable">       
                                <div class="form-group">
                                    <label for="name"> {{'venue' | translate}}<span
                                        class="form-error">*</span></label>
                                    <div class="clearfix d-flex">
                                        <div class="multiple-plain-ngselect w-100">
                                            <ng-select [placeholder]="'select_venue' | translate" 
                                                [multiple]="false"
                                                [items]="venueArray" 
                                                formControlName="venue_id"
                                                (open)="getVenue()" 
                                                (search)="searchVenue($event)" 
                                                bindLabel="id">
                                                
                                                <ng-template ng-label-tmp let-item="item" let-clear="clear">
                                                    {{item?.title?.length > 60 ? (item.title | slice:0:60)+' ...' :
                                                    item.title}}
                                                </ng-template>
                                                <ng-template ng-option-tmp let-item="item" let-index="index">
                                                    {{item?.title?.length > 80 ? (item.title | slice:0:80)+' ...' :
                                                    item.title}}
                                                </ng-template>
                                            </ng-select>
                                            <p class="pt-1" style="color: red;" *ngIf="formErrors && formErrors.venue_id">
                                                {{formErrors.venue_id}}
                                            </p>
                                        </div>
                                        <button class="btn multi-add-user ml-2" style="width: 42px;" *ngIf="currentTab==0 && AuthStore.getActivityPermission(1100,'CREATE_VENUE')" (click)="VenueAdd()"><i
                                                class="fas fa-plus"></i></button>
                                    </div>
                                </div>
                            </div>
                        
                        <div class="col-sm-6" *ngIf="onlineEnable">
                            <div class="form-group">
                                <label for="name"> {{'meeting_link' | translate}}<span
                                    class="form-error">*</span></label>
                                <input type="text" class="form-control" formControlName="meeting_link"
                                    [placeholder]="'meeting_link_placeholder' | translate">
                                <p class="pt-1" style="color: red;" *ngIf="formErrors && formErrors.meeting_link">
                                    {{formErrors.meeting_link}}
                                </p>
                            </div>
                        </div>

                    </div>
                    <!-- <div class="row" > -->
                        
                    <!-- </div> -->

      
                    <div class="row">
                        <div class="col-lg-6 col-sm-12">
                            <div class="form-group add-new-plus-round">

                                <label for="name">{{'criteria' | translate}}<button (click)="criteriaAdd()"
                                        type="button" class="btn btn-active add-plus ml-2"
                                        style="display: inline-block;"><i class="fa fa-plus"> </i></button></label>
                                <div class="delete-bullet-point">
                                    <ul class="arrowlist ml-0 pl-0 mt-0 mb-0">
                                        <li
                                            *ngFor="let criteria of MeetingCriteriaMasterStore._selectedMeetingCriteriaAll">
                                            {{criteria.title}}
                                            <button (click)="deleteMeetingCriteria(criteria);" type="button"
                                                class="btn btn-small float-right btn-small-delete"
                                                style="border: none;"><i class="fas fa-trash"></i></button>
                                        </li>

                                    </ul>
                                </div>
                                <p *ngIf="MeetingCriteriaMasterStore._selectedMeetingCriteriaAll.length==0">
                                    {{AppStore.noContentText}}</p>
                                <p class="pt-1" style="color: red;"
                                    *ngIf="formErrors && formErrors.meeting_criterion_ids">
                                    {{formErrors.meeting_criterion_ids}}</p>
                            </div>
                        </div>
                        <div class="col-lg-6 col-sm-12">
                            <div class="form-group add-new-plus-round">
                                <label for="name">{{'objectives' | translate}}<button (click)="objectiveAdd()"
                                        type="button" class="btn btn-active add-plus ml-2"
                                        style="display: inline-block;"><i class="fa fa-plus"> </i></button></label>
                                <div class="delete-bullet-point">
                                    <ul class="arrowlist ml-0 pl-0 mt-0 mb-0">
                                        <li
                                            *ngFor="let objective of MeetingObjectiveMasterStore._selectedMeetingObjectiveAll">
                                            {{objective.title}}
                                            <button (click)="deleteMeetingObjective(objective);" type="button"
                                                class="btn btn-small float-right btn-small-delete"
                                                style="border: none;"><i class="fas fa-trash"></i></button>
                                        </li>

                                    </ul>
                                </div>
                                <p *ngIf="MeetingObjectiveMasterStore._selectedMeetingObjectiveAll.length==0">
                                    {{AppStore.noContentText}}</p>
                                <p class="pt-1" style="color: red;"
                                    *ngIf="formErrors && formErrors.meeting_objective_ids">
                                    {{formErrors.meeting_objective_ids}}</p>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label for="name" class="label-style"> {{'support_files' | translate}}</label>

                                <!-- Common File Upload Starts Here -->
                                <div class="scroll-documents" #uploadArea>
                                    <div class="thumb-pics-bg thumb-pics-col-4 clearfix thumb-pics-fix-text"
                                        style="padding-top: 0;">
                                        <div class="thumb-pics">
                                            <div class="question-circle-inp" style="margin-right: 7px;">
                                                <i class="far fa-question-circle"></i>
                                                <div class="message-password-inp bottom-show">
                                                    <p class="mb-0">{{'allowed_file_types' | translate}}
                                                        {{OrganizationGeneralSettingsStore.organizationSettings?.support_file_allowed_types.toString()}}
                                                    </p>
                                                </div>
                                            </div>

                                            <div class="form-group form-group-upload">
                                                <div class="darag-dropifile-upload">
                                                    <div class="d-flex justify-content-center align-items-center text-center">
                                                        <div>
                                                            <img src="/assets/images/drag-pic.png" alt="image"
                                                                class="drag-pic-files">
                                                            <div class="drag-file-name"> {{'select_or_upload_your_file_here' | translate}} </div>
                                                            <div class="upload-btn-wrapper">
                                                                <button (click)="openFileUploadModal()" type="button"
                                                                    class="btn">{{'browse_files' | translate}}</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="thumb-pics"
                                            *ngFor="let docs of fileUploadPopupStore.displayFiles ;let i = index">
                                            <div class="upload-pics edit-option" data-toggle="modal">
                                                <div *ngIf="docs.id && !docs.preview" class="browse-form-pic"
                                                    [ngStyle]="{'background': 'url('+createImageUrl('document-version',docs?.token)+') no-repeat'}">
                                                </div>
                                                <div *ngIf="docs.preview" class="browse-form-pic"
                                                    [ngStyle]="{'background': 'url(' + docs?.preview + ') no-repeat 0 0 / cover'}">
                                                </div>
                                                <div class="browse-form-name clearfix">
                                                    <div class="float-left">
                                                        <h6>{{docs.title?docs.title:docs.name?docs.name:docs.version_title?docs.version_title:"NA"}}.{{docs.ext}}
                                                        </h6>
                                                        <span *ngIf="docs.is_kh_document" class="mr-2 cmn-clr"><i
                                                                class="fas fa-book"></i></span>
                                                        <span *ngIf="!docs.is_kh_document" class="mr-2 cmn-clr"><i
                                                                class="fas fa-laptop"></i></span>
                                                        <span>{{docs.size/1048576 | number:'0.2-2'}}MB</span>
                                                    </div>
                                                    <div class="browse-logo">
                                                        <img *ngIf="checkExtension(docs.ext,'image') != -1" class="folder-picher"
                                                            src="/assets/images/jpg-icone.png">
                                                        <img *ngIf="checkExtension(docs.ext,'doc') != -1" class="folder-picher"
                                                            src="/assets/images/word-icone.png">
                                                        <img *ngIf="checkExtension(docs.ext,'pdf') != -1" class="folder-picher"
                                                            src="/assets/images/pdf-icone.png">
                                                        <img *ngIf="checkExtension(docs.ext,'excel') != -1" class="folder-picher"
                                                            src="/assets/images/excel-icone.png">
                                                        <img *ngIf="checkExtension(docs.ext,'video') != -1" class="folder-picher"
                                                            src="/assets/images/md-video.png">
                                                        <img *ngIf="checkExtension(docs.ext,'audio') != -1" class="folder-picher"
                                                            src="/assets/images/md-audio.png">
                                                        <img *ngIf="checkExtension(docs.ext,'ppt') != -1" class="folder-picher"
                                                            src="/assets/images/md-ppt.png">
                                                    </div>
                                                </div>
                                                <div class="edit-option-show">
                                                    <a (click)="removeDocument(docs)"><i class="fas fa-trash"></i></a>
                                                </div>
                                            </div>
                                        </div>


                                    </div>
                                </div>
                                <!-- Common File Upload Ends Here -->
                            </div>
                        </div>
                    </div>

                </div>

                <div class="tab">
                    <div class="row">
                        <div class="col-sm-6"
                            *ngIf="OrganizationLevelSettingsStore.organizationLevelSettings?.is_subsidiary">
                            <div class="form-group">
                                <label for="name">{{'organizations' | translate}}<span
                                        class="form-error">*</span></label>
                                <div class="clearfix">
                                    <div class="multiple-plain-ngselect">
                                        <ng-select [items]="SubsidiaryStore.subsidiaryList"
                                            [placeholder]="'select_organizations' | translate" multiple="true"
                                            formControlName="organization_ids" (open)="getOrganization()"
                                            (clear)="getOrganization();resetFormSelectClose(1)"
                                            (remove)="resetFormSelectClose(1)"
                                            (search)="searchOrganization($event)" bindLabel="title">
                                            <ng-template ng-label-tmp let-item="item" let-clear="clear">
                                                {{item?.title?.length > 60 ? (item.title | slice:0:60)+' ...' :
                                                item.title}}<span aria-hidden="true" (click)="clear(item)"
                                                    style="border:none;" class="ng-value-icon left">×</span>
                                            </ng-template>
                                            <ng-template ng-option-tmp let-item="item" let-index="index">
                                                {{item?.title?.length > 80 ? (item.title | slice:0:80)+' ...' :
                                                item.title}}
                                            </ng-template>
                                            <!-- <ng-option [value]="org.id" *ngFor="let org of SubsidiaryStore.subsidiaryList">
                                            {{org.title.length > 2 ? org.title.substring(0,2)+'...' : org.title}}
                                        </ng-option> -->
                                        </ng-select>
                                        <p class="pt-1" style="color: red;"
                                            *ngIf="formErrors && formErrors.organization_ids">
                                            {{formErrors.organization_ids}}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- [ngStyle]="{display: !OrganizationLevelSettingsStore.organizationLevelSettings?.is_division ? 'none':'block'}" -->
                        <div class="col-sm-6"
                        *ngIf="OrganizationLevelSettingsStore.organizationLevelSettings?.is_division"
                           >
                            <div class="form-group">
                                <label for="name">{{'divisions' | translate}}<span class="form-error">*</span></label>
                                <div class="clearfix">
                                    <div class="multiple-plain-ngselect">
                                        <ng-select [items]="DivisionMasterStore.allItems"
                                            [placeholder]="'select_divisions' | translate" multiple="true"
                                            formControlName="division_ids" (search)="searchDivision($event)"
                                            (clear)="getDivision();resetFormSelectClose(2)" (open)="getDivision()"
                                            (remove)="resetFormSelectClose(2)" bindLabel="title">
                                            <ng-template ng-label-tmp let-item="item" let-clear="clear">
                                                {{item?.title?.length > 60 ? (item.title | slice:0:60)+' ...' :
                                                item.title}}<span aria-hidden="true" (click)="clear(item)"
                                                    style="border:none;" class="ng-value-icon left">×</span>
                                            </ng-template>
                                            <ng-template ng-option-tmp let-item="item" let-index="index">
                                                {{item?.title?.length > 80 ? (item.title | slice:0:80)+' ...' :
                                                item.title}}
                                            </ng-template>
                                        </ng-select>

                                        <p class="pt-1" style="color: red;"
                                            *ngIf="formErrors && formErrors.division_ids"> {{formErrors.division_ids}}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- [ngStyle]="{display: !OrganizationLevelSettingsStore.organizationLevelSettings?.is_department ? 'none':'block'}" -->
                    <div class="row">
                        <div *ngIf="OrganizationLevelSettingsStore.organizationLevelSettings?.is_department" class="col-sm-6"
                            >
                            <div class="form-group">
                                <label for="name">{{'departments' | translate}}<span class="form-error">*</span></label>
                                <div class="clearfix">
                                    <div class="multiple-plain-ngselect">
                                        <ng-select [items]="DepartmentMasterStore.allItems"
                                            [placeholder]="'select_departments' | translate" multiple="true"
                                            formControlName="department_ids" (add)="getSection()"
                                            (clear)="getDepartment();resetFormSelectClose(3)"
                                            (search)="searchDepartment($event)" (open)="getDepartment()"
                                            (remove)="resetFormSelectClose(3)" bindLabel="title">
                                            <ng-template ng-label-tmp let-item="item" let-clear="clear">
                                                {{item?.title?.length > 60 ? (item.title | slice:0:60)+' ...' :
                                                item.title}}<span aria-hidden="true" (click)="clear(item)"
                                                    style="border:none;" class="ng-value-icon left">×</span>
                                            </ng-template>
                                            <ng-template ng-option-tmp let-item="item" let-index="index">
                                                {{item?.title?.length > 80 ? (item.title | slice:0:80)+' ...' :
                                                item.title}}
                                            </ng-template>
                                            <!-- <ng-option [value]="type" *ngFor="let type of AuditItemTypeMasterStore.allItems">
                                            {{type.title.length > 80 ? type.title.substring(0,80)+' ...' : type.title}}
                                        </ng-option> -->
                                        </ng-select>
                                        <p class="pt-1" style="color: red;"
                                            *ngIf="formErrors && formErrors.department_ids">
                                            {{formErrors.department_ids}}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- [ngStyle]="{display: !OrganizationLevelSettingsStore.organizationLevelSettings?.is_section ? 'none':'block'}" -->
                         <div class="col-sm-6" *ngIf="OrganizationLevelSettingsStore.organizationLevelSettings?.is_section"
                            >
                            <div class="form-group">
                                <label for="name">{{'sections' | translate}}<span class="form-error">*</span></label>
                                <div class="clearfix">
                                    <div class="multiple-plain-ngselect">
                                        <ng-select [items]="SectionMasterStore.allItems"
                                            [placeholder]="'select_sections' | translate" formControlName="section_ids"
                                            multiple="true" (add)="getSubSection()" (search)="searchSection($event)"
                                            (clear)="getSection();resetFormSelectClose(4)" (open)="getSection()"
                                            (remove)="resetFormSelectClose(4)" bindLabel="title">
                                            <ng-template ng-label-tmp let-item="item" let-clear="clear">
                                                {{item?.title?.length > 60 ? (item.title | slice:0:60)+' ...' :
                                                item.title}}<span aria-hidden="true" (click)="clear(item)"
                                                    style="border:none;" class="ng-value-icon left">×</span>
                                            </ng-template>
                                            <ng-template ng-option-tmp let-item="item" let-index="index">
                                                {{item?.title?.length > 80 ? (item.title | slice:0:80)+' ...' :
                                                item.title}}
                                            </ng-template>
                                          
                                        </ng-select>
                                        <p class="pt-1" style="color: red;"
                                            *ngIf="formErrors && formErrors.section_ids"> {{formErrors.section_ids}}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div> 
                    </div> 

                    <!-- [ngStyle]="{display: !OrganizationLevelSettingsStore.organizationLevelSettings?.is_sub_section ? 'none':'block'}" -->
                     <div class="row">
                        <div *ngIf="OrganizationLevelSettingsStore.organizationLevelSettings?.is_sub_section" class="col-sm-6"
                            >
                            <div class="form-group">
                                <label for="name">{{'sub_sections' | translate}}<span class="form-error">*</span></label>
                                <div class="clearfix">
                                    <div class="multiple-plain-ngselect">
                                        <ng-select [items]="SubSectionMasterStore.allItems"
                                            [placeholder]="'select_sub_sections' | translate" multiple="true"
                                            formControlName="sub_section_ids"
                                            (clear)="getSubSection();resetFormSelectClose(5)" (open)="getSubSection()"
                                            (search)="searchSubSection($event)" (remove)="resetFormSelectClose(5)"
                                            bindLabel="title">
                                            <ng-template ng-label-tmp let-item="item" let-clear="clear">
                                                {{item?.title?.length > 60 ? (item.title | slice:0:60)+' ...' :
                                                item.title}}<span aria-hidden="true" (click)="clear(item)"
                                                    style="border:none;" class="ng-value-icon left">×</span>
                                            </ng-template>
                                            <ng-template ng-option-tmp let-item="item" let-index="index">
                                                {{item?.title?.length > 80 ? (item.title | slice:0:80)+' ...' :
                                                item.title}}
                                            </ng-template>
                                        </ng-select>
                                        <p class="pt-1" style="color: red;"
                                            *ngIf="formErrors && formErrors.sub_section_ids">
                                            {{formErrors.sub_section_ids}}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6 col-sm-12">
                            <div class="form-group">
                                <label>{{'organizer' | translate}}<span class="form-error">*</span></label>
                                <div class="clearfix">
                                    <div class="multiple-plain-ngselect">
                                        <ng-select [items]="UsersStore.usersList" formControlName="organizer_id"
                                            bindLabel="email" labelForId="leader_id"
                                            [placeholder]="'select_leader' | translate" [closeOnSelect]="false"
                                            (search)="searchParticipants($event,'auth')" (clear)="getUsers(false)"
                                            [searchFn]="customSearchFn" (open)="getUsers(true)">
                                            <ng-template ng-label-tmp let-item="item" let-clear="clear">
                                                <img *ngIf="item.image_token || item.image"
                                                    class="ng-select-user-display" height="15" width="15"
                                                    [attr.src]="item.image_token ? createImagePreview('user-profile-picture',item.image_token) : createImagePreview('user-profile-picture',item.image.token)"
                                                    onerror="this.src='/assets/images/user-demo2.png'" />
                                                <img *ngIf="!item.image_token && !item.image"
                                                    class="ng-select-user-display" height="15" width="15"
                                                    [attr.src]="getDefaultImage()" />
                                                <b style="padding-left: 3px;">{{getStringsFormatted([item.first_name,item.last_name],50,'
                                                    ') | titlecase}}</b><span aria-hidden="true" (click)="clear(item)"
                                                    style="border:none;" class="ng-value-icon left">×</span>
                                            </ng-template>
                                            <ng-template ng-option-tmp let-item="item" let-index="index">
                                                <div class="user-post-department-pic">
                                                    <img *ngIf="item.image_token || item.image"
                                                        class="ng-select-user-display" height="15" width="15"
                                                        [attr.src]="item.image_token ? createImagePreview('user-profile-picture',item.image_token) : createImagePreview('user-profile-picture',item.image.token)"
                                                        onerror="this.src='/assets/images/user-demo2.png'" />
                                                    <img *ngIf="!item.image_token && !item.image"
                                                        class="ng-select-user-display" height="15" width="15"
                                                        [attr.src]="getDefaultImage()" />
                                                </div>
                                                <div class="user-post-department-div">
                                                    <b>{{getStringsFormatted([item.first_name,item.last_name],50,' ') |
                                                        titlecase}}</b>
                                                    <p class="user-post-department-multiple">
                                                        {{getStringsFormatted([item.designation_title,'
                                                        '+item.department],50,',')}}</p>
                                                </div>
                                            </ng-template>
                                        </ng-select>
                                        <p class="pt-1" style="color: red;"
                                            *ngIf="formErrors && formErrors.organizer_id"> {{formErrors.organizer_id}}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>



                        <div class="col-sm-12">
                            <div class="form-group">
                                <label>{{'invite_participants' | translate}}</label>
                                <div class="clearfix d-flex">
                                    <div class="multiple-plain-ngselect w-100">
                                        <ng-select #select [items]="UsersStore.usersList" bindLabel="email"
                                            labelForId="id" [placeholder]="'select_invite_participants' | translate"
                                            multiple="true" formControlName="meeting_plan_users" [closeOnSelect]="false"
                                            (change)="searchListclickValueClear(select)" (clear)="getAllUsers()"
                                            (search)="searchParticipants($event)" [searchFn]="customSearchFn"
                                            (open)="getAllUsers()">
                                            <ng-template ng-label-tmp let-item="item" let-clear="clear">
                                                <img *ngIf="item.image_token || item.image"
                                                    class="ng-select-user-display" height="15" width="15"
                                                    [attr.src]="item.image_token ? createImagePreview('user-profile-picture',item.image_token) : createImagePreview('user-profile-picture',item.image.token)"
                                                    onerror="this.src='/assets/images/user-demo2.png'" />
                                                <img *ngIf="!item.image_token && !item.image"
                                                    class="ng-select-user-display" height="15" width="15"
                                                    [attr.src]="getDefaultImage()" />
                                                <b style="padding-left: 3px;">{{getStringsFormatted([item.first_name,item.last_name],50,'
                                                    ') | titlecase}}</b><span aria-hidden="true" (click)="clear(item)"
                                                    style="border:none;" class="ng-value-icon left">×</span>
                                            </ng-template>
                                            <ng-template ng-option-tmp let-item="item" let-index="index">
                                                <div class="user-post-department-pic">
                                                    <img *ngIf="item.image_token || item.image"
                                                        class="ng-select-user-display" height="15" width="15"
                                                        [attr.src]="item.image_token ? createImagePreview('user-profile-picture',item.image_token) : createImagePreview('user-profile-picture',item.image.token)"
                                                        onerror="this.src='/assets/images/user-demo2.png'" />
                                                    <img *ngIf="!item.image_token && !item.image"
                                                        class="ng-select-user-display" height="15" width="15"
                                                        [attr.src]="getDefaultImage()" />
                                                </div>
                                                <div class="user-post-department-div">
                                                    <b>{{getStringsFormatted([item.first_name,item.last_name],50,' ') |
                                                        titlecase}}</b>
                                                    <p class="user-post-department-multiple">
                                                        {{getStringsFormatted([item.designation_title,'
                                                        '+item.department],50,',')}}</p>
                                                </div>
                                            </ng-template>
                                        </ng-select>
                                        <p class="pt-1" style="color: red;"
                                            *ngIf="formErrors && formErrors.meeting_plan_users">
                                            {{formErrors.meeting_plan_users}}
                                        </p>
                                    </div>

                                </div>
                            </div>
                        </div>  

                    </div>
                </div>

                <div class="tab">

                    <div class="row process-form-tab mb-4">
                        <div class="col-sm-12">

                            <div class="clearfix small-tab-small-main">

                                <div class="small-list-tab small-tab-small small-list-tab-md">

                                    <ul class="nav nav-tabs nav-tabs--vertical nav-tabs--left vertical-tab"
                                        role="navigation">
                                        <li *ngIf="OrganizationModulesStore.checkOrganizationModules(100)" class="nav-item"> <a (click)="gotoMappingSection('issue')"
                                                class="nav-link text-left active show" data-toggle="tab" role="tab"
                                                aria-controls="lorem" aria-selected="true" data-original-title=""
                                                title="">{{'issues' | translate}}</a></li>

                                        <li *ngIf="OrganizationModulesStore.checkOrganizationModules(600)" class="nav-item"> <a (click)="gotoMappingSection('process')"
                                                class="nav-link text-left" data-toggle="tab" role="tab"
                                                aria-controls="ipsum" aria-selected="false" data-original-title=""
                                                title="">{{'processes' | translate}}</a></li>

                                        <li *ngIf="OrganizationModulesStore.checkOrganizationModules(900)" class="nav-item"> <a (click)="gotoMappingSection('risk')"
                                                class="nav-link text-left" data-toggle="tab" role="tab"
                                                aria-controls="ipsum" aria-selected="false" data-original-title=""
                                                title="">{{'risks' | translate}}</a></li>

                                        <li *ngIf="OrganizationModulesStore.checkOrganizationModules(600)" class="nav-item"> <a (click)="gotoMappingSection('control')"
                                            class="nav-link text-left" data-toggle="tab" role="tab"
                                            aria-controls="ipsum" aria-selected="false" data-original-title=""
                                            title="">{{'controls' | translate}}</a></li>
                                        
                                        <li *ngIf="OrganizationModulesStore.checkOrganizationModules(100)" class="nav-item"> <a (click)="gotoMappingSection('projects')"
                                            class="nav-link text-left" data-toggle="tab" role="tab"
                                            aria-controls="ipsum" aria-selected="false" data-original-title=""
                                            title="">{{'projects' | translate}}</a></li>

                                        <li *ngIf="OrganizationModulesStore.checkOrganizationModules(100)" class="nav-item"> <a (click)="gotoMappingSection('product')"
                                            class="nav-link text-left" data-toggle="tab" role="tab"
                                            aria-controls="ipsum" aria-selected="false" data-original-title=""
                                            title="">{{'products' | translate}}</a></li>

                                        <li *ngIf="OrganizationModulesStore.checkOrganizationModules(100)" class="nav-item"> <a (click)="gotoMappingSection('customer')"
                                            class="nav-link text-left" data-toggle="tab" role="tab"
                                            aria-controls="ipsum" aria-selected="false" data-original-title=""
                                            title="">{{'customers' | translate}}</a></li>

                                        <li *ngIf="OrganizationModulesStore.checkOrganizationModules(100)" class="nav-item"> <a (click)="gotoMappingSection('objective')"
                                            class="nav-link text-left" data-toggle="tab" role="tab"
                                            aria-controls="ipsum" aria-selected="false" data-original-title=""
                                            title="">{{'strategic_objectives' | translate}}</a></li>

                                        <li *ngIf="OrganizationModulesStore.checkOrganizationModules(3900)" class="nav-item"> <a (click)="gotoMappingSection('audit_finding')"
                                            class="nav-link text-left" data-toggle="tab" role="tab"
                                            aria-controls="ipsum" aria-selected="false" data-original-title=""
                                            title="">{{'audit_findings' | translate}}</a></li>

                                        <li *ngIf="OrganizationModulesStore.checkOrganizationModules(3500)" class="nav-item"> <a (click)="gotoMappingSection('non-conformity')"
                                            class="nav-link text-left" data-toggle="tab" role="tab"
                                            aria-controls="ipsum" aria-selected="false" data-original-title=""
                                            title="">{{'non-conformity' | translate}}</a></li>
                                    </ul>
                                </div>

                                <div class="tab-content">
                                    <div *ngIf="selectedSection == 'issue'"
                                        [ngClass]="IssueListStore?.selectedIssuesList.length==0?'tab-pane fade active show':'tab-pane scroll-tab-table fade active show'"
                                        id="tab-one" role="tabpanel">
                                        <div class="p-3">
                                            <div
                                                class="processes-issue audit-processes-issue clearfix bg-white cmn-bdr mb-3">
                                                <h5>{{'map_issues_with_meeting_plan' |
                                                    translate}}</h5>
                                                <div class="float-right">
                                                    <a *ngIf="AuthStore.getActivityPermission(100,'ISSUE_MEETING_PLAN_MAPPING_CREATE')" (click)="selectIssues()" data-toggle="modal"
                                                        class="btn btn-small">{{'select' | translate}}</a>
                                                </div>
                                            </div>
                                            <div class="audit-form-table w-100 risk-form-mapping-table form-table-scroll"
                                                *ngIf="IssueListStore?.selectedIssuesList.length> 0">
                                                <table
                                                    class="table table-bordered ordinary-table table-hover issue-list-table-org mb-4"
                                                    style="width: 1200px;">
                                                    <tr>
                                                        <th class="border-top-0" width="2%">#</th>
                                                        <th class="border-top-0" width="9%">{{'ref_id' | translate}}
                                                        </th>
                                                        <th class="border-top-0" width="18%">{{'issue' | translate}}
                                                        </th>
                                                        <th class="border-top-0" width="12%">{{'issue_types' |
                                                            translate}}</th>
                                                        <th class="border-top-0" width="20%">{{'issue_categories' |
                                                            translate}}</th>
                                                        <th class="border-top-0" width="19%">{{'issue_domains' |
                                                            translate}}</th>
                                                        <th class="border-top-0" width="32%">{{'departments' |
                                                            translate}}</th>
                                                    </tr>
                                                    <tr class="edit-and-delete-main"
                                                        *ngFor="let selected of IssueListStore?.selectedIssuesList; let list=index">
                                                        <td class="text-center">{{list+1}}</td>
                                                        <td>{{selected.reference_code}}</td>
                                                        <td>{{selected.issues_title?selected.issues_title:selected.title}}
                                                        </td>
                                                        <td *ngIf="selected.issue_types_list?.length>0"> <span
                                                                *ngFor="let types of selected.issue_types_list"
                                                                class="risk-type-bx risk-type-bx-drop">
                                                                <i><img
                                                                        [attr.src]="types == 'Internal' ? 'assets/images/risk-type-icon.png' : 'assets/images/risk-type-icon-two.png'">{{types}}</i>&nbsp;
                                                            </span>
                                                        </td>
                                                        <td *ngIf="selected.issue_types_list?.length==0">
                                                            {{ AppStore.noContentText }}
                                                        </td>
                                                        <td [attr.title]="selected.issue_categories">
                                                            {{ selected.issue_categories?.length > 25 ?
                                                            selected.issue_categories.substring(0,25)+'...' :
                                                            selected.issue_categories }}
                                                        </td>
                                                        <td *ngIf="selected?.issue_domains"
                                                            [attr.title]="selected.issue_domains">
                                                            {{ selected.issue_domains?.length > 25 ?
                                                            selected.issue_domains.substring(0,25)+'...' :
                                                            selected.issue_domains }}
                                                        </td>
                                                        <td *ngIf="!selected.issue_domains">
                                                            {{AppStore.noContentText}}
                                                        </td>
                                                        <td>
                                                            {{selected.departments?selected.departments:AppStore.noContentText}}
                                                            <div class="pointer edit-option-show">
                                                                <a
                                                                    (click)="deleteselectedMappingList(IssueListStore?.selectedIssuesList, list)"
                                                                    [attr.title]="'delete' | translate"><i class="fas fa-trash pointer"></i></a>
                                                            </div>
                                                        </td>
                                                    </tr>

                                                </table>


                                            </div>

                                            <app-no-data *ngIf="IssueListStore?.selectedIssuesList.length == 0">
                                            </app-no-data>

                                        </div>
                                    </div>

                                    <div *ngIf="selectedSection=='process'"
                                        [ngClass]="ProcessStore?.selectedProcessesList.length==0?'tab-pane fade active show':'tab-pane scroll-tab-table fade active show'"
                                        id="tab-two" role="tabpanel">
                                        <div class="p-3">
                                            <div
                                                class="processes-issue audit-processes-issue clearfix bg-white cmn-bdr mb-3">
                                                <!--  *ngIf="!(RisksStore.individualRiskDetails?.is_analysis_performed==1)" -->
                                                <h5>{{'map_processes_with_meeting_plan' |
                                                    translate}}</h5>
                                                <div class="float-right">
                                                    <a *ngIf="AuthStore.getActivityPermission(100,'PROCESS_MEETING_PLAN_MAPPING_CREATE')" (click)="selectProcesses()" data-toggle="modal"
                                                        class="btn btn-small">{{'select' | translate}}</a>
                                                </div>
                                            </div>
                                            <div class="audit-form-table w-100 risk-form-mapping-table form-table-scroll"
                                                *ngIf="ProcessStore?.selectedProcessesList.length>0">
                                                <table class="table table-bordered ordinary-table cmn-table-style mb-2">
                                                    <tr>
                                                        <th class="border-top-0" width="2%">#</th>
                                                        <th class="border-top-0" width="9%">{{'ref_id' | translate}}
                                                        </th>
                                                        <th class="border-top-0" width="25%">{{'process_group' |
                                                            translate}}</th>
                                                        <th class="border-top-0" width="32%">{{'process' | translate}}
                                                        </th>
                                                        <th class="border-top-0" width="16%">{{'process_category' |
                                                            translate}}</th>
                                                        <th class="border-top-0" width="12%">{{'department' |
                                                            translate}}</th>
                                                        <th class="border-top-0" width="19%">{{'risk_rating' |
                                                            translate}}</th>
                                                    </tr>
                                                    <tr class="edit-and-delete-main"
                                                        *ngFor="let selected of ProcessStore?.selectedProcessesList; let list=index">
                                                        <td class="text-center">{{list+1}}</td>
                                                        <td>{{selected.reference_code}}</td>
                                                        <td>{{selected.process_group_title}}</td>
                                                        <td> {{selected.title}}
                                                        </td>
                                                        <td>{{selected.process_category_title? selected.process_category_title: AppStore.noContentText }}</td>
                                                        <td>
                                                            {{selected.department? selected.department: AppStore.noContentText  }}
                                                        </td>
                                                        <td>
                                                            {{ selected.risk_rating_title ? selected.risk_rating_title :
                                                            AppStore.noContentText }}
                                                            <div class="pointer edit-option-show">
                                                                <a
                                                                    (click)="deleteselectedMappingList(ProcessStore?.selectedProcessesList, list)"
                                                                    [attr.title]="'delete' | translate"><i class="fas fa-trash pointer"></i></a>
                                                            </div>
                                                        </td>
                                                    </tr>



                                                </table>


                                            </div>
                                            <app-no-data *ngIf="ProcessStore?.selectedProcessesList.length == 0">
                                            </app-no-data>
                                        </div>
                                    </div>

                                    <div *ngIf="selectedSection=='risk'"
                                        [ngClass]="MeetingPlanStore?.selectedRiskList.length==0?'tab-pane fade active show':'tab-pane scroll-tab-table fade active show'"
                                        id="tab-three" role="tabpanel">
                                        <div class="p-3">
                                            <div
                                                class="processes-issue audit-processes-issue clearfix bg-white cmn-bdr mb-3">
                                                <h5>{{'map_risks_with_meeting_plan' | translate}}</h5>
                                                <div class="float-right">
                                                    <a *ngIf="AuthStore.getActivityPermission(100,'PROCESS_MEETING_PLAN_MAPPING_CREATE')" (click)="selectRiskModal()" data-toggle="modal"
                                                        class="btn btn-small">{{'select' | translate}}</a>
                                                </div>
                                            </div>
                                            <div class="audit-form-table w-100 risk-form-mapping-table form-table-scroll"
                                                *ngIf="MeetingPlanStore?.selectedRiskList.length>0">
                                                <table class="table table-bordered ordinary-table cmn-table-style mb-2">
                                                    <tr>
                                                        <th class="border-top-0" width="2%">#</th>
                                                        <th class="border-top-0" width="9%">Ref.ID</th>
                                                        <th class="border-top-0" width="25%">{{'risk' | translate}}</th>
                                                        <th class="border-top-0" width="32%">{{'department' |
                                                            translate}}</th>
                                                        <th class="border-top-0" width="16%">{{'risk_category' |
                                                            translate}} </th>
                                                        <th class="border-top-0" width="12%">{{'risk_types' |
                                                            translate}}</th>
                                                    </tr>
                                                    <tr class="edit-and-delete-main"
                                                        *ngFor="let selected of MeetingPlanStore?.selectedRiskList; let list=index">
                                                        <td class="text-center">{{list+1}}</td>
                                                        <td>{{selected.reference_code}}</td>
                                                        <td>{{selected.title}}</td>
                                                        <td>{{checkDepartment(selected.departments)}}
                                                        </td>
                                                        <td>{{ checkRiskCategory(selected.risk_category?.title
                                                            ?selected.risk_category?.title:selected.risk_category_title)}}
                                                        </td>
                                                        <td>{{checkRiskType(selected.risk_types)}}
                                                            <div class="pointer edit-option-show">
                                                                <a
                                                                    (click)="deleteselectedMappingList( MeetingPlanStore?.selectedRiskList, list)"
                                                                    [attr.title]="'delete' | translate"><i class="fas fa-trash pointer"></i></a>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </table>


                                            </div>
                                            <app-no-data *ngIf="MeetingPlanStore?.selectedRiskList.length == 0">
                                            </app-no-data>
                                        </div>
                                    </div>

                                    <div *ngIf="selectedSection=='control'"
                                        [ngClass]="ControlStore?.selectedControlsList.length==0?'tab-pane fade active show':'tab-pane scroll-tab-table fade active show'"
                                        id="tab-three" role="tabpanel">
                                        <div class="p-3">
                                            <div
                                                class="processes-issue audit-processes-issue clearfix bg-white cmn-bdr mb-3">
                                                <h5>{{'map_controls_with_meeting_plan' | translate}}</h5>
                                                <div class="float-right">
                                                    <a *ngIf="AuthStore.getActivityPermission(100,'CONTROL_MEETING_PLAN_MAPPING_CREATE')" (click)="selectControlsModal()" data-toggle="modal"
                                                        class="btn btn-small">{{'select' | translate}}</a>
                                                </div>
                                            </div>
                                            <div class="audit-form-table w-100 risk-form-mapping-table form-table-scroll"
                                                *ngIf="ControlStore?.selectedControlsList.length>0">
                                                <table class="table table-bordered ordinary-table cmn-table-style mb-2">
                                                    <tr>
                                                        <th class="border-top-0" width="2%">#</th>
                                                        <th class="border-top-0" width="10%">{{'ref_id' | translate}}
                                                        </th>
                                                        <th class="border-top-0" width="88%">{{'title' | translate}}
                                                        </th>
                                                    </tr>
                                                    <tr class="edit-and-delete-main"
                                                        *ngFor="let selected of ControlStore?.selectedControlsList; let list=index">
                                                        <td class="text-center">{{list+1}}</td>
                                                        <td>{{selected.reference_code}}</td>
                                                        <td>
                                                            {{selected.issues_title?selected.issues_title:selected.title}}
                                                            <div class="pointer edit-option-show">
                                                                <a
                                                                    (click)="deleteselectedMappingList(ControlStore?.selectedControlsList, list)"
                                                                    [attr.title]="'delete' | translate"><i class="fas fa-trash pointer"></i></a>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </table>


                                            </div>
                                            <app-no-data *ngIf="ControlStore?.selectedControlsList.length == 0">
                                            </app-no-data>
                                        </div>
                                    </div>

                                    <div *ngIf="selectedSection=='projects'"
                                    [ngClass]="BusinessProjectsStore?.selectedProjectsList.length==0?'tab-pane fade active show':'tab-pane scroll-tab-table fade active show'"
                                    id="tab-three" role="tabpanel">
                                    <div class="p-3">
                                        <div
                                            class="processes-issue audit-processes-issue clearfix bg-white cmn-bdr mb-3">
                                            <h5>{{'map_projects_with_meeting_plan' | translate}}</h5>
                                            <div class="float-right">
                                                <a *ngIf="AuthStore.getActivityPermission(100,'PROJECT_MEETING_PLAN_MAPPING_CREATE')" (click)="selectProjectsModal()" data-toggle="modal"
                                                    class="btn btn-small">{{'select' | translate}}</a>
                                            </div>
                                        </div>
                                        <div class="audit-form-table w-100 risk-form-mapping-table form-table-scroll"
                                            *ngIf="BusinessProjectsStore?.selectedProjectsList.length>0">
                                            <table class="table table-bordered ordinary-table cmn-table-style mb-2">
                                                <tr>

                                                    <th class="border-top-0" width="9%">{{'sl' | translate}}
                                                    </th>
                                                    <th class="border-top-0" width="25%">{{'title' |
                                                        translate}}</th>
                                                    <th class="border-top-0" width="32%">{{'manager_name'|translate}}

                                                    </th>
                                                    <th class="border-top-0" width="9%">{{'member_count' |
                                                        translate}}</th>
                                                    <th class="border-top-0" width="9%">{{'location' | translate}}
                                                    </th>

                                                </tr>
                                                <tr class="edit-and-delete-main"
                                                    *ngFor="let proj of BusinessProjectsStore?.selectedProjectsList; let list=index">
                                                    <td class="text-center">{{list+1}}</td>
                                                    <td> {{proj.title}}
                                                    </td>
                                                    <td>
                                                        <div class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg"
                                                            *ngIf="proj.project_manager_first_name">
                                                            <img [attr.src]="proj.project_manager_image_token?createImageUrl('user-profile-picture',proj.project_manager_image_token):getDefaultImage()"
                                                                width="30px" height="30px" class="rounded-circle">

                                                            <div>
                                                                <h6>{{proj.project_manager_first_name}}
                                                                    {{proj.project_manager_last_name}}</h6>
                                                                <span>{{proj.project_manager_designation?proj.project_manager_designation:AppStore.noContentText}}
                                                                </span>
                                                            </div>
                                                        </div>
                                                        <p *ngIf="!proj.project_manager_first_name">
                                                            {{AppStore.noContentText}}</p>
                                                    </td>
                                                    <td>{{proj.member_count?proj.member_count:AppStore.noContentText}}</td>
                                                    <td>
                                                        {{proj.location_title?proj.location_title:AppStore.noContentText}}
                                                        <div class="pointer edit-option-show">
                                                            <a
                                                                (click)="deleteselectedMappingList( BusinessProjectsStore?.selectedProjectsList, list)"
                                                                [attr.title]="'delete' | translate"><i class="fas fa-trash pointer"></i></a>
                                                        </div>
                                                    </td>

                                                </tr>
                                            </table>
                                        </div>
                                        <app-no-data *ngIf="BusinessProjectsStore?.selectedProjectsList.length == 0">
                                        </app-no-data>
                                    </div>
                                    </div>

                                    <div *ngIf="selectedSection=='product'"
                                        [ngClass]="BusinessProductsStore?.selectedProductList.length==0?'tab-pane fade active show':'tab-pane scroll-tab-table fade active show'"
                                        id="tab-three" role="tabpanel">
                                        <div class="p-3">
                                            <div
                                                class="processes-issue audit-processes-issue clearfix bg-white cmn-bdr mb-3">
                                                <h5>{{'map_products_with_meeting_plan' | translate}}</h5>
                                                <div class="float-right">
                                                    <a *ngIf="AuthStore.getActivityPermission(100,'PRODUCT_MEETING_PLAN_MAPPING_CREATE')" (click)="selectProducts()" data-toggle="modal"
                                                        class="btn btn-small">{{'select' | translate}}</a>
                                                </div>
                                            </div>
                                            <div class="audit-form-table w-100 risk-form-mapping-table form-table-scroll"
                                                *ngIf="BusinessProductsStore?.selectedProductList.length>0">
                                                <table class="table table-bordered ordinary-table cmn-table-style mb-2">
                                                    <tr>

                                                        <th class="border-top-0" width="9%">{{'sl' | translate}}
                                                        </th>
                                                        <th class="border-top-0" width="25%">{{'title' |
                                                            translate}}</th>
                                                        <th class="border-top-0" width="32%">{{'description' |
                                                            translate}}
                                                        </th>
                                                    </tr>
                                                    <tr class="edit-and-delete-main"
                                                        *ngFor="let prod of BusinessProductsStore?.selectedProductList; let list=index">
                                                        <td class="text-center">{{list+1}}</td>
                                                        <td> {{prod.title}}
                                                        </td>
                                                        <td>
                                                            {{prod.description?prod.description:AppStore.noContentText}}
                                                            <div class="pointer edit-option-show">
                                                                <a
                                                                    (click)="deleteselectedMappingList( BusinessProductsStore?.selectedProductList, list)"
                                                                    [attr.title]="'delete' | translate"><i class="fas fa-trash pointer"></i></a>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                            <app-no-data *ngIf="BusinessProductsStore?.selectedProductList.length == 0">
                                            </app-no-data>
                                        </div>
                                    </div>

                                    <div *ngIf="selectedSection=='customer'"
                                    [ngClass]="BusinessCustomersStore?.selectedCustomerList.length==0?'tab-pane fade active show':'tab-pane scroll-tab-table fade active show'"
                                    id="tab-three" role="tabpanel">
                                    <div class="p-3">
                                        <div
                                            class="processes-issue audit-processes-issue clearfix bg-white cmn-bdr mb-3">
                                            <h5>{{'map_customers_with_meeting_plan' | translate}}</h5>
                                            <div class="float-right">
                                                <a *ngIf="AuthStore.getActivityPermission(100,'CUSTOMER_MEETING_PLAN_MAPPING_CREATE')" (click)="selectCustomers()" data-toggle="modal"
                                                    class="btn btn-small">{{'select' | translate}}</a>
                                            </div>
                                        </div>
                                        <div class="audit-form-table w-100 risk-form-mapping-table form-table-scroll"
                                            *ngIf="BusinessCustomersStore?.selectedCustomerList.length>0">
                                            <table class="table table-bordered ordinary-table cmn-table-style mb-2">
                                                <tr>

                                                    <th class="border-top-0" width="9%">{{'sl' | translate}}
                                                    </th>
                                                    <th class="border-top-0" width="25%">{{'title' |
                                                        translate}}</th>
                                                    <th class="border-top-0" width="32%">{{'contact_person' |
                                                        translate}}
                                                    </th>
                                                    <th class="border-top-0" width="9%">{{'address' |
                                                        translate}}</th>
                                                </tr>
                                                <tr class="edit-and-delete-main"
                                                    *ngFor="let cust of BusinessCustomersStore?.selectedCustomerList; let list=index">
                                                    <td class="text-center">{{list+1}}</td>
                                                    <td> {{cust.title}}
                                                    </td>
                                                    <td>{{cust.contact_person?cust.contact_person:AppStore.noContentText}}
                                                    </td>
                                                    <td>
                                                        {{cust.address?cust.address:AppStore.noContentText}}
                                                        <div class="pointer edit-option-show">
                                                            <a
                                                                (click)="deleteselectedMappingList( BusinessCustomersStore?.selectedCustomerList, list)"
                                                                [attr.title]="'delete' | translate"><i class="fas fa-trash pointer"></i></a>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                        <app-no-data *ngIf="BusinessCustomersStore?.selectedCustomerList.length == 0">
                                        </app-no-data>
                                    </div>
                                    </div>

                                    <div *ngIf="selectedSection=='objective'"
                                        [ngClass]="StrategicObjectivesMasterStore?.selectedStrategic.length==0?'tab-pane fade active show':'tab-pane scroll-tab-table fade active show'"
                                        id="tab-three" role="tabpanel">
                                        <div class="p-3">
                                            <div
                                                class="processes-issue audit-processes-issue clearfix bg-white cmn-bdr mb-3">
                                                <h5>{{'map_strategic_objectives_with_meeting_plan' | translate}}</h5>
                                                <div class="float-right">
                                                    <a *ngIf="AuthStore.getActivityPermission(100,'STRATEGIC_OBJECTIVE_MEETING_PLAN_MAPPING_CREATE')" (click)="selectObjectives()" data-toggle="modal"
                                                        class="btn btn-small">{{'select' | translate}}</a>
                                                </div>
                                            </div>
                                            <div class="audit-form-table w-100 risk-form-mapping-table form-table-scroll"
                                                *ngIf="StrategicObjectivesMasterStore?.selectedStrategic.length>0">
                                                <table class="table table-bordered ordinary-table cmn-table-style mb-2">
                                                    <tr>
                                                        <th class="border-top-0" width="10%">{{'sl' | translate}}
                                                        </th>
                                                        <th class="border-top-0" width="90%">{{'title' |
                                                            translate}}</th>
                                                    </tr>
                                                    <tr class="edit-and-delete-main"
                                                        *ngFor="let obj of StrategicObjectivesMasterStore?.selectedStrategic; let list=index">
                                                        <td class="text-center">{{list+1}}</td>
                                                        <td>
                                                            {{obj.title}}
                                                            <div class="pointer edit-option-show">
                                                                <a
                                                                    (click)="deleteselectedMappingList(StrategicObjectivesMasterStore?.selectedStrategic, list)"
                                                                    [attr.title]="'delete' | translate"><i class="fas fa-trash pointer"></i></a>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                            <app-no-data *ngIf="StrategicObjectivesMasterStore?.selectedStrategic.length == 0">
                                            </app-no-data>
                                        </div>
                                    </div>

                                    <div *ngIf="selectedSection=='audit_finding'"
                                        [ngClass]="AuditFindingsStore?._selectedFindingItemAll.length==0?'tab-pane fade active show':'tab-pane scroll-tab-table fade active show'"
                                        id="tab-three" role="tabpanel">
                                        <div class="p-3">
                                            <div
                                                class="processes-issue audit-processes-issue clearfix bg-white cmn-bdr mb-3">
                                                <h5>{{'map_findings_with_meeting_plan' | translate}}</h5>
                                                <div class="float-right">
                                                    <a *ngIf="AuthStore.getActivityPermission(100,'FINDINGS_MEETING_PLAN_MAPPING_CREATE')" (click)="selectFinding()" data-toggle="modal"
                                                        class="btn btn-small">{{'select' | translate}}</a>
                                                </div>
                                            </div>
                                            <div class="audit-form-table w-100 risk-form-mapping-table form-table-scroll"
                                                *ngIf="AuditFindingsStore?._selectedFindingItemAll.length>0">
                                                <table class="table table-bordered ordinary-table cmn-table-style mb-2">
                                                    <tr>
                                                        <th class="border-top-0" width="10%">{{'sl' | translate}}</th>
                                                        <th class="border-top-0" width="50%">{{'title' | translate}}</th>
                                                        <th class="border-top-0" width="15%">{{'audit_category' | translate}}</th>
                                                        <th class="border-top-0" width="15%">{{'risk' | translate}}</th>
                                                        <th class="border-top-0" width="10%">{{'status' | translate}}</th>
                                                    </tr>
                                                    <tr class="edit-and-delete-main"
                                                        *ngFor="let row of AuditFindingsStore?._selectedFindingItemAll; let list=index">
                                                        <td class="text-center">{{list+1}}</td>
                                                        <td >{{row?.title? row?.title: AppStore.noContentText }}</td>
                                                        <td >{{row?.finding_categories? row?.finding_categories : row?.finding_category?.title}}</td>
                                                        <td >
                                                            <div class="dot-div {{row?.risk_rating_label?row?.risk_rating_label:row?.risk_rating?.label}}-dot">
                                                                {{row?.risk_ratings? row?.risk_ratings:row?.risk_rating?.language[0]?.pivot?.title}} 
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="dot-div {{row?.finding_status_label? row?.finding_status_label :row?.finding_status?.label}}">
                                                                {{row?.finding_status_title ? row?.finding_status_title : row?.finding_status?.language[0]?.pivot?.title}}
                                                            </div>
                                                            <div class="pointer edit-option-show">
                                                                <a
                                                                    (click)="deleteselectedMappingList(AuditFindingsStore?._selectedFindingItemAll, list)"
                                                                    [attr.title]="'delete' | translate"><i class="fas fa-trash pointer"></i></a>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                            <app-no-data *ngIf="AuditFindingsStore?._selectedFindingItemAll.length == 0">
                                            </app-no-data>
                                        </div>
                                    </div>

                                    <div *ngIf="selectedSection=='non-conformity'"
                                        [ngClass]="FindingsStore?._selectedNonConformityItemAll?.length==0?'tab-pane fade active show':'tab-pane scroll-tab-table fade active show'"
                                        id="tab-three" role="tabpanel">
                                        <div class="p-3">
                                            <div
                                                class="processes-issue audit-processes-issue clearfix bg-white cmn-bdr mb-3">
                                                <h5>{{'map_non_conformity_with_meeting_plan' | translate}}</h5>
                                                <div class="float-right">
                                                    <a *ngIf="AuthStore.getActivityPermission(100,'NON_CONFORMITY_MEETING_PLAN_MAPPING_CREATE')" (click)="selectNonConformity()" data-toggle="modal"
                                                        class="btn btn-small">{{'select' | translate}}</a>
                                                </div>
                                            </div>
                                            <div class="audit-form-table w-100 risk-form-mapping-table form-table-scroll"
                                                *ngIf="FindingsStore?._selectedNonConformityItemAll?.length>0">
                                                <table class="table table-bordered ordinary-table cmn-table-style mb-2">
                                                    <tr>
                                                        <th class="border-top-0" width="7%">{{'sl' | translate}}</th>
                                                        <th class="border-top-0" width="7%">{{'Ref. ID' | translate}}</th>
                                                        <th class="border-top-0" width="47%">{{'title' | translate}}</th>
                                                        <th class="border-top-0" width="19%">{{'category' | translate}}</th>
                                                        <th class="border-top-0" width="10%">{{'risk_rating' | translate}}</th>
                                                        <th class="border-top-0" width="10%">{{'status' | translate}}</th>
                                                    </tr>
                                                    <tr class="edit-and-delete-main"
                                                        *ngFor="let row of FindingsStore?._selectedNonConformityItemAll; let list=index">
                                                        <td class="text-center">{{list+1}}</td>
                                                        <td>{{row.reference_code}}</td>
                                                        <td>{{row.title}}</td>
                                                        <td>{{row?.finding_category?.title? row?.finding_category?.title: row?.finding_category}}</td>
                                                        <td >
                                                            <div class="dot-div {{row?.risk_rating_label?row?.risk_rating_label:row?.risk_rating?.label}}-dot">
                                                                {{row?.risk_rating?.language ? row?.risk_rating?.language[0]?.pivot?.title: row?.risk_rating }} 
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <div class="dot-div {{row?.finding_status_label? row?.finding_status_label :row?.finding_status?.label}}">
                                                                {{row?.finding_status_title ? row?.finding_status_title : row?.finding_status?.language[0]?.pivot?.title}}
                                                            </div>
                                                            <div class="pointer edit-option-show">
                                                                <a
                                                                    (click)="deleteselectedMappingList( FindingsStore?._selectedNonConformityItemAll, list)"
                                                                    [attr.title]="'delete' | translate"><i class="fas fa-trash pointer"></i></a>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                            <app-no-data *ngIf="FindingsStore?._selectedNonConformityItemAll?.length == 0">
                                            </app-no-data>
                                        </div>
                                    </div>

                                </div>

                            </div>
                        </div>
                    </div>
                </div>



                <div class="tab">


                    <div class="row process-form-tab mb-4">
                        <div class="col-sm-12">

                            <div class="clearfix small-tab-small-main">

                                <div class="small-list-tab small-tab-small small-list-tab-md">

                                    <ul class="nav nav-tabs nav-tabs--vertical nav-tabs--left vertical-tab"
                                        role="navigation">
                                        <li class="nav-item"> <a (click)="gotoMappingSection('agenda')"
                                                class="nav-link text-left active show" data-toggle="tab" role="tab"
                                                aria-controls="lorem" aria-selected="true" data-original-title=""
                                                title="">{{'agenda' | translate}}</a></li>

                                     
                                    </ul>
                                </div>

                                <div class="tab-content">
                                    <div  class="tab-pane scroll-tab-table fade active show"
                                        
                                        id="tab-one" role="tabpanel">
                                        <div class="p-3">
                                            <div
                                                class="processes-issue audit-processes-issue clearfix bg-white cmn-bdr mb-3">
                                                <h5>{{'add_agenda_against_meeting_plan' |
                                                    translate}}<span  class="form-error">*</span></h5>
                                                <div class="float-right">
                                                    <a (click)="addMeetingPlanAgenda()" data-toggle="modal"
                                                        class="btn btn-small">{{'add_agenda' | translate}}</a>
                                                </div>
                                            </div>
                                            <div class="audit-form-table w-100 risk-form-mapping-table form-table-scroll"
                                                *ngIf="MeetingPlanStore.meetingPlanAgendas.length> 0">
                                                <table
                                                    class="table table-bordered ordinary-table table-hover issue-list-table-org mb-1"
                                                    style="width: 1200px;">
                                                    <tr>
                                                        <th class="border-top-0" width="10%">{{'sl' | translate}}</th>
                                                        <th class="border-top-0" width="20%">{{'title' | translate}}</th>
                                                        <th class="border-top-0" width="20%">{{'description' | translate}}</th>
                                                        <th class="border-top-0" width="10%">{{'time' | translate}}</th>
                                                        <th class="border-top-0" width="10%">{{'duration' | translate}}</th>
                                                        <th class="border-top-0" width="20%">{{'owner' | translate}}</th>
                                                        <th class="border-top-0" width="10%">{{'agenda_type' | translate}}</th>
                                                    </tr>
                                                    <tbody  cdkDropList (cdkDropListDropped)="onDrop($event)">
                                                        <tr class="edit-and-delete-main" cdkDrag cdkDragLockAxis="y"
                                                        *ngFor="let row of MeetingPlanStore.meetingPlanAgendas; let list=index">
                                                        <td class="text-center">{{list+1}}</td>
                                                        <td >{{row?.title?row.title: AppStore.noContentText }}</td>
                                                        <td >{{row?.description?row.description:AppStore.noContentText}}</td>
                                                        <td >
                                                            {{row?.start_time?row.start_time:AppStore.noContentText}}
                                                        </td>
                                                        <td>
                                                            {{row?.duration?row.duration:AppStore.noContentText}}
                                                        </td>
                                                        <td>
                                                           
                                                            <div style="pointer-events: none;" class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg p-0" *ngIf="row?.display_owner"> 
                                                                <img [attr.src]="row?.display_owner?.image_token?createImageUrl('user',row.display_owner.image_token):'/assets/images/user-demo.png'"
                                                            
                                                                class="rounded-circle rounde-hov" width="35px" height="35px"> 
                                                                <div class="pointer new-size-text text-left">
                                                                    <p class="mb-0">{{row?.display_owner?.first_name}} {{row?.display_owner?.last_name}}  </p>
                                                                    <span *ngIf="row?.display_owner?.designation_title">{{row?.display_owner?.designation_title?row.display_owner.designation_title:AppStore.noContentText}}</span>
                                                                    <span *ngIf="row?.display_owner?.designation">{{row?.display_owner?.designation?.title?row?.display_owner?.designation?.title:AppStore.noContentText}}</span>
                                                                </div>
                                                                
                                                            </div>
                                                            <div *ngIf="!row.display_owner">
                                                               {{AppStore.noContentText}}
                                                            </div>
                                                        </td>
                                                        <td>
                                                            {{row?.display_agenda_type?row.display_agenda_type.title:AppStore.noContentText}}
                                                            <div class="pointer edit-option-show">
                                                                <a
                                                                    (click)="removeAgenda(row)"
                                                                    [attr.title]="'delete' | translate"><i class="fas fa-trash pointer"></i></a>
                                                                <a *ngIf="row.is_editable"
                                                                    (click)="editMeetingPlanAgenda(row)"
                                                                    [attr.title]="'edit' | translate"><i class="fas fa-pen pointer"></i></a>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                    </tbody>
                             

                                                </table>


                                            </div>

                                            <app-no-data *ngIf="MeetingPlanStore?.meetingPlanAgendas.length == 0">
                                            </app-no-data>

                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    
                            <!-- Mapping ----------------------------------------------------------------------->
                        <!-- <div class="col-md-12">
                            <div class="row">
                                <div class="col-md-12 mb-3">
                                    <a (click)="openAgendaFormModal();" class="btn btn-small"> <i class="fa fa-plus"></i> 
                                        {{'add_agenda' | translate}}</a>
                                </div>
                            </div> 

                            <div class="row">
                                <div class="audit-form-table w-100"
                                *ngIf=" MeetingPlanStore.meetingPlanAgendas.length>0">
                                <table class="table table-bordered ordinary-table cmn-table-style mb-2">
                                    <tr>
                                        <th class="border-top-0" width="10%">{{'sl' | translate}}</th>
                                        <th class="border-top-0" width="30%">{{'title' | translate}}</th>
                                        <th class="border-top-0" width="25%">{{'description' | translate}}</th>
                                        <th class="border-top-0" width="15%">{{'time' | translate}}</th>
                                        <th class="border-top-0" width="10%">{{'duration' | translate}}</th>
                                        <th class="border-top-0" width="10%">{{'agenda_type' | translate}}</th>
                                    </tr>
                                    <tr class="edit-and-delete-main"
                                        *ngFor="let row of MeetingPlanStore.meetingPlanAgendas; let list=index">
                                        <td class="text-center">{{list+1}}</td>
                                        <td >{{row?.title?row.title: AppStore.noContentText }}</td>
                                        <td >{{row?.description?row.description:AppStore.noContentText}}</td>
                                        <td >
                                            {{row?.display_time?row.display_time:AppStore.noContentText}}
                                        </td>
                                        <td>
                                            {{row?.duration?row.duration:AppStore.noContentText}}
                                        </td>
                                        <td>
                                            {{row?.display_agenda_type?row.display_agenda_type.title:AppStore.noContentText}}
                                            <div class="pointer edit-option-show">
                                                <a
                                                    (click)="removeAgenda(list)"
                                                    [attr.title]="'delete' | translate"><i class="fas fa-trash pointer"></i></a>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                            </div>
                        </div> -->

                        <!-- <div class="col-sm-12">
                            <div class="form-group ml-2">
                                <div class="clearfix d-flex mb-2" *ngIf="addIsOpen">
                                    <input type="text" class="form-control w-100" 
                                        #newAgendaInput
                                        [ngModelOptions]="{standalone: true}"
                                        [(ngModel)]="newAgenda" 
                                        [placeholder]="'write_a_agenda_of_the_meeting_plan'|translate"
                                        (input)="meetingAgendaSameDataErrorClick($event)"
                                        (keydown.enter)="addAgendaTitle(newAgenda)"
                                        (blur)="hoverButton?'':cancelAgenda(); hoverButton?'':this.addIsOpen=false ">
                                    <button [disabled]="!newAgenda" class="btn multi-add-user ml-2"
                                        (click)="addAgendaTitle(newAgenda)" 
                                        (mouseover)="mousepPointerOver()" 
                                        (mouseout)="mousepPointerOut()"
                                        style="width: 38px;"><i
                                            class="fas fa-plus"></i></button>
                                    <button *ngIf="newAgenda" class="btn multi-add-user ml-2" (click)="cancelAgenda()"
                                        style="width: 38px;"><i class="fas fa-times"></i></button>
                                </div>
                                <p class="pt-1" style="color: red;" *ngIf=" addIsOpen && MeetingAgendaSameDataError">{{'this_item_is_already_added' |
                                    translate}}</p>
                                <div class="mt-0">
                                    <ul class="arrowlist mt-0 mb-3 p-0">
                                        <div *ngFor="let items of MeetingPlanStore.newMeetingAgenda">
                                            <li class="edit-option"
                                                *ngIf="!MeetingPlanStore.updateItem || (MeetingPlanStore.updateItem.id != items.id)">
                                                {{items.title}}
                                                <div class="arrowlist-edit-and-add">
                                                    <a><i class="fas fa-pen" (click)="editValue(items)"></i></a>
                                                    <a><i class="fas fa-trash" (click)="deleteMinutes(items,MeetingPlanStore.newMeetingAgenda)"></i></a>
                                                </div>
                                                
                                                <div class="hover-show-btn" *ngIf="MeetingPlanStore.selectedMeeting==null && !MeetingPlanStore.updateItem">
                                                    <button type="button" (click)="addMinutesClicked(items)" class="btn btn-small mt-1"><i class="fas fa-plus mr-2"></i> {{'add_sub_item' | translate}}</button>
                                                </div>
                                            </li>
                                            <div class="clearfix d-flex mb-2 ml-4 pl-1"
                                                *ngIf="MeetingPlanStore.updateItem && items.id==MeetingPlanStore.updateItem.id">
                                                <input type="text" class="form-control w-100"
                                                    [ngModelOptions]="{standalone: true}" 
                                                    [(ngModel)]="newAgendaEdit"
                                                    (keydown.enter)="addAgendaTitle(newAgendaEdit)"
                                                    [placeholder]="'write_a_sub_title_of_the_agenda'|translate">
                                                <button [disabled]="!newAgendaEdit" class="btn multi-add-user ml-2"
                                                    (click)="addAgendaTitle(newAgendaEdit)" style="width: 38px;"><i
                                                        class="fas fa-plus"></i></button>
                                                <button *ngIf="newAgendaEdit" class="btn multi-add-user ml-2"
                                                    (click)="cancelAgenda()" style="width: 38px;"><i
                                                        class="fas fa-times"></i></button>
                                            </div>
                                            <div class="clearfix d-flex ml-4 pl-1 mb-2"
                                                *ngIf="MeetingPlanStore.selectedMeeting && items.id == MeetingPlanStore.selectedMeeting.id">
                                                <input type="text" class="form-control w-100"
                                                    #newAgendaInput2
                                                    [ngModelOptions]="{standalone: true}"
                                                    [(ngModel)]="items.text_box_value" 
                                                    (keydown.enter)="addToMeetingAgenda(items)"
                                                    (blur)="hoverButton?'':cancelAgenda(items);"
                                                    [placeholder]="'write_a_sub_title_of_the_agenda'|translate"
                                                    (keyup)="keyboardEvent($event,items)">
                                                <button class="btn multi-add-user ml-2"
                                                    (click)="addToMeetingAgenda(items)"
                                                    (mouseover)="mousepPointerOver()" 
                                                    (mouseout)="mousepPointerOut()"
                                                    style="width: 38px;"><i
                                                        class="fas fa-plus"></i></button>
                                                <button class="btn multi-add-user ml-2" (click)="cancelAgenda(items)"
                                                    style="width: 38px;"><i class="fas fa-times"></i></button>
                                            </div>
                                            <app-agenda-add-repeat-modal *ngIf="items.meeting_agendas.length > 0"
                                                [details]="items.meeting_agendas"></app-agenda-add-repeat-modal>
                                        </div>
                                    </ul>
                                </div>
                            </div>
                        </div> -->
                </div>

                <div class="tab">
                    <!-- tab start -->
                    <div class="widget-body-light issuue-new-style">



                        <div class="row">

                            <div class="col-sm-12 col-lg-8">

                                <div class="left-box-issue-details pb-2">
                                    <div class="issue-top-sec">
                                        <div class="clearfix">
                                            <h5 class="d-inline-block cmn-head-style label-tag-style mr-2">
                                                <span
                                                    class="issue-smoal-head-text">#{{form.value.reference_code?form.value.reference_code:'###'}}</span>
                                                {{form.value.title ? form.value.title : AppStore.noContentText}}
                                                <span *ngIf="MeetingPlanStore.individualMeetingPlanDetails?.meeting_plan_status?.type"
                                                    class="draft-tag label-tag-style-tag label-left-arow-tag d-inline-block status-tag-new-one ml-3">{{
                                                    MeetingPlanStore.individualMeetingPlanDetails?.meeting_plan_status?.type| translate}}</span>
                                                <span *ngIf="!MeetingPlanStore.individualMeetingPlanDetails?.meeting_plan_status?.type"
                                                    class="draft-tag label-tag-style-tag label-left-arow-tag d-inline-block status-tag-new-one ml-3">{{
                                                        'draft'| translate}}</span>
                                            </h5>
                                        </div>
                                        <div class="clearfix">

                                            <p class="mb-0" *ngIf="form.value.from&&form.value.to"><i
                                                    class="fas fa-calendar-alt date-pics-two"></i>
                                                {{form.value.from | date:
                                                OrganizationGeneralSettingsStore?.organizationSettings?.date_time_format}}
                                                To
                                                {{form.value.to | date:
                                                OrganizationGeneralSettingsStore?.organizationSettings?.date_time_format}}
                                            </p>
                                            <p class="mb-0" *ngIf="!form.value.from&&!form.value.to"><i
                                                    class="fas fa-calendar-alt date-pics-two"></i>
                                                {{AppStore.noContentText}}</p>
                                        </div>
                                        <div class="clearfix">
                                            <p class="label-tag-style mt-1" *ngIf="form?.value.meeting_id"> {{form?.value.meeting_id ?
                                                form.value.meeting_id?.title : AppStore.noContentText}}</p>
                                        </div>


                                    </div>

                                    <div class="clearfix"></div>

                                    <p *ngIf="form.value.description" style="white-space: pre-wrap;">
                                        {{form.value.description?form.value.description:AppStore.noContentText}}</p>
                                    <div class="mb-2 mt-2" [ngStyle] = "{display: !OrganizationGeneralSettingsStore?.organizationSettings?.is_ms_type ? 'none':'block'}">


                                        <label class="outline-tag"
                                            *ngFor="let type of form?.value.ms_type_organization_ids">{{type.ms_type_title}}
                                            <span>v
                                                {{type.ms_type_version_title}}</span></label>
                                    </div>


                                    <div class="row">

                                        <div class="col-md-4"
                                            *ngIf="OrganizationLevelSettingsStore.organizationLevelSettings?.is_subsidiary">
                                            <h6>{{'organizations' | translate}} </h6>
                                            
                                            <p>{{form.value.organization_ids?.length>0?getArrayFormatedString('title',form.value.organization_ids):AppStore.noContentText}}
                                            </p>
                                        </div>
                                        <div class="col-md-4"
                                            [ngStyle]="{display: !OrganizationLevelSettingsStore.organizationLevelSettings?.is_division ? 'none':'block'}">
                                            <h6> {{'divisions' | translate}}</h6>
                                            
                                            <p>{{form.value.division_ids?.length>0?getArrayFormatedString('title',form.value.division_ids):AppStore.noContentText}}
                                            </p>
                                        </div>

                                        <div class="col-md-4"
                                            [ngStyle]="{display: !OrganizationLevelSettingsStore.organizationLevelSettings?.is_section ? 'none':'block'}">
                                            <h6> {{'sections' | translate}}</h6>
                                            <p>{{form.value.section_ids?.length>0?getArrayFormatedString('title',form.value.section_ids):AppStore.noContentText}}
                                            </p>
                                        </div>




                                    <!-- </div>

                                    <div class="row"> -->

                                        <div class="col-md-4"
                                            [ngStyle]="{display: !OrganizationLevelSettingsStore.organizationLevelSettings?.is_department ? 'none':'block'}">
                                            <h6> {{'departments' | translate}}</h6>
                                            <p>{{form.value.department_ids?.length>0?getArrayFormatedString('title',form.value.department_ids):AppStore.noContentText}}
                                            </p>
                                        </div>
                                        <div class="col-md-4"
                                            [ngStyle]="{display: !OrganizationLevelSettingsStore.organizationLevelSettings?.is_sub_section ? 'none':'block'}">
                                            <h6>{{'sub_sections' | translate}}</h6>
                                            <p>{{form.value.sub_section_ids?.length>0?getArrayFormatedString('title',form.value.sub_section_ids):AppStore.noContentText}}
                                            </p>
                                        </div>
                                        <div class="col-md-4">
                                            <h6>{{'category' | translate}}</h6>
                                            <p>{{form?.value.meeting_category_id?.title ?
                                                form.value.meeting_category_id?.title : AppStore.noContentText}}</p>
                                        </div>


                                    <!-- </div>


                                    <div class="row"> -->
                                        <div class="col-md-4">
                                            <h6>{{'meeting_types' | translate}}</h6>
                                            <p> <span *ngFor="let type of form?.value.meeting_type_ids;last as islast">
                                                {{type.meeting_type_language_title?type.meeting_type_language_title:type.type
                                                    | titlecase}}<span *ngIf="!islast">,</span>
                                                </span>
                                            </p>
                                            <p *ngIf="form.value.meeting_type_ids?.length==0">{{AppStore.noContentText}}
                                            </p>
                                        </div>

                                        <div class="col-md-4" *ngIf="form?.value.venue_id">
                                            <h6> {{'venue' | translate}}</h6>
                                            <p>{{form?.value.venue_id ? form.value.venue_id?.title :
                                                AppStore.noContentText}}</p>
                                        </div>
                                        <div *ngIf="form?.value.meeting_link" class="col-md-4">
                                            <h6> {{'meeting_link' | translate}}</h6>
                                            <p>{{form?.value.meeting_link ? form.value.meeting_link :
                                                AppStore.noContentText}}</p>
                                        </div>

                                    </div>

                                    <!-- panel-drop-sections starts -->
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="widget-body-light right-block">
                                                <div class="row">
                                                    <div class="col-sm-12">
                                                        <div class="panel-group panel-drop-sections" id="jd"
                                                            role="tablist" aria-multiselectable="true">
                                                            <div class="panel panel-default" *ngIf="MeetingCriteriaMasterStore?.selectedAllItems?.length">
                                                                <div (click)="toggleClassCrieteria=!toggleClassCrieteria"
                                                                    [ngClass]="toggleClassCrieteria?'panel-heading bg-white active':'panel-heading bg-white'"
                                                                    role="tab" id="headingOne">
                                                                    <div class="panel-title">
                                                                        <a role="button" data-toggle="collapse"
                                                                            href="#ceo" aria-expanded="false"
                                                                            aria-controls="collapseOne"
                                                                            class="collapsed">
                                                                            <h5 class="width96pc mt-0"> <span
                                                                                    class="employ-width"> {{'crieteria'
                                                                                    | translate}} </span> <span
                                                                                    class="drop-down-icone"><i
                                                                                        class="fas fa-chevron-down"></i></span>
                                                                            </h5>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                                <div id="ceo" class="panel-collapse collapse"
                                                                    role="tabpanel" aria-labelledby="headingOne"
                                                                    data-parent="#ceo">
                                                                    <div class="panel-body bg-white">
                                                                        <div class="drop-detail-sec">
                                                                            <ul class="banking-issue">
                                                                                
                                                                                <li class="clearfix"
                                                                                    *ngFor="let criteria of MeetingCriteriaMasterStore.selectedAllItems">
                                                                                    <a>{{criteria.title}}</a>

                                                                                </li>

                                                                            </ul>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="panel panel-default" *ngIf="MeetingObjectiveMasterStore?.selectedAllItems?.length">
                                                                <div (click)="toggleClassObjectives=!toggleClassObjectives"
                                                                    [ngClass]="toggleClassObjectives?'panel-heading bg-white active':'panel-heading bg-white'"
                                                                    role="tab" id="headingOne">
                                                                    <div class="panel-title">
                                                                        <a role="button" data-toggle="collapse"
                                                                            href="#ceo2" aria-expanded="false"
                                                                            aria-controls="collapseOne"
                                                                            class="collapsed">
                                                                            <h5 class="width96pc mt-0"> <span
                                                                                    class="employ-width"> {{'objectives'
                                                                                    | translate}} </span> <span
                                                                                    class="drop-down-icone"><i
                                                                                        class="fas fa-chevron-down"></i></span>
                                                                            </h5>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                                <div id="ceo2" class="panel-collapse collapse"
                                                                    role="tabpanel" aria-labelledby="headingOne"
                                                                    data-parent="#ceo2">
                                                                    <div class="panel-body bg-white">
                                                                        <div class="drop-detail-sec">
                                                                            <ul class="banking-issue">
                                                                               
                                                                                <li class="clearfix"
                                                                                    *ngFor="let objective of MeetingObjectiveMasterStore.selectedAllItems">
                                                                                    <a>{{objective.title}}</a>
                                                                                </li>
                                                                            </ul>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="panel panel-default" *ngIf="MeetingPlanStore?.meetingPlanAgendas?.length" >
                                                                <div (click)="toggleClassAgendas=!toggleClassAgendas"
                                                                    [ngClass]="toggleClassAgendas?'panel-heading bg-white active':'panel-heading bg-white'"
                                                                    role="tab" id="headingOne">
                                                                    <div class="panel-title">
                                                                        <a role="button" data-toggle="collapse"
                                                                            href="#ceo3" aria-expanded="false"
                                                                            aria-controls="collapseOne"
                                                                            class="collapsed">
                                                                            <h5 class="width96pc mt-0"> <span
                                                                                    class="employ-width"> {{'agendas' |
                                                                                    translate}} </span> <span
                                                                                    class="drop-down-icone"><i
                                                                                        class="fas fa-chevron-down"></i></span>
                                                                            </h5>
                                                                        </a>
                                                                    </div>
                                                                </div>
                                                                <div id="ceo3" class="panel-collapse collapse show"
                                                                    role="tabpanel" aria-labelledby="headingOne"
                                                                    data-parent="#ceo3">
                                                                    <div class="panel-body bg-white">
                                                                        <div class="delete-bullet-point">
                                                                            <ul class="arrowlist ml-0 pl-0 mt-0 mb-0">
                                                                                <ng-container *ngIf="MeetingPlanStore?.meetingPlanAgendas?.length > 0" >
                                                                                    <li
                                                                                        *ngFor="let agenda of MeetingPlanStore?.meetingPlanAgendas">
                                                                                        {{agenda.title}}
                                                                                    </li>
                                                                                </ng-container>

                                                                    
                                                                            </ul>
                                                                        </div>
                                                                        <!-- <div class="drop-detail-sec">
                                                                            <ul class="arrowlist m-0 p-0">
                                                                                <li class="clearfix"
                                                                                    *ngIf="MeetingPlanStore.newMeetingAgenda == 0 && MeetingAgendaMasterStore._selectedMeetingAgendaAll.length==0">
                                                                                    <a>{{AppStore.noContentText}}</a>
                                                                                </li>
                                                                                <div
                                                                                    *ngFor="let items of MeetingPlanStore.newMeetingAgenda">
                                                                                    <li
                                                                                        *ngIf="!MeetingPlanStore.updateItem || (MeetingPlanStore.updateItem.id != items.id)">
                                                                                        {{items.title}}</li>
                                                                                    <app-agenda-recursive-modal
                                                                                        *ngIf="items.meeting_agendas.length > 0"
                                                                                        [details]="items.meeting_agendas">
                                                                                    </app-agenda-recursive-modal>
                                                                                </div>
                                                                            </ul>
                                                                        </div> -->
                                                                    </div>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-12 col-lg-4">
                                <div class="risk-rating-box bg-white p-3 text-left">
                                    <h6 class="text-left"> {{'organizer' | translate}}</h6>
                                    <hr class="mt-0 mb-3">
                                    <div *ngIf="form.value.organizer_id"
                                        class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg p-0">
                                        <app-user-popup-box [source]="getEmployeePopupDetails(form.value?.organizer_id)"
                                            [activateButtons]="false"></app-user-popup-box>
                                    </div>
                                    <div style="text-align:left;" *ngIf="!form.value.organizer_id">
                                        {{AppStore.noContentText}}</div>
                                </div>

                                <div class="risk-rating-box bg-white p-3 mt-4">
                                    <h6 class="text-left"> {{'participants' | translate}}</h6>
                                    <hr class="mt-0 mb-3">
                                    <ul class="arci-user-tab-dtl workflow-lst-pics-loop clearfix"
                                        style="min-height: auto;">
                                        <li *ngFor="let user of form.value.meeting_plan_users;let i=index"
                                            class="rounde-hov-bg">
                                            <app-user-popup-box [source]="getEmployeePopupDetails(user)"
                                                [showName]="false" [activateButtons]="false"></app-user-popup-box>
                                        </li>
                                        <li *ngIf="form.value.meeting_plan_users.length==0">{{AppStore.noContentText}}
                                        </li>
                                    </ul>
                                </div>

                                <h6 class="mt-3">{{'support_files' | translate}}</h6>

                                <!-- <div class="thumb-pics-bg thumb-pics-col-2 clearfix" style="margin-left: 0px;">
                                    <div *ngIf="!(MeetingPlanStore.docDetails.length > 0)">
                                        <p>{{AppStore.noContentText}}</p>
                                    </div>

                                    <div [ngClass]="b.is_deleted ?  'thumb-pics':'thumb-pics'"
                                        *ngFor="let b of MeetingPlanStore.docDetails">
                                        <div class="upload-pics upload-pics-small edit-option">
                                            <div class="browse-form-pic"
                                                [ngStyle]="{'background': 'url(' + b?.preview + ') no-repeat 0 0 / cover'}">
                                            </div>
                                            <div class="browse-form-name clearfix">
                                                <div class="float-left">
                                                    <h6 [attr.title]="b?.name">{{b?.name.length > 20 ?
                                                        b.name?.substring(0,20)+' ...' : b?.name}}</h6>
                                                    <span>{{b?.size/1048576 | number:'0.2-2'}}MB</span>
                                                </div>
                                                <div class="browse-logo">
                                                    <img *ngIf="checkExtension(b?.ext,'excel') != -1"
                                                        src="/assets/images/md-xl.png">
                                                    <img *ngIf="checkExtension(b?.ext,'image') != -1"
                                                        src="/assets/images/md-jpg.png">
                                                    <img *ngIf="checkExtension(b?.ext,'doc') != -1"
                                                        src="/assets/images/md-doc.png">
                                                    <img *ngIf="checkExtension(b?.ext,'pdf') != -1"
                                                        src="/assets/images/md-pdf.png">
                                                    <img *ngIf="checkExtension(b?.ext,'video') != -1"
                                                        src="/assets/images/md-video.png">
                                                    <img *ngIf="checkExtension(b?.ext,'audio') != -1"
                                                        src="/assets/images/md-audio.png">
                                                    <img *ngIf="checkExtension(b?.ext,'ppt') != -1"
                                                        src="/assets/images/md-ppt.png">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div> -->
                                <p *ngIf="fileUploadPopupStore.displayFiles.length==0">
                                    {{AppStore.noContentText}}</p>
                                <div class="scroll-documents" #previewUploadArea>
                                    <div class="thumb-pics-bg thumb-pics-col-2 clearfix thumb-pics-fix-text"
                                        *ngIf="fileUploadPopupStore.displayFiles.length > 0">
                                        <div class="thumb-pics"
                                            *ngFor="let docs of fileUploadPopupStore.displayFiles ;let i = index">
                                            <div class="upload-pics edit-option" data-toggle="modal">
                                                <div *ngIf="docs.id && !docs.preview" class="browse-form-pic"
                                                    [ngStyle]="{'background': 'url('+createImageUrl('document-version',docs?.token)+') no-repeat'}">
                                                </div>
                                                <div *ngIf="docs.preview" class="browse-form-pic"
                                                    [ngStyle]="{'background': 'url(' + docs?.preview + ') no-repeat 0 0 / cover'}">
                                                </div>
                                                <div class="browse-form-name clearfix">
                                                    <div class="float-left">
                                                        <h6>{{docs.title?docs.title:docs.name?docs.name:docs.version_title?docs.version_title:"NA"}}.{{docs.ext}}
                                                        </h6>
                                                        <span *ngIf="docs.is_kh_document"
                                                            class="mr-2 cmn-clr"><i
                                                                class="fas fa-book"></i></span>
                                                        <span *ngIf="!docs.is_kh_document"
                                                            class="mr-2 cmn-clr"><i
                                                                class="fas fa-laptop"></i></span>
                                                        <span>{{docs.size/1048576 | number:'0.2-2'}}MB</span>
                                                    </div>
                                                    <div class="browse-logo">
                                                        <img *ngIf="checkExtension(docs.ext,'image') != -1"
                                                            class="folder-picher"
                                                            src="/assets/images/jpg-icone.png">
                                                        <img *ngIf="checkExtension(docs.ext,'doc') != -1"
                                                            class="folder-picher"
                                                            src="/assets/images/word-icone.png">
                                                        <img *ngIf="checkExtension(docs.ext,'pdf') != -1"
                                                            class="folder-picher"
                                                            src="/assets/images/pdf-icone.png">
                                                        <img *ngIf="checkExtension(docs.ext,'excel') != -1"
                                                            class="folder-picher"
                                                            src="/assets/images/excel-icone.png">
                                                        <img *ngIf="checkExtension(docs.ext,'video') != -1"
                                                            class="folder-picher"
                                                            src="/assets/images/md-video.png">
                                                        <img *ngIf="checkExtension(docs.ext,'audio') != -1"
                                                            class="folder-picher"
                                                            src="/assets/images/md-audio.png">
                                                        <img *ngIf="checkExtension(docs.ext,'ppt') != -1"
                                                            class="folder-picher"
                                                            src="/assets/images/md-ppt.png">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Mapping ----------------------------------------------------------------------->
                        <div class="Clearfix"
                        *ngIf="IssueListStore?.selectedIssuesList?.length != 0 ||
                        ProcessStore?.selectedProcessesList?.length != 0 ||
                        MeetingPlanStore?.selectedRiskList?.length != 0 ||
                        ControlStore?.selectedControlsList?.length != 0 ||
                        BusinessProjectsStore?.selectedProjectsList?.length != 0 ||
                        BusinessProductsStore?.selectedProductList?.length != 0 ||
                        BusinessCustomersStore?.selectedCustomerList?.length != 0 ||
                        StrategicObjectivesMasterStore?.selectedStrategic?.length != 0 ||
                        AuditFindingsStore?._selectedFindingItemAll?.length != 0 ||
                        FindingsStore?._selectedNonConformityItemAll?.length != 0 
                        ">
                            <h6> {{'mapping' | translate}} </h6>

                            <div class="clearfix small-tab-small-main small-tab-medium-main">
                                <div class="small-list-tab small-tab-small small-tab-medium">
                                    <!-- tab menu start -->
                                    <ul class="nav nav-tabs nav-tabs--vertical nav-tabs--left vertical-tab "
                                        role="navigation">
                                        <li class="nav-item"> <a href="#issues-prev"
                                            *ngIf="IssueListStore?.selectedIssuesList.length != 0"
                                                [ngClass]="selectedSection=='issue'?'nav-link text-left active show':'nav-link text-left'"
                                                data-toggle="tab" role="tab"
                                                aria-controls="lorem" aria-selected="false" data-original-title=""
                                                title="" (click)="gotoMappingSection('issue')"> {{'issues' |
                                                translate}}</a></li>
                                        <li class="nav-item"> <a href="#process-prev"  
                                            [ngClass]="selectedSection=='process'?'nav-link text-left active show':'nav-link text-left'"
                                            *ngIf="ProcessStore?.selectedProcessesList.length != 0"
                                                data-toggle="tab" role="tab" aria-controls="ipsum" aria-selected="false"
                                                data-original-title="" title="" (click)="gotoMappingSection('process')">
                                                {{'process' | translate}} </a></li>
                                        <li class="nav-item"> <a href="#risk-prev" 
                                            [ngClass]="selectedSection=='risk'?'nav-link text-left active show':'nav-link text-left'"
                                            *ngIf="MeetingPlanStore?.selectedRiskList.length != 0"
                                                data-toggle="tab" role="tab" aria-controls="ipsum" aria-selected="false"
                                                data-original-title="" title="" (click)="gotoMappingSection('risk')">
                                                {{'risks' | translate}} </a></li>
                                        <li class="nav-item"> <a href="#controls-prev"
                                            [ngClass]="selectedSection=='control'?'nav-link text-left active show':'nav-link text-left'"
                                            *ngIf="ControlStore?.selectedControlsList.length != 0"
                                                data-toggle="tab" role="tab" aria-controls="ipsum" aria-selected="false"
                                                data-original-title="" title="" (click)="gotoMappingSection('control')">
                                                {{'controls' | translate}} </a></li>
                                        <li class="nav-item"> <a href="#projects-prev" 
                                            [ngClass]="selectedSection=='projects'?'nav-link text-left active show':'nav-link text-left'"
                                            *ngIf="BusinessProjectsStore?.selectedProjectsList.length != 0"
                                                data-toggle="tab" role="tab" aria-controls="ipsum" aria-selected="false"
                                                data-original-title="" title="" (click)="gotoMappingSection('projects')">
                                                {{'projects' | translate}} </a></li>
                                        <li class="nav-item"> <a href="#product-prev"
                                            [ngClass]="selectedSection=='product'?'nav-link text-left active show':'nav-link text-left'"
                                            *ngIf="BusinessProductsStore?.selectedProductList.length != 0"
                                                data-toggle="tab" role="tab" aria-controls="ipsum" aria-selected="false"
                                                data-original-title="" title="" (click)="gotoMappingSection('product')">
                                                {{'products' | translate}} </a></li>
                                        <li class="nav-item"> <a href="#customer-prev" 
                                            [ngClass]="selectedSection=='customer'?'nav-link text-left active show':'nav-link text-left'"
                                            *ngIf="BusinessCustomersStore?.selectedCustomerList.length != 0"
                                                data-toggle="tab" role="tab" aria-controls="ipsum" aria-selected="false"
                                                data-original-title="" title="" (click)="gotoMappingSection('customer')">
                                                {{'customers' | translate}} </a></li>
                                        <li class="nav-item"> <a href="#objective-prev" 
                                            [ngClass]="selectedSection=='objective'?'nav-link text-left active show':'nav-link text-left'"
                                            *ngIf="StrategicObjectivesMasterStore?.selectedStrategic.length != 0"
                                                data-toggle="tab" role="tab" aria-controls="ipsum" aria-selected="false"
                                                data-original-title="" title="" (click)="gotoMappingSection('objective')">
                                                {{'strategic_objectives' | translate}} </a></li>
                                        <li class="nav-item"> <a href="#finding-prev"
                                            [ngClass]="selectedSection=='audit_finding'?'nav-link text-left active show':'nav-link text-left'"
                                            *ngIf="AuditFindingsStore?._selectedFindingItemAll.length != 0"
                                                data-toggle="tab" role="tab" aria-controls="ipsum" aria-selected="false"
                                                data-original-title="" title="" (click)="gotoMappingSection('audit_finding')">
                                                {{'audit_findings' | translate}} </a></li>
                                        <li class="nav-item"> <a href="#nonConformity-prev"
                                            [ngClass]="selectedSection=='non-conformity'?'nav-link text-left active show':'nav-link text-left'"
                                            *ngIf="FindingsStore?._selectedNonConformityItemAll?.length != 0"
                                                data-toggle="tab" role="tab" aria-controls="ipsum" aria-selected="false"
                                                data-original-title="" title="" (click)="gotoMappingSection('non-conformity')">
                                                {{'non-conformity' | translate}} </a></li>
                                    </ul>
                                </div>

                                <div class="tab-content">

                                    <div [ngClass]="selectedSection=='issue'?'tab-pane fade active show':'tab-pane fade'" id="issues-prev" role="tabpanel">
                                        <div class="head-and-list audit-page-table p-3">

                                            <table class="table table-bordered ordinary-table cmn-table-style mb-4">
                                                <tr>
                                                    <th class="border-top-0" width="2%">#</th>
                                                    <th class="border-top-0" width="9%">Ref.ID</th>
                                                    <th class="border-top-0" width="18%"> {{'issue' | translate}}</th>
                                                    <th class="border-top-0" width="12%"> {{'issue_type' | translate}}
                                                    </th>
                                                    <th class="border-top-0" width="20%"> {{'issue_category' |
                                                        translate}}</th>
                                                    <th class="border-top-0" width="19%"> {{'issue_domain' | translate}}
                                                    </th>
                                                    <th class="border-top-0" width="32%"> {{'departments' | translate}}
                                                    </th>
                                                </tr>
                                                <tr
                                                    *ngFor="let issue of IssueListStore?.selectedIssuesList; let list=index">
                                                    <td class="text-center">{{list+1}}</td>
                                                    <td>{{issue.reference_code}}</td>
                                                    <td>{{issue.issues_title?issue.issues_title:issue.title}}</td>
                                                    <td *ngIf="issue.issue_types_list?.length>0"> <span
                                                            *ngFor="let types of issue.issue_types_list"
                                                            class="risk-type-bx risk-type-bx-drop">
                                                            <i><img
                                                                    [attr.src]="types == 'Internal' ? 'assets/images/risk-type-icon.png' : 'assets/images/risk-type-icon-two.png'">{{types}}</i>&nbsp;
                                                        </span>
                                                    </td>
                                                    <td *ngIf="issue.issue_types_list?.length==0">
                                                        {{AppStore.noContentText}}</td>
                                                    <td [attr.title]="issue.issue_categories">
                                                        {{ issue.issue_categories?.length > 25 ?
                                                        issue.issue_categories.substring(0,25)+'...' :
                                                        issue.issue_categories }}
                                                    </td>
                                                    <td *ngIf="issue?.issue_domains" [attr.title]="issue.issue_domains">
                                                        {{ issue.issue_domains?.length > 25 ?
                                                        issue.issue_domains.substring(0,25)+'...' : issue.issue_domains
                                                        }}
                                                    </td>
                                                    <td *ngIf="!issue?.issue_domains">
                                                        {{AppStore.noContentText}}
                                                    </td>
                                                    <td>
                                                        {{issue.departments?issue.departments:AppStore.noContentText}}

                                                    </td>
                                                </tr>


                                            </table>
                                            <app-no-data *ngIf="IssueListStore?.selectedIssuesList.length == 0">
                                            </app-no-data>
                                        </div>
                                    </div>

                                    <div [ngClass]="selectedSection=='process'?'tab-pane fade active show':'tab-pane fade'" id="process-prev" role="tabpanel">
                                        <div class="head-and-list audit-page-table p-3">
                                            <table class="table table-bordered ordinary-table cmn-table-style mb-4">
                                                <tr>
                                                    <th class="border-top-0" width="2%">#</th>
                                                    <th class="border-top-0" width="9%">Ref.ID</th>
                                                    <th class="border-top-0" width="25%">{{'process_group' | translate}}
                                                    </th>
                                                    <th class="border-top-0" width="32%"> {{'process' | translate}}
                                                    </th>
                                                    <th class="border-top-0" width="17%"> {{'process_category' |
                                                        translate}}</th>
                                                    <th class="border-top-0" width="12%"> {{'department' | translate}}
                                                    </th>
                                                    <!-- <th class="border-top-0" width="19%"> {{'risk_rating' | translate}}</th> -->
                                                    <!-- <th class="border-top-0" width="33%">Status</th> -->
                                                </tr>
                                                <tr
                                                    *ngFor="let selected of ProcessStore?.selectedProcessesList; let p=index">
                                                    <td class="text-center">{{p+1}}</td>
                                                    <td>{{selected.reference_code}}</td>
                                                    <td>{{selected.process_group_title}}</td>
                                                    <td> {{selected.title}}
                                                    </td>
                                                    <td>{{selected.process_category_title}}</td>
                                                    <td>
                                                        {{selected.department}}
                                                    </td>
                                                </tr>

                                            </table>

                                            <app-no-data *ngIf="ProcessStore?.selectedProcessesList.length == 0">
                                            </app-no-data>
                                        </div>
                                    </div>

                                    <div [ngClass]="selectedSection=='risk'?'tab-pane fade active show':'tab-pane fade'" id="risk-prev" role="tabpanel">
                                        <div class="head-and-list audit-page-table p-3">
                                            <table class="table table-bordered ordinary-table cmn-table-style mb-2">
                                                <tr>
                                                    <th class="border-top-0" width="2%">#</th>
                                                    <th class="border-top-0" width="9%">Ref.ID</th>
                                                    <th class="border-top-0" width="25%"> {{'risk' | translate}}</th>
                                                    <th class="border-top-0" width="32%"> {{'departments' | translate}}
                                                    </th>
                                                    <th class="border-top-0" width="16%"> {{'risk_category' |
                                                        translate}}</th>
                                                    <th class="border-top-0" width="12%"> {{'risk_types' | translate}}
                                                    </th>
                                                 
                                                </tr>
                                                <tr
                                                    *ngFor="let selected of MeetingPlanStore?.selectedRiskList; let list=index">
                                                    <td class="text-center">{{list+1}}</td>
                                                    <td>{{selected.reference_code}}</td>
                                                    <td>{{selected.title}}</td>
                                                    <td> {{checkDepartment(selected.departments)}}
                                                    </td>
                                                    <td>{{checkRiskCategory(selected.risk_category?.title
                                                        ?selected.risk_category?.title:selected.risk_category_title )}}
                                                    </td>
                                                    <td>{{checkRiskType(selected.risk_types)}}</td>
                
                                                </tr>



                                            </table>
                                    
                                            <app-no-data *ngIf="MeetingPlanStore?.selectedRiskList.length == 0">
                                            </app-no-data>
                                        </div>

                                    </div>

                                    <div [ngClass]="selectedSection=='control'?'tab-pane fade active show':'tab-pane fade'" id="controls-prev" role="tabpanel">
                                        <div class="head-and-list audit-page-table p-3">
                                            <table class="table table-bordered ordinary-table cmn-table-style mb-2">
                                                <tr>
                                                    <th class="border-top-0" width="2%">#</th>
                                                    <th class="border-top-0" width="10%">{{'ref_id' |
                                                        translate}}
                                                    </th>
                                                    <th class="border-top-0" width="88%">{{'title' | translate}}
                                                    </th>

                                                </tr>
                                                <tr
                                                    *ngFor="let cntrl of ControlStore?.selectedControlsList; let list=index">
                                                    <td class="text-center">{{list+1}}</td>
                                                    <td>{{cntrl.reference_code}}</td>
                                                    <td>{{cntrl.issues_title?cntrl.issues_title:cntrl.title}}
                                                    </td>
                                                </tr>
                                            </table>
                                    
                                            <app-no-data *ngIf="ControlStore?.selectedControlsList.length == 0">
                                            </app-no-data>
                                        </div>
                                    </div>

                                    <div [ngClass]="selectedSection=='projects'?'tab-pane fade active show':'tab-pane fade'" id="projects-prev" role="tabpanel">
                                        <div class="head-and-list audit-page-table p-3">
                                            <table
                                                        class="table table-bordered ordinary-table cmn-table-style mb-4">
                                                        <tr>

                                                            <th class="border-top-0" width="9%">{{'sl' | translate}}
                                                            </th>
                                                            <th class="border-top-0" width="25%">{{'title' |
                                                                translate}}</th>
                                                            <th class="border-top-0" width="32%">{{'manager_name'|translate}}
                                                            </th>
                                                            <th class="border-top-0" width="9%">{{'member_count' |
                                                                translate}}</th>
                                                            <th class="border-top-0" width="9%">{{'location' |
                                                                translate}}
                                                            </th>
                                                        </tr>
                                                        <tr
                                                            *ngFor="let proj of BusinessProjectsStore?.selectedProjectsList; let list=index">
                                                            <td class="text-center">{{list+1}}</td>
                                                            <td> {{proj.title}}
                                                            </td>
                                                            <td>
                                                                <div class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg"
                                                                    *ngIf="proj.project_manager_first_name">
                                                                    <img [attr.src]="proj.project_manager_image_token?createImageUrl('user-profile-picture',proj.project_manager_image_token):getDefaultImage()"
                                                                        width="30px" height="30px"
                                                                        class="rounded-circle">

                                                                    <div>
                                                                        <h6>{{proj.project_manager_first_name}}
                                                                            {{proj.project_manager_last_name}}</h6>
                                                                        <span>{{proj.project_manager_designation?proj.project_manager_designation:AppStore.noContentText}}
                                                                        </span>
                                                                    </div>
                                                                </div>
                                                                <p *ngIf="!proj.project_manager_first_name">
                                                                    {{AppStore.noContentText}}</p>
                                                            </td>
                                                            <td>{{proj.member_count?proj.member_count:AppStore.noContentText}}</td>
                                                            <td>{{proj.location_title?proj.location_title:AppStore.noContentText}}
                                                            </td>

                                                        </tr>

                                                    </table>
                                    
                                            <app-no-data *ngIf="BusinessProjectsStore?.selectedProjectsList.length == 0">
                                            </app-no-data>
                                        </div>
                                    </div>

                                    <div [ngClass]="selectedSection=='product'?'tab-pane fade active show':'tab-pane fade'" id="product-prev" role="tabpanel">
                                        <div class="head-and-list audit-page-table p-3">
                                            <table
                                                        class="table table-bordered ordinary-table cmn-table-style mb-4">
                                                        <tr>

                                                            <th class="border-top-0" width="9%">{{'sl' | translate}}
                                                            </th>
                                                            <th class="border-top-0" width="25%">{{'title' |
                                                                translate}}</th>
                                                            <th class="border-top-0" width="32%">{{'description' |
                                                                translate}}
                                                            </th>
                                                            <!-- <th class="border-top-0" width="9%">{{'member_count' |
                                                                translate}}</th>
                                                            <th class="border-top-0" width="9%">{{'location' | translate}}
                                                            </th> -->

                                                        </tr>
                                                        <tr
                                                            *ngFor="let prod of BusinessProductsStore?.selectedProductList; let list=index">
                                                            <td class="text-center">{{list+1}}</td>
                                                            <td> {{prod.title}}
                                                            </td>
                                                            <td>{{prod.description?prod.description:AppStore.noContentText}}
                                                            </td>
                                                            <!-- <td>{{prod.member_count}}</td>
                                                            <td>{{prod.location_title?prod.location_title:AppStore.noContentText}}
                                                            </td> -->

                                                        </tr>
                                            </table>
                                            <app-no-data *ngIf="BusinessProductsStore?.selectedProductList.length == 0">
                                            </app-no-data>
                                        </div>
                                    </div>

                                    <div [ngClass]="selectedSection=='customer'?'tab-pane fade active show':'tab-pane fade'" id="customer-prev" role="tabpanel">
                                        <div class="head-and-list audit-page-table p-3">
                                            <table
                                            class="table table-bordered ordinary-table cmn-table-style mb-4">
                                            <tr>

                                                <th class="border-top-0" width="9%">{{'sl' | translate}}
                                                </th>
                                                <th class="border-top-0" width="25%">{{'title' |
                                                    translate}}</th>
                                                <th class="border-top-0" width="32%">{{'contact_person' |
                                                    translate}}
                                                </th>
                                                <th class="border-top-0" width="9%">{{'address' |
                                                    translate}}</th>
                                            </tr>
                                            <tr
                                                *ngFor="let cust of BusinessCustomersStore?.selectedCustomerList; let list=index">
                                                <td class="text-center">{{list+1}}</td>
                                                <td> {{cust.title}}
                                                </td>
                                                <td>{{cust.contact_person?cust.contact_person:AppStore.noContentText}}
                                                </td>
                                                <td>{{cust.address?cust.address:AppStore.noContentText}}
                                                </td>
                                            </tr>

                                        </table>
                                            <app-no-data *ngIf="BusinessCustomersStore?.selectedCustomerList.length == 0">
                                            </app-no-data>
                                        </div>
                                    </div>

                                    <div [ngClass]="selectedSection=='objective'?'tab-pane fade active show':'tab-pane fade'" id="objective-prev" role="tabpanel">
                                        <div class="head-and-list audit-page-table p-3">
                                            <table
                                            class="table table-bordered ordinary-table cmn-table-style mb-4">
                                            <tr>

                                                <th class="border-top-0" width="9%">{{'sl' | translate}}
                                                </th>
                                                <th class="border-top-0" width="25%">{{'title' |
                                                    translate}}</th>
                                            </tr>
                                            <tr
                                                *ngFor="let obj of StrategicObjectivesMasterStore?.selectedStrategic; let list=index">
                                                <td class="text-center">{{list+1}}</td>
                                                <td> {{obj.title}}
                                                </td>
                                            </tr>
                                        </table>
                                            <app-no-data *ngIf="StrategicObjectivesMasterStore?.selectedStrategic.length == 0">
                                            </app-no-data>
                                        </div>
                                    </div>

                                    <div [ngClass]="selectedSection=='audit_finding'?'tab-pane fade active show':'tab-pane fade'" id="finding-prev" role="tabpanel">
                                        <div class="head-and-list audit-page-table p-3">
                                            <table
                                            class="table table-bordered ordinary-table cmn-table-style mb-4">
                                            <tr>
                                                <th class="border-top-0" width="10%">{{'sl' | translate}}</th>
                                                <th class="border-top-0" width="50%">{{'title' | translate}}</th>
                                                <th class="border-top-0" width="15%">{{'audit_category' | translate}}</th>
                                                <th class="border-top-0" width="15%">{{'risk' | translate}}</th>
                                                <th class="border-top-0" width="10%">{{'status' | translate}}</th>
                                            </tr>
                                            <tr class="pointer edit-and-delete-main"
                                                *ngFor="let row of AuditFindingsStore?._selectedFindingItemAll; let list=index">
                                                <td class="text-center">{{list+1}}</td>
                                                <td >{{row?.title? row?.title: AppStore.noContentText  }}</td>
                                                <td >{{row?.finding_categories? row?.finding_categories : row?.finding_category?.title}}</td>
                                                <td >
                                                    <div class="dot-div {{row?.risk_rating_label?row?.risk_rating_label:row?.risk_rating?.label}}-dot">
                                                        {{row?.risk_ratings? row?.risk_ratings:row?.risk_rating?.language[0]?.pivot?.title}} 
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="dot-div {{row?.finding_status_label? row?.finding_status_label :row?.finding_status?.label}}">
                                                        {{row?.finding_status_title ? row?.finding_status_title : row?.finding_status?.language[0]?.pivot?.title}}
                                                    </div>
                                                </td>
                                            </tr>
                                        </table>
                                            <app-no-data *ngIf="AuditFindingsStore?._selectedFindingItemAll.length == 0">
                                            </app-no-data>
                                        </div>
                                    </div>

                                    <div [ngClass]="selectedSection=='non-conformity'?'tab-pane fade active show':'tab-pane fade'" id="nonConformity-prev" role="tabpanel">
                                        <div class="head-and-list audit-page-table p-3">
                                            <table
                                            class="table table-bordered ordinary-table cmn-table-style mb-4">
                                            <tr>
                                                <th class="border-top-0" width="7%">{{'sl' | translate}}</th>
                                                <th class="border-top-0" width="7%">{{'Ref. ID' | translate}}</th>
                                                <th class="border-top-0" width="47%">{{'title' | translate}}</th>
                                                <th class="border-top-0" width="19%">{{'category' | translate}}</th>
                                                <th class="border-top-0" width="10%">{{'risk_rating' | translate}}</th>
                                                <th class="border-top-0" width="10%">{{'status' | translate}}</th>
                                            </tr>
                                            <tr class="pointer edit-and-delete-main"
                                                *ngFor="let row of FindingsStore?._selectedNonConformityItemAll; let list=index">
                                                <td class="text-center">{{list+1}}</td>
                                                <td>{{row.reference_code}}</td>
                                                <td>{{row?.title? row?.title: AppStore.noContentText }}</td>
                                                <td>{{row?.finding_category?.title? row?.finding_category?.title: row?.finding_category}}</td>
                                                <td >
                                                    <div class="dot-div {{row?.risk_rating_label?row?.risk_rating_label:row?.risk_rating?.label}}-dot">
                                                        {{row?.risk_rating?.language ? row?.risk_rating?.language[0]?.pivot?.title: row?.risk_rating }} 
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="dot-div {{row?.finding_status_label? row?.finding_status_label :row?.finding_status?.label}}">
                                                        {{row?.finding_status_title ? row?.finding_status_title : row?.finding_status?.language[0]?.pivot?.title}}
                                                    </div>
                                                </td>
                                            </tr>
                                        </table>
                                            <app-no-data *ngIf="FindingsStore?._selectedNonConformityItemAll?.length == 0">
                                            </app-no-data>
                                        </div>
                                    </div>
                                    
                                </div>

                            </div>
                            <!-- Mapping ----------------------------------------------------------------------->

                            <div class="row">
                                <div class="col-xl-12">
                                    <hr>
                                    <div class="d-flex flex-row user-list-sm">
                                        <app-user-popup-box [source]="getEmployeePopupDetails(AuthStore.user,'auth')"
                                            [activateButtons]="false"></app-user-popup-box>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <!-- <div style="overflow:auto;">
                    <div class="form-next-page-btns" style="float:left;">
                        <button class="btn btn-active" type="button" id="nextBtn" (click)="nextPrev(1)"
                            [disabled]="AppStore.loading || !checkFormObject()|| checkDinamicaly()">{{getButtonText(nextButtonText)}}</button>
                        <button class="btn" type="button" id="prevBtn" (click)="nextPrev(-1)"
                            [disabled]="AppStore.loading">{{getButtonText(previousButtonText)}}</button>
                        <button class="btn" type="button" (click)="confirmCancel()"> {{'cancel' | translate}}</button>
                    </div>
                </div> -->
                <div style="overflow:auto;">
                <div class="form-next-page-btns" style="float:left;">
                    <button class="btn btn-active" type="button" id="nextBtn"
                        [disabled]="AppStore.loading||!checkFormObject()|| checkDinamicaly() "
                        (click)="saveTabDetails()" >{{AppStore.loading ? getButtonText('loading') :  getButtonText('save')}}</button>
                    
                    <button class="btn" type="button" id="saveNext" (click)="nextPrev(1)"
                        [disabled]="AppStore.loading||!checkFormObject()|| checkDinamicaly() ">{{
                        AppStore.loading ? getButtonText('loading') : getButtonText(nextButtonText) }}</button>
                        <button class="btn" type="button" id="prevBtn" (click)="nextPrev(-1)"
                        [disabled]="AppStore.loading ">{{
                        AppStore.loading ? getButtonText('loading') : getButtonText(previousButtonText) }}</button>
                    <button class="btn" type="button" (click)="confirmCancel()">{{ getButtonText('cancel')}}</button>
                </div>
            </div>
            </form>
        </div>
    </div>
</main>



<!-- calling add criteria modal -->

<div class="modal modal-style-1 popup-full-width fade" *mobxAutorun style="z-index:99999;overflow: auto;"
    data-keyboard="false" data-backdrop="static" #addCriteria>
    <app-criteria-add-modal *ngIf="MeetingPlanStore.criteria_form_modal">
    </app-criteria-add-modal>
</div>

<!-- calling add Agendas modal -->

<div class="modal modal-style-1 popup-full-width fade" *mobxAutorun style="z-index:99999;overflow: auto;"
    data-keyboard="false" data-backdrop="static" #addAgenda>
    <app-agenda-add-modal *ngIf="MeetingPlanStore.agenda_form_modal">
    </app-agenda-add-modal>
</div>

<!-- category add Modal part -->
<div class="modal modal-style-1 popup-full-width fade" data-keyboard="false" data-backdrop="static" #addCategory>
    <app-meeting-category-modal>
    </app-meeting-category-modal>
</div>

<!-- venue add Modal part -->
<div class="modal modal-style-1 popup-full-width fade" data-keyboard="false" data-backdrop="static" #addVenue>
    <app-venue-modal [venuelabels]="venuelabels">
    </app-venue-modal>
</div>

<!-- calling add objective modal -->
<div class="modal modal-style-1 popup-full-width fade" *mobxAutorun style="z-index:99999;overflow: auto;"
    data-keyboard="false" data-backdrop="static" #addObjective>
    <app-objective-add-modal *ngIf="MeetingPlanStore.objectives_form_modal">
    </app-objective-add-modal>
</div>

<!-- 1. Issue List-->
<div class="modal modal-style-1 popup-full-width fade" id="issue-popup" data-keyboard="false" data-backdrop="static"
    #issueFormModal *mobxAutorun>
    <app-issues-modal *ngIf="IssueListStore.issue_select_form_modal"  [issuesModalTitle] = "modalObject">
    </app-issues-modal>
</div>

<!-- 2.process list-->
<div class="modal modal-style-1 popup-full-width fade" id="process-popup" data-keyboard="false" data-backdrop="static"
    #processFormModal *mobxAutorun>
    <app-addprocess *ngIf="IssueListStore.processes_form_modal" [processModalTitle]="modalObject">
    </app-addprocess>
</div>

<!-- 3.risk-mapping -->
<div class="modal modal-style-1 popup-full-width fade" id="risk-popup" data-keyboard="false" data-backdrop="static"
    #riskFormModal *mobxAutorun>
    <app-add-risk-mapping *ngIf="MappingStore.risk_select_form_modal" [riskModalTitle]="modalObject">
    </app-add-risk-mapping>
</div>

<!-- 4.Control Choose Popup -->
<div class="modal modal-style-1 popup-full-width fade" id="process-popup" data-keyboard="false" data-backdrop="static"
    #controlFormModal *mobxAutorun>
    <app-control-popup *ngIf="MappingStore?.control_select_form_modal" [controlsModalTitle]="modalObject">
    </app-control-popup>
</div>
<!-- 5.product mapping -->
<div class="modal modal-style-1 popup-full-width fade" id="project-popup" data-keyboard="false" data-backdrop="static"
    #productFormModal *mobxAutorun>
    <app-product-modal *ngIf="BusinessProductsStore.product_select_form_modal" [productModalTitle]="modalObject">
    </app-product-modal>
</div>

<!-- 6.custom mapping -->
<div class="modal modal-style-1 popup-full-width fade" id="project-popup" data-keyboard="false" data-backdrop="static"
    #customerFormModal *mobxAutorun>
    <app-customer-modal *ngIf="BusinessCustomersStore.customer_select_form_modal"
    [customerModalTitle]="modalObject"></app-customer-modal>
</div>

<!-- 7.produect mapping -->
<div class="modal modal-style-1 popup-full-width fade" id="project-popup" data-keyboard="false" data-backdrop="static"
    #projectFormModal *mobxAutorun>
    <app-projects-modal *ngIf="BusinessProjectsStore.project_select_form_modal"
    [projectsModalTitle]="modalObject"></app-projects-modal>
</div>

<!-- 8.object mapping -->
<div class="modal modal-style-1 popup-full-width fade" id="project-popup" data-keyboard="false" data-backdrop="static"
    #objectiveFormModal *mobxAutorun>
    <app-strategic-objective-mapping *ngIf="StrategicObjectivesMasterStore?.objective_select_form_modal"
    [strategicModalTitle]="modalObject"></app-strategic-objective-mapping>
</div>

<!-- 9.object mapping -->
<div class="modal modal-style-1 popup-full-width fade" id="finding-popup" data-keyboard="false" data-backdrop="static"
    #findingFormModal *mobxAutorun>
    <app-finding-add-modal *ngIf="AuditFindingsStore.finding_select_form_modal"
    [strategicModalTitle]="modalObject"></app-finding-add-modal>
</div>

<!-- 9.Non Confomity mapping -->
<div class="modal modal-style-1 popup-full-width fade" id="non-conformity-popup" data-keyboard="false" data-backdrop="static"
    #nonConformityFormModal *mobxAutorun>
    <app-non-conformity-mapping *ngIf="FindingsStore.no_Conformity_finding_select_form_modal"
    [strategicModalTitle]="modalObject"></app-non-conformity-mapping>
</div>

<!-- Modal part -->
<div class="modal modal-style-1 popup-full-width fade" data-keyboard="false" data-backdrop="static" #meetingAgenda>
    <app-meeting-agenda-modal>
    </app-meeting-agenda-modal>
</div>

<div class="modal modal-style-1 fade" id="delete-popup" #cancelPopup>
    <app-delete-popup [source]="cancelObject"></app-delete-popup>
</div>

<!-- * Documetn Attach/Upload Common Component Starts Here -->
<div class="modal modal-style-1 popup-full-width fade" data-keyboard="false" data-backdrop="static" #fileUploadModal>
    <app-file-upload-popup *ngIf="fileUploadPopupStore.openPopup"></app-file-upload-popup>
</div>

<div class="modal modal-style-1 popup-full-width fade" data-keyboard="false" data-backdrop="static" #agendaForm>
    <app-agenda-form *ngIf="meetingAgendaObject.type" [source]="meetingAgendaObject">
    </app-agenda-form>
</div>