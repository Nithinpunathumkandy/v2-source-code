                           
    <div class="common-tab-md clearfix tab-same-height">
        <div class="tab-common-left-md">
          <div class=" issues-tab"><!-- tab menu start -->
            <ul class="nav nav-tabs nav-tabs--vertical nav-tabs--left vertical-tab" role="navigation">
              <li class="nav-item" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(100,21901)"> <a (click)="gotoSection('issue')" [ngClass]="selectedSection == 'issue' ? 'nav-link active' : 'nav-link'" data-toggle="tab" role="tab" aria-controls="lorem" aria-selected="false">{{'issues' | translate}}</a>
              </li>
              <li class="nav-item" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(600,12801)"> <a [ngClass]="selectedSection == 'process' ? 'nav-link active' : 'nav-link'" (click)="gotoSection('process')" data-toggle="tab" role="tab" aria-controls="ipsum" aria-selected="false">{{'processes' | translate}}</a>
              </li>
              <li class="nav-item" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(100,21301)"> <a [ngClass]="selectedSection == 'project' ? 'nav-link active' : 'nav-link'" (click)="gotoSection('project')" data-toggle="tab" role="tab" aria-controls="ipsum" aria-selected="false">{{'projects' | translate}}</a>
              </li>
              <li class="nav-item" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(100,21201)"> <a [ngClass]="selectedSection == 'customer' ? 'nav-link active' : 'nav-link'" (click)="gotoSection('customer')"  data-toggle="tab" role="tab" aria-controls="ipsum" aria-selected="false">{{'customers' | translate}}</a>
              </li>
              <li class="nav-item" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(600,11501)"><a (click)="gotoSection('control')" [ngClass]="selectedSection == 'control' ? 'nav-link active' : 'nav-link'" data-toggle="tab" role="tab" aria-controls="lorem" aria-selected="false">{{'controls' | translate}}</a>
              </li>
              <li class="nav-item" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(100,2901)"> <a (click)="gotoSection('product')" [ngClass]="selectedSection == 'product' ? 'nav-link active' : 'nav-link'" data-toggle="tab" role="tab" aria-controls="lorem" aria-selected="false">{{'products' | translate}}</a>
              </li>
              <li class="nav-item" *ngIf = "OrganizationModulesStore.checkOrganizationModules(3200)"> <a (click)="gotoSection('objective')" [ngClass]="selectedSection == 'objective' ? 'nav-link active' : 'nav-link'" data-toggle="tab" role="tab" aria-controls="lorem" aria-selected="false">{{'strategic_objectives' | translate}}</a>
              </li>
              <li class="nav-item" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(3300,54301)"> <a (click)="gotoSection('asset')" [ngClass]="selectedSection == 'asset' ? 'nav-link active' : 'nav-link'" data-toggle="tab" role="tab" aria-controls="lorem" aria-selected="false">{{'assets' | translate}}</a>
              </li>
              <li class="nav-item" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(100,3201)"> <a (click)="gotoSection('service')" [ngClass]="selectedSection == 'service' ? 'nav-link active' : 'nav-link'" data-toggle="tab" role="tab" aria-controls="lorem" aria-selected="false">{{'services' | translate}}</a>
              </li>
              <li class="nav-item" *ngIf = "OrganizationModulesStore.checkOrganizationSubModulesPermission(900,24401)"> <a (click)="gotoSection('risk')" [ngClass]="selectedSection == 'risk' ? 'nav-link active' : 'nav-link'" data-toggle="tab" role="tab"
               aria-controls="lorem" aria-selected="false"> {{'risks' | translate}}</a></li>
            </ul>
          </div><!-- tab menu end -->
        </div>

       <div class="tab-common-left-content-m bg-white cmn-bdr widg-padding-cmn min-height-83">
          <div class="tab-content">
             <div *ngIf="selectedSection=='issue'" [ngClass]="selectedSection=='issue' ? 'tab-pane fade active show' : 'tab-pane'" role="tabpanel">

                <!-- <div class="clearfix mb-2">
                   <button *ngIf="IncidentStore.mappingItemList?.organization_issues != 0" type="button" class="btn btn-small float-right" (click)="selectIssues()">{{'select' | translate}}</button>
                </div> -->
               <div class="cmn-bdr py-2 px-3 d-flex mb-3 align-items-center"
               *ngIf="IncidentStore.mappingItemList?.organization_issues != 0">
                  <h6 class="mb-0 w-100">{{'issues' | translate}}</h6>
                  <div class="text-right ml-2" style="width: 100px;">
                     <button *ngIf="IncidentStore.mappingItemList?.organization_issues != 0"
                     type="button" (click)="selectIssues()" class="btn btn-small" data-toggle="modal"
                        data-target="#choose-process-popup" style="margin: 0 !important;">{{'select' | translate}}</button>
                  </div>
               </div>

                <div class="audit-page-table-main"
                *ngIf="IncidentStore.mappingItemList?.organization_issues != 0 && IncidentStore.mappingIssueItemsLoaded && AuthStore.getActivityPermission(1900,'INCIDENT_MAPPING_LIST')">
                  <div class="row">
                     <div class="col-sm-12">
                        <div class="full-width-table w-100">
                        <table  class="table table-bordered ordinary-table audit-page-table mb-1 table-scroll">
                           <thead>
                              <tr>
                                 <!-- <th class="border-top-0 text-center" width="2%">#</th>
                                 <th class="border-top-0" width="8%">{{'ref_id' | translate}}</th>
                                 <th class="border-top-0" width="33%">{{'issue' | translate}}</th>
                                 <th class="border-top-0" width="10%">{{'issue_types' | translate}}</th>
                                 <th class="border-top-0" width="16%">{{'issue_categories' | translate}}</th>
                                 <th class="border-top-0" width="18%">{{'issue_domains' | translate}}</th>
                                 <th class="border-top-0" width="13%">{{'departments' | translate}}</th> -->
                                 <th class="border-top-0 text-center" width="2%">#</th>
                                 <th class="border-top-0" width="8%">{{'ref_id' | translate}}</th>
                                 <th class="border-top-0" width="20%">{{'issue' | translate}}</th>
                                 <th class="border-top-0" width="20%">{{'issue_types' | translate}}</th>
                                 <th class="border-top-0" width="19%">{{'issue_categories' | translate}}</th>
                                 <th class="border-top-0" width="18%">{{'issue_domains' | translate}}</th>
                                 <th class="border-top-0" width="13%">{{'departments' | translate}}</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="edit-and-delete-main" *ngFor="let row of IncidentStore.mappingItemList?.organization_issues;let num = index" >
                                 <td class="text-center">{{num+1}}</td>
                                 <td>{{row?.reference_code? row?.reference_code : AppStore.noContentText}}</td>
                                 <td>{{row?.title ? row?.title  : AppStore.noContentText}}</td>
                                 <td><span *ngFor="let types of row?.organization_issue_types"
                                    class="risk-type-bx risk-type-bx-drop"><i><img [attr.src]="types.title == 'Internal' ? 'assets/images/internal.svg' : 'assets/images/external.svg'" style="width: 15px;"> </i> {{types.title}}</span>
                                    <span *ngIf = "row?.organization_issue_types?.length == 0">{{AppStore.noContentText}}</span>
                                 </td>
                                 <!-- <td>{{row?.organization_issue_categories ?  row?.organization_issue_categories[0]?.title :AppStore.noContentText }}</td>
                                 <td>{{row?.organization_issue_domains ? row?.organization_issue_domains[0]?.title : AppStore.noContentText}}</td>
                                 <td>{{row?.organization_issue_departments ? row?.organization_issue_departments[0]?.title : AppStore.noContentText}} -->
                                    <td >{{(row?.organization_issue_categories && row?.organization_issue_categories?.length > 0)? getArrayProcessed(row?.organization_issue_categories) :AppStore.noContentText }}</td>
                                    <td>{{(row?.organization_issue_domains && row?.organization_issue_domains?.length > 0) ? getArrayProcessed(row?.organization_issue_domains) : AppStore.noContentText}}</td>
                                    <td>{{(row?.organization_issue_departments && row?.organization_issue_departments.length > 0) ? getArrayProcessed(row?.organization_issue_departments) : AppStore.noContentText}}
                                    <div class="edit-option-show">
                                        <a *ngIf="AuthStore.getActivityPermission(1900,'DELETE_ISSUE_INCIDENT_MAPPING')" (click)="deleteIssueMapping(row?.id)" [attr.title]="'delete' | translate"><i
                                            class="fas fa-trash pointer"></i></a>
                                    </div>
                                 </td>
                              </tr> 
                           </tbody>
                        </table>
                     </div>
                       
                     </div>
                  </div>
               </div>
               <ng-container *mobxAutorun>
                  <div *ngIf="!IncidentStore.mappingIssueItemsLoaded">
                      <app-incident-list-loader></app-incident-list-loader>
                  </div>
                  <app-no-data *ngIf="IncidentStore.mappingItemList?.organization_issues == 0 && IncidentStore.mappingIssueItemsLoaded == true"></app-no-data>
              </ng-container>


             </div>
             <div *ngIf="selectedSection=='process'" [ngClass]="selectedSection=='process' ? 'tab-pane fade active show' : 'tab-pane'" id="approvel" role="tabpanel">
                
                <!-- <div class="clearfix mb-2">
                   <button *ngIf="IncidentStore.mappingItemList?.processes != 0" type="button" class="btn btn-small float-right" (click)="selectProcesses()">{{'select' | translate}}</button>
                </div> -->
                <div class="cmn-bdr p-3 d-flex mb-3 align-items-center"
                *ngIf="IncidentStore.mappingItemList?.processes != 0">
                  <h6 class="mb-0 w-100">{{'processes' | translate}}</h6>
                  <div class="text-right ml-2" style="width: 100px;">
                     <button *ngIf="IncidentStore.mappingItemList?.processes != 0"
                     type="button" (click)="selectProcesses()" class="btn btn-small" data-toggle="modal"
                        data-target="#choose-process-popup" style="margin: 0 !important;">{{'select' | translate}}</button>
                  </div>
               </div>

                <div class="audit-page-table-main"
                *ngIf="IncidentStore.mappingItemList?.processes != 0 && IncidentStore.mappingIssueItemsLoaded && AuthStore.getActivityPermission(1900,'INCIDENT_MAPPING_LIST')" >
                  <div class="row">
                     <div class="col-sm-12">
                        <div class="full-width-table">
                        <table class="table table-bordered ordinary-table audit-page-table mb-1 table-scroll">
                           <thead>
                              <tr>
                                 <th class="border-top-0 text-center" width="2%">#</th>
                                 <th class="border-top-0" width="8%">{{'ref_id' | translate}}</th>
                                 <th class="border-top-0" width="23%">{{'process_group' | translate}}</th>
                                 <th class="border-top-0" width="20%">{{'process' | translate}}</th>
                                 <th class="border-top-0" width="16%">{{'process_category' | translate}}</th>
                                 <th class="border-top-0" width="18%">{{'departments' | translate}}</th>
                                 <!-- <th class="border-top-0" width="13%">Incident Rating</th> -->
                              </tr>
                           </thead>
                           <tbody>
                              <tr class="edit-and-delete-main" *ngFor="let row of IncidentStore.mappingItemList?.processes;let num = index">
                                 <td class="text-center">{{num+1}}</td>
                                 <td>{{row?.reference_code ? row?.reference_code : AppStore.noContentText}}</td>
                                 <td>{{row?.process_group?.title ? row?.process_group?.title : AppStore.noContentText}}</td>
                                 <td>{{row?.title? row?.title : AppStore.noContentText}}</td>
                                 <td>{{row?.process_category?.title ? row?.process_category?.title : AppStore.noContentText}} </td>
                                 <td>{{row?.department.title ? row?.department.title : AppStore.noContentText}}
                                    <div class="edit-option-show">
                                        <a *ngIf="AuthStore.getActivityPermission(1900,'DELETE_PROCESS_INCIDENT_MAPPING')" (click)="deleteProcessMapping(row?.id)" [attr.title]="'delete' | translate"><i
                                            class="fas fa-trash pointer"></i></a>
                                    </div>
                                 </td>
                                 <!-- <td><div class="dot-div red-dot">High</div></td> -->
                              </tr>
                           </tbody>
                        </table>
                     </div>
                      
                     </div>
                  </div>
               </div>
               <ng-container *mobxAutorun>
                  <div *ngIf="!IncidentStore.mappingIssueItemsLoaded">
                      <app-incident-list-loader></app-incident-list-loader>
                  </div>
                  <app-no-data *ngIf="IncidentStore.mappingItemList?.processes == 0 && IncidentStore.mappingIssueItemsLoaded == true"></app-no-data>
              </ng-container>

             </div>
            <!--project  -->
            <div *ngIf="selectedSection=='project'" class="tab-pane fade active show" id="projects" role="tabpanel">
                
               <!-- <div class="clearfix mb-2">
                  <button *ngIf="IncidentStore.mappingItemList?.projects != 0" type="button" class="btn btn-small float-right" (click)="selectProjects()">{{'select' | translate}}</button>
               </div> -->
               <div class="cmn-bdr p-3 d-flex mb-3 align-items-center"
               *ngIf="IncidentStore.mappingItemList?.projects != 0">
                  <h6 class="mb-0 w-100">{{'projects' | translate}}</h6>
                  <div class="text-right ml-2" style="width: 100px;">
                     <button *ngIf="IncidentStore.mappingItemList?.projects != 0"
                     type="button" (click)="selectProjects()" class="btn btn-small" data-toggle="modal"
                        data-target="#choose-process-popup" style="margin: 0 !important;">{{'select' | translate}}</button>
                  </div>
               </div>

               <div class="audit-page-table-main"
               *ngIf="IncidentStore.mappingItemList?.projects != 0 && IncidentStore.mappingIssueItemsLoaded && AuthStore.getActivityPermission(1900,'INCIDENT_MAPPING_LIST')">
                 <div class="row">
                    <div class="col-sm-12">
                       <div class="full-width-table">

                     <table class="table table-bordered ordinary-table cmn-table-style mb-1">
                     <tr>

                         <th class="border-top-0" width="5%">#
                         </th>
                         <th class="border-top-0" width="40%">{{'title' |
                             translate}}</th>
                         <th class="border-top-0" width="22%">{{'manager_name' |
                             translate}}
                         </th>
                         <th class="border-top-0" width="13%">{{'member_count' |
                             translate}}</th>
                         <th class="border-top-0" width="20%">{{'location' | translate}}
                         </th>

                     </tr>
                     <tr class="edit-and-delete-main"
                         *ngFor="let proj of IncidentStore.mappingItemList?.projects; let list=index">
                         <td>{{list+1}}</td>
                         <td> {{proj?.title}}
                         </td>
                         <td> <div class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg" *ngIf="proj?.project_manager?.first_name">
                             <img
                                 [attr.src]="proj?.project_manager_image_token?createImageUrl(proj?.project_manager_image_token):getDefaultImage('user-logo')"
                                 width="30px" height="30px" class="rounded-circle">
                             
                             <div>
                                 <h6>{{proj?.project_manager?.first_name}} {{proj?.project_manager?.last_name}}</h6>
                                 <!-- <span>{{proj?.project_manager_designation?proj?.project_manager_designation:AppStore.noContentText}} </span> -->
                             </div>
                         </div> 
                         <p *ngIf="!proj?.project_manager?.first_name">{{AppStore.noContentText}}</p>
                     </td>
                         <td>{{proj?.member_count? proj?.member_count :AppStore.noContentText  }}</td>
                         <td>
                             {{proj?.location ? proj?.location?.title:AppStore.noContentText}}  
                             <div class="edit-option-show">
                                <a *ngIf="AuthStore.getActivityPermission(1900,'DELETE_PROJECT_INCIDENT_MAPPING')" (click)="deleteProjectMapping(proj?.id)" [attr.title]="'delete' | translate"><i
                                    class="fas fa-trash pointer"></i></a>
                            </div>
                         </td>

                     </tr>

                 </table>
               </div>

                       
                    </div>
                 </div>
              </div>
              <ng-container *mobxAutorun>
               <div *ngIf="!IncidentStore.mappingIssueItemsLoaded">
                   <app-incident-list-loader></app-incident-list-loader>
               </div>
               <app-no-data *ngIf="IncidentStore.mappingItemList?.projects == 0 && IncidentStore.mappingIssueItemsLoaded == true"></app-no-data>
           </ng-container>

            </div>

            <!-- customer -->

            <div *ngIf="selectedSection=='customer'" class="tab-pane fade active show" id="customer" role="tabpanel">
                
               <!-- <div class="clearfix mb-2">
                  <button *ngIf="IncidentStore.mappingItemList?.customers != 0" type="button" class="btn btn-small float-right" (click)="selectCustomers()">{{'select' | translate}}</button>
               </div> -->
               <div class="cmn-bdr p-3 d-flex mb-3 align-items-center"
               *ngIf="IncidentStore.mappingItemList?.customers != 0">
                  <h6 class="mb-0 w-100">{{'customers' | translate}}</h6>
                  <div class="text-right ml-2" style="width: 100px;">
                     <button *ngIf="IncidentStore.mappingItemList?.customers != 0"
                     type="button" (click)="selectCustomers()" class="btn btn-small" data-toggle="modal"
                        data-target="#choose-process-popup" style="margin: 0 !important;">{{'select' | translate}}</button>
                  </div>
               </div>

               <div class="audit-page-table-main"
               *ngIf="IncidentStore.mappingItemList?.customers != 0 && IncidentStore.mappingIssueItemsLoaded && AuthStore.getActivityPermission(1900,'INCIDENT_MAPPING_LIST')">
                 <div class="row">
                    <div class="col-sm-12">
                       <div class="full-width-table">

                     <table class="table table-bordered ordinary-table cmn-table-style mb-1">
                     <tr>

                         <th class="border-top-0" width="3%">#
                         </th>
                         <th class="border-top-0" width="31%">{{'title' |
                             translate}}</th>
                         <th class="border-top-0" width="22%">{{'contact_person' |
                             translate}}
                         </th>
                         <th class="border-top-0" width="15%">{{'address' |
                             translate}}</th>
                         <!-- <th class="border-top-0" width="9%">{{'location' | translate}}
                         </th> -->

                     </tr>
                     <tr class="edit-and-delete-main"
                         *ngFor="let cust of IncidentStore.mappingItemList?.customers;; let list=index">
                         <td>{{list+1}}</td>
                         <td> {{cust?.title ? cust?.title :  AppStore.noContentText}}
                         </td>
                         <td>{{cust?.contact_person?cust?.contact_person:AppStore.noContentText}}
                         </td>
                         <td>
                            {{cust?.address?cust?.address:AppStore.noContentText}}
                            <div class="edit-option-show">
                                <a *ngIf="AuthStore.getActivityPermission(1900,'DELETE_CUSTOMER_INCIDENT_MAPPING')" (click)="deleteCustomerMapping(cust?.id)" [attr.title]="'delete' | translate"><i
                                    class="fas fa-trash pointer"></i></a>
                            </div>
                        </td>
                         

                     </tr>

                 </table>
               </div>
                      
                    </div>
                 </div>
              </div>
              <ng-container *mobxAutorun>
               <div *ngIf="!IncidentStore.mappingIssueItemsLoaded">
                   <app-incident-list-loader></app-incident-list-loader>
               </div>
               <app-no-data *ngIf="IncidentStore.mappingItemList?.customers == 0 && IncidentStore.mappingIssueItemsLoaded == true"></app-no-data>
           </ng-container>

            </div>

            <!--Controls start -->
            <div *ngIf="selectedSection=='control'" class="tab-pane fade active show" id="control" role="tabpanel">
               <!-- <div class="clearfix mb-2">
                   <button *ngIf="IncidentStore.mappingItemList?.controls !=0" type="button" class="btn btn-small float-right" (click)="selectControls()">{{'select' | translate}}</button>
               </div> -->
               <div class="cmn-bdr p-3 d-flex mb-3 align-items-center"
               *ngIf="IncidentStore.mappingItemList?.controls != 0">
                  <h6 class="mb-0 w-100">{{'controls' | translate}}</h6>
                  <div class="text-right ml-2" style="width: 100px;">
                     <button *ngIf="IncidentStore.mappingItemList?.controls != 0"
                     type="button" (click)="selectControls()" class="btn btn-small" data-toggle="modal"
                        data-target="#choose-process-popup" style="margin: 0 !important;">{{'select' | translate}}</button>
                  </div>
               </div>
               <div class="audit-page-table-main"
               *ngIf="IncidentStore.mappingIssueItemsLoaded && IncidentStore.mappingItemList?.controls !=0">
                  <div class="row">
                     <div class="col-sm-12">
                        <div class="full-width-table">
                   <table class="table table-bordered ordinary-table cmn-table-style mb-1">
                       <tr>
                           <th class="border-top-0" width="2%">#</th>
                           <th class="border-top-0" width="10%">{{'ref_id' | translate}}
                           </th>
                           <th class="border-top-0" width="88%">{{'title' | translate}}
                           </th>
                          
                       </tr>
                       <tr class="edit-and-delete-main"
                           *ngFor="let cntrl of IncidentStore.mappingItemList?.controls; let list=index">
                           <td>{{list+1}}</td>
                           <td>{{cntrl?.reference_code}}</td>
                           <td>
                               <div class="edit-option-show pointer" style="margin:6px 0 0 0">

                                   <a [attr.title]="'delete'|translate"
                                       (click)="deleteControlMapping(cntrl?.id)"><i class="fas fa-trash"></i></a>
                               </div>
                               {{cntrl?.issues_title?cntrl?.issues_title:cntrl?.title}}
                           </td>

                          
                       </tr>

                   </table>  
                  </div>                 
                   
                  </div>
               </div>
               </div>
               <ng-container *mobxAutorun>
                  <app-no-data *ngIf="IncidentStore.mappingIssueItemsLoaded && IncidentStore.mappingItemList?.controls == 0"></app-no-data>
              </ng-container>
           </div>
            <!--Control ends here-->

            <!--Product starts here-->
            <div *ngIf="selectedSection=='product'" class="tab-pane fade active show" id="product" role="tabpanel">
               <!-- <div class="clearfix mb-2">
                  <button type="button" class="btn btn-small float-right" (click)="selectProducts()" *ngIf="IncidentStore.mappingItemList?.products !=0">{{'select' | translate}}</button>
               </div> -->
               <div class="cmn-bdr p-3 d-flex mb-3 align-items-center"
               *ngIf="IncidentStore.mappingItemList?.products != 0">
                  <h6 class="mb-0 w-100">{{'products' | translate}}</h6>
                  <div class="text-right ml-2" style="width: 100px;">
                     <button *ngIf="IncidentStore.mappingItemList?.products != 0"
                     type="button" (click)="selectProducts()" class="btn btn-small" data-toggle="modal"
                        data-target="#choose-process-popup" style="margin: 0 !important;">{{'select' | translate}}</button>
                  </div>
               </div>
               <div class="audit-page-table-main"
               *ngIf="IncidentStore.mappingIssueItemsLoaded && IncidentStore.mappingItemList?.products?.length>0">
               <div class="row">
                  <div class="col-sm-12">
                     <div class="full-width-table">
                  <table class="table table-bordered ordinary-table cmn-table-style mb-1">
                     <tr>
                           <th class="border-top-0" width="3%">#</th>
                           <th class="border-top-0" width="22%">{{'title' | translate}}</th>
                           <th class="border-top-0" width="22%" >{{'product_category' | translate}}</th>
                           <th class="border-top-0" width="53%">{{'description' | translate}}</th>
                           <!-- <th class="border-top-0" width="9%">{{'member_count' |
                              translate}}</th>
                           <th class="border-top-0" width="9%">{{'location' | translate}}
                           </th> -->

                     </tr>
                     <tr class="edit-and-delete-main"
                           *ngFor="let prod of IncidentStore.mappingItemList?.products; let list=index">
                           <td>{{list+1}}</td>
                           <td> {{prod?.title}}</td>
                           <td>{{prod?.product_category?.title ? prod?.product_category?.title : AppStore.noContentText}}</td>
                           <td>
                              <div class="edit-option-show pointer" style="margin:6px 0 0 0">                                
                                 <a [attr.title]="'delete'|translate"
                                       (click)="deleteProductMapping(prod?.id)"><i class="fas fa-trash"></i></a>
                                      
                              </div>
                              <div class="elips-2" [title]="prod?.description">
                                 {{prod?.description?prod?.description:AppStore.noContentText}}
                               </div>
                              <!-- {{prod?.description?prod?.description:AppStore.noContentText}} -->
                           </td>
                           <!-- <td>{{prod?.member_count}}</td>
                           <td>{{prod?.location_title?prod?.location_title:AppStore.noContentText}}
                           </td> -->

                     </tr>

                  </table>
               </div>
                  
                  </div>
                  </div>
               </div>
               <ng-container *mobxAutorun>
                  <app-no-data *ngIf="IncidentStore.mappingIssueItemsLoaded && IncidentStore.mappingItemList?.products?.length == 0"
                        [border]=false></app-no-data>
               </ng-container>
            </div>
            <!--Produck ends here-->

            <!--strategic Objective starts here-->
            <div *ngIf="selectedSection=='objective'" class="tab-pane fade active show" id="tab-one" role="tabpanel">
               <!-- <div class="clearfix  mb-2">
                  <button type="button" class="btn btn-small float-right" (click)="selectObjectives()" *ngIf="IncidentStore.mappingItemList?.Strategic_objectives !=0 ">{{'select' | translate}}</button>
               </div> -->
               <div class="cmn-bdr p-3 d-flex mb-3 align-items-center"
               *ngIf="IncidentStore.mappingItemList?.Strategic_objectives != 0">
                  <h6 class="mb-0 w-100">{{'objectives' | translate}}</h6>
                  <div class="text-right ml-2" style="width: 100px;">
                     <button *ngIf="IncidentStore.mappingItemList?.Strategic_objectives != 0"
                     type="button" (click)="selectObjectives()" class="btn btn-small" data-toggle="modal"
                        data-target="#choose-process-popup" style="margin: 0 !important;">{{'select' | translate}}</button>
                  </div>
               </div>
               <div class="audit-page-table-main"
               *ngIf="IncidentStore.mappingIssueItemsLoaded && IncidentStore.mappingItemList?.Strategic_objectives?.length>0">
               <div class="row">
                  <div class="col-sm-12">
                     <div class="full-width-table">
                  <table class="table table-bordered ordinary-table cmn-table-style mb-1">
                     <tr>

                           <th class="border-top-0" width="10%">#
                           </th>
                           <th class="border-top-0" width="90%">{{'title' |
                              translate}}</th>
                        
                     </tr>
                     <tr class="edit-and-delete-main"
                           *ngFor="let obj of IncidentStore.mappingItemList?.Strategic_objectives; let list=index">
                           <td>{{list+1}}</td>
                           <td><div class="edit-option-show pointer" style="margin:6px 0 0 0">

                              <a [attr.title]="'delete'|translate"
                                 (click)="deleteObjectiveMapping(obj?.id)"><i class="fas fa-trash"></i></a>
                           </div> 
                              {{obj?.title}}
                           </td>
                        
                        

                     </tr>

                  </table>
               </div>
                  
                  </div>
                  </div>
               </div>
               <ng-container *mobxAutorun>
                  <app-no-data *ngIf="IncidentStore.mappingIssueItemsLoaded && IncidentStore.mappingItemList?.Strategic_objectives?.length == 0"
                        [border]=false></app-no-data>
               </ng-container>
            </div>
            <!--strategic Objective ends here-->

            <!--service-->
            <div *ngIf="selectedSection=='service'" class="tab-pane fade active show" id="tab-one" role="tabpanel">
               <!-- <div class="clearfix  mb-2">
                  <button type="button" class="btn btn-small float-right" (click)="selectServices()" *ngIf="IncidentStore.mappingItemList?.services !=0 ">{{'select' | translate}}</button>
               </div> -->
               <div class="cmn-bdr p-3 d-flex mb-3 align-items-center"
               *ngIf="IncidentStore.mappingItemList?.services != 0">
                  <h6 class="mb-0 w-100">{{'services' | translate}}</h6>
                  <div class="text-right ml-2" style="width: 100px;">
                     <button *ngIf="IncidentStore.mappingItemList?.services != 0"
                     type="button" (click)="selectServices()" class="btn btn-small" data-toggle="modal"
                        data-target="#choose-process-popup" style="margin: 0 !important;">{{'select' | translate}}</button>
                  </div>
               </div>
               <div class="audit-page-table-main"
               *ngIf="IncidentStore.mappingIssueItemsLoaded && IncidentStore.mappingItemList?.services?.length>0">
               <div class="row">
                  <div class="col-sm-12">
                     <div class="full-width-table">
                  <table class="table table-bordered ordinary-table cmn-table-style mb-1">
                     <tr>
                        <th class="border-top-0" width="2%">#</th>
                        <th class="border-top-0" width="32%">{{'title' | translate}}</th>
                        <th class="border-top-0" width="20%">{{'service_category' | translate}}</th> 
                        <th class="border-top-0" width="46%">{{'description' | translate}}</th>                                 
                    </tr>
                     <tr class="edit-and-delete-main"
                           *ngFor="let selected of IncidentStore.mappingItemList?.services; let list=index">
                           <td>{{list+1}}</td>
                                    <td>{{selected.title}}</td>
                                    <td>{{selected.service_category?.title}}</td>           
                                    <td>
                                        <div class="edit-option-show pointer" style="margin:6px 0 0 0">
                    
                                            <a [attr.title]="'delete'|translate" (click)="deleteServiceMapping(selected.id)"><i
                                                    class="fas fa-trash"></i></a>
                                        </div>
                                        {{selected?.description ? selected?.description : AppStore.noContentText}}
                    
                                    </td>
                        
                        

                     </tr>

                  </table>
               </div>
                  
                  </div>
                  </div>
               </div>
               <ng-container *mobxAutorun>
                  <app-no-data *ngIf="IncidentStore.mappingIssueItemsLoaded && IncidentStore.mappingItemList?.services?.length == 0"
                        [border]=false></app-no-data>
               </ng-container>
            </div>
            <!--service-->

             <!--asset-->
             <div *ngIf="selectedSection=='asset'" class="tab-pane fade active show" id="tab-one" role="tabpanel">
               <!-- <div class="clearfix  mb-2">
                  <button type="button" class="btn btn-small float-right" (click)="selectAssests()" *ngIf="IncidentStore.mappingItemList?.assets !=0 ">{{'select' | translate}}</button>
               </div> -->
               <div class="cmn-bdr p-3 d-flex mb-3 align-items-center"
               *ngIf="IncidentStore.mappingItemList?.assets != 0">
                  <h6 class="mb-0 w-100">{{'assets' | translate}}</h6>
                  <div class="text-right ml-2" style="width: 100px;">
                     <button *ngIf="IncidentStore.mappingItemList?.assets != 0"
                     type="button" (click)="selectAssests()" class="btn btn-small" data-toggle="modal"
                        data-target="#choose-process-popup" style="margin: 0 !important;">{{'select' | translate}}</button>
                  </div>
               </div>
               <div class="audit-page-table-main"
               *ngIf="IncidentStore.mappingIssueItemsLoaded && IncidentStore.mappingItemList?.assets?.length>0">
               <div class="row">
                  <div class="col-sm-12">
                     <div class="full-width-table">
                  <table class="table table-bordered ordinary-table cmn-table-style mb-1">
                     <tr>

                           <th class="border-top-0" width="10%">#
                           </th>
                           <th class="border-top-0" width="90%">{{'title' |
                              translate}}</th>
                        
                     </tr>
                     <tr class="edit-and-delete-main"
                           *ngFor="let obj of IncidentStore.mappingItemList?.assets; let list=index">
                           <td>{{list+1}}</td>
                           <td><div class="edit-option-show pointer" style="margin:6px 0 0 0">

                              <a [attr.title]="'delete'|translate"
                                 (click)="deleteAssetMapping(obj?.id)"><i class="fas fa-trash"></i></a>
                           </div> 
                              {{obj?.title}}
                           </td>
                        
                        

                     </tr>

                  </table>
               </div>
                  
                  </div>
                  </div>
               </div>
               <ng-container *mobxAutorun>
                  <app-no-data *ngIf="IncidentStore.mappingIssueItemsLoaded && IncidentStore.mappingItemList?.assets?.length == 0"
                        [border]=false></app-no-data>
               </ng-container>
            </div>
            <!--asset end-->

            <!---risk start--->
            <div *ngIf="selectedSection=='risk'" class="tab-pane fade active show" id="tab-three" role="tabpanel">
               <div class="no-fixed-table mb-4">
                   <div class="cmn-bdr p-3 d-flex mb-3 align-items-center" *ngIf="IncidentStore.mappingIssueItemsLoaded && IncidentStore.mappingItemList?.risks?.length > 0">
                       <h6 class="mb-0 w-100">{{'risks' | translate}}</h6>
                       <div class="text-right ml-2" style="width: 100px;">
                           <button *ngIf=" AuthStore.getActivityPermission(1600,'RISK_MEETING_PLAN_MAPPING_CREATE')&& 
                           IncidentStore.mappingIssueItemsLoaded && IncidentStore.mappingItemList?.risks?.length > 0
                           " type="button" (click)="selectRisk()"
                               class="btn btn-small" data-toggle="modal" data-target="#choose-process-popup"
                               style="margin: 0 !important;">{{'select' | translate}}</button>
                       </div>
                   </div>
   
                   <table class="table table-bordered ordinary-table cmn-table-style mb-1 word-break"
                       *ngIf="IncidentStore.mappingIssueItemsLoaded && IncidentStore.mappingItemList?.risks?.length > 0">
                       <tr>
                           <th class="border-top-0" width="4%">#</th>
                           <th class="border-top-0" width="9%">{{'ref_id' | translate}}</th>
                           <th class="border-top-0" width="25%">{{'risk' | translate}}</th>
                           <th class="border-top-0" width="25%">{{'department' | translate}}</th>
                           <th class="border-top-0" width="23%">{{'risk_category' | translate}}</th>
                           <th class="border-top-0" width="25%">{{'risk_type' | translate}}</th>
                       </tr>
                       <tr class="pointer edit-and-delete-main" *ngFor="let selected of risk; let list=index">
                           <td class="text-center">{{list+1}}</td>
                           <td>{{selected.reference_code}}</td>
                           <td>{{selected.title}}</td>
                           <td> {{checkDepartment(selected.departments)}}
                           </td>
                           <td>{{ checkRiskCategory(selected.risk_category?.title
                               ?selected.risk_category?.title:selected.risk_category_title)}}</td>
                           <td>{{checkRiskType(selected.risk_types)}}
                               <div  class="edit-option-show">
                                   <a *ngIf="AuthStore.getActivityPermission(1600,'DELETE_RISK_MEETING_PLAN_MAPPING')"
                                       (click)="deleteRiskMapping(selected.id)"
                                       [attr.title]="'delete' | translate"><i class="fas fa-trash pointer"></i></a>
                               </div>
                           </td>
                       </tr>
                   </table>

                   <ng-container *mobxAutorun>
                       <app-no-data
                           *ngIf="IncidentStore.mappingIssueItemsLoaded && IncidentStore.mappingItemList?.risks?.length == 0"
                           [border]='false'></app-no-data>
                   </ng-container>

               </div>
           </div>
            <!---risk end-->
          </div>
       </div>
          
    </div>


    <div class="modal modal-style-1 popup-full-width fade" id="process-popup" data-keyboard="false" data-backdrop="static"
    #processFormModal *mobxAutorun>
    <app-addprocess *ngIf="IssueListStore.processes_form_modal" [processModalTitle]="modalObject"></app-addprocess>
</div>

<div class="modal modal-style-1 popup-full-width fade" id="issue-popup" data-keyboard="false" data-backdrop="static"
    #issueFormModal *mobxAutorun>
    <app-issues-modal *ngIf="IssueListStore.issue_select_form_modal" [issuesModalTitle] = "modalObject"></app-issues-modal>
</div>

<div class="modal modal-style-1 popup-full-width fade" id="project-popup" data-keyboard="false" data-backdrop="static"
    #projectFormModal *mobxAutorun>
    <app-projects-modal *ngIf="BusinessProjectsStore.project_select_form_modal" [projectsModalTitle] = "modalObject"></app-projects-modal>
</div>
<div class="modal modal-style-1 popup-full-width fade" id="project-popup" data-keyboard="false" data-backdrop="static"
    #customerFormModal *mobxAutorun>
    <app-customer-modal *ngIf="BusinessCustomersStore.customer_select_form_modal" [customerModalTitle] = "modalObject"></app-customer-modal>
</div>

<!------------------- Delete Confirmation Modal Start --------------------------->

<div class="modal modal-style-1 fade" id="delete-popup" #confirmationPopUp data-backdrop="static" data-keyboard="false">
   <app-delete-popup [source]="deleteObject"></app-delete-popup>
</div>

<!-- -------Control Choose Popup -->
<div class="modal modal-style-1 popup-full-width fade" id="process-popup" data-keyboard="false" data-backdrop="static"
#controlFormModal *mobxAutorun>
<app-control-popup *ngIf=" ControlStore.control_select_form_modal" [controlsModalTitle] = "modalObject"></app-control-popup>
</div>
<!-- -------Control Choose Popup -->

<!-- -------Objective Choose Popup -->
<div class="modal modal-style-1 popup-full-width fade" id="project-popup" data-keyboard="false" data-backdrop="static"
        #objectiveFormModal *mobxAutorun>
        <app-strategic-objective-mapping *ngIf="StrategicObjectiveMasterStore?.objective_select_form_modal" [strategicModalTitle] = "modalObject"></app-strategic-objective-mapping>
</div>
<!-- -------Objective Choose Popup -->

<!-- -------Product Choose Popup -->
<div class="modal modal-style-1 popup-full-width fade" id="project-popup" data-keyboard="false" data-backdrop="static"
        #productFormModal *mobxAutorun>
        <app-product-modal *ngIf="BusinessProductsStore.product_select_form_modal" [productModalTitle] = "modalObject"></app-product-modal>
</div>
<!-- -------Product Choose Popup -->

<!-- service  -->
<div class="modal modal-style-1 popup-full-width fade" id="issue-popup" data-keyboard="false" data-backdrop="static"
    #serviceFormModal *mobxAutorun>
    <app-service-modal *ngIf="BusinessServiceStore.service_select_form_modal" [serviceModalTitle]="modalObject">
    </app-service-modal>
</div>

<div class="modal modal-style-1 popup-full-width fade" id="issue-popup" data-keyboard="false" data-backdrop="static"
    #asssetFormModal *mobxAutorun>
      <app-asset-mapping *ngIf="AssetRegisterStore?.assets_select_form_modal" [assetModalTitle] = "modalObject"></app-asset-mapping>
</div>
    
<div class="modal modal-style-1 popup-full-width fade" id="risk-popup" data-keyboard="false" data-backdrop="static"
    #riskFormModal *mobxAutorun>
    <app-add-risk-mapping *ngIf="MappingStore.risk_select_form_modal" [riskModalTitle]="modalObject">
    </app-add-risk-mapping>
</div>


