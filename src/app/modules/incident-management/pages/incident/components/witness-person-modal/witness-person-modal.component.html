  <!-- witness-employee-pop Start -->
  <div class="modal modal-style-1 popup-full-width fade" id="witness-employee-pop" data-keyboard="false" style="z-index: 999999 !important;" data-backdrop="static">
    <button type="button" class="close" data-dismiss = "modal" (click)="cancel()"><i class="lni-close"></i><span>{{'esc' | translate}}</span></button>
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">{{'witness' | translate}}</h4>
          <!-- <button type="button" class="close" data-dismiss="modal">&times;</button>-->
        </div>
        <!-- Modal body -->
        <form id="regForm" [formGroup]="form" >
        <div class="modal-body form-body">
          <div class="row">
             <div class="col-sm-12">
                <div class="form-group">
                      <label>{{'employee' | translate}}</label>
                      <div class="clearfix">
                        <div class="multiple-plain-ngselect ">
                            <div class="multiple-plain-ngselect">
                              <ng-select [items]="UsersStore.usersList" bindLabel="email"
                              [placeholder]="'witness' | translate" [multiple]="true"
                                  formControlName="investigation_witness_user_ids" (search)="searchPersonInvolved($event)"
                                  (open)="getPersonInvolved()" [searchFn]="customSearchFn">
                                  <ng-template ng-label-tmp let-item="item" let-clear="clear">
                                      <img *ngIf="item.image_token" height="15" width="15"
                                          [attr.src]="createImagePreview('user-profile-picture',item.image_token)" onerror = "this.src='/assets/images/user-demo2.png'"/>
                                      <img *ngIf="!item.image_token" height="15" width="15"
                                          [attr.src]="getDefaultImage('user-logo')" />
                                      <b style="padding-left: 3px;">{{getStringsFormatted([item.first_name,item.last_name],50,' ') | titlecase}}</b><span aria-hidden="true"
                                          (click)="clear(item)" style="border:none;"
                                          class="ng-value-icon left">Ã—</span>
                                  </ng-template>
                                  <ng-template ng-option-tmp let-item="item" let-index="index">
                                      <div class="user-post-department-pic">
                                          <img *ngIf="item.image_token" height="25" width="25"
                                              [attr.src]="createImagePreview('user-profile-picture',item.image_token)" onerror = "this.src='/assets/images/user-demo2.png'" />
                                          <img *ngIf="!item.image_token" height="25" width="25"
                                              [attr.src]="getDefaultImage('user-logo')"  />
                                      </div>
                                      <div class="user-post-department-div">
                                          <b>{{getStringsFormatted([item.first_name,item.last_name],50,' ') | titlecase}}</b>
                                          <p class="user-post-department-multiple">
                                            {{getStringsFormatted([item?.designation_title,' '+item?.department],50,',')}}</p>
                                      </div>
                                  </ng-template>
                              </ng-select>
                              <!-- <p class="pt-1" style="color: red;"
                                  *ngIf="formErrors && formErrors.incident_involved_user_ids">
                                  {{formErrors.incident_involved_user_ids}}</p> -->
                          </div>
                           </div>
                      </div>
                   </div>
             </div>
            <!-- <div class="col-sm-12">
              <div class="form-group">
                <label>Remarks</label>
                <textarea class="form-control" rows="3" id="comment9" placeholder="Enter Field Name"></textarea>
             </div>
            </div> -->
            
            
            
            
            <div class="col-sm-12">
              <div class="d-block justify-content-left border-0 mt-3">
                <button type="button" data-toggle="modal" data-target="#signal-lost" class="btn btn-primary mr-3 btn-active" (click)="saveWitnessUserDetails()">{{'save' | translate}}</button>
                <!-- <button type="button" data-toggle="modal" data-target="#signal-lost" class="btn btn-primary mr-3"(click)="saveWitnessUserDetails();cancel()">Save &amp; Close</button> -->
                <button type="button" data-toggle="modal" data-target="#error-message" class="btn btn-primary mr-2" (click)="cancel()" data-dismiss="modal">{{'cancel' | translate}}</button>
              </div>
            </div>
          </div>
        </div>
    </form>
        <!-- Modal footer --> 
      </div>
    </div>
  </div>
  <!-- witness-employee-pop End -->