<button type="button" class="close"  (click)="closePreviewModal()"><i class="lni-close"></i><span>{{'esc' | translate}}</span></button>
<div class="modal-dialog modal-lg modal-dialog-centered size-adjust-popup">
    <div class="modal-content bg-main">
      <!-- Modal Header -->
      <div class="modal-header">
        <div class="header-new-popup clearfix">
          <div class="d-flex flex-row user-list-sm user-list-no-hov user-box-smol-round p-0">
            <img *ngIf = "checkExtension(iFrameSource.file_details?.ext,'excel') != -1" src="/assets/images/md-xl.png" width="30px" height="30px">
            <img *ngIf = "checkExtension(iFrameSource.file_details?.ext,'image') != -1" src="/assets/images/md-jpg.png" width="30px" height="30px">
            <img *ngIf = "checkExtension(iFrameSource.file_details?.ext,'doc') != -1" src="/assets/images/md-doc.png" width="30px" height="30px">
            <img *ngIf = "checkExtension(iFrameSource.file_details?.ext,'pdf') != -1" src="/assets/images/md-pdf.png" width="30px" height="30px">
            <img *ngIf = "checkExtension(iFrameSource.file_details?.ext,'audio') != -1" src="/assets/images/md-audio.png" width="30px" height="30px">
            <img *ngIf = "checkExtension(iFrameSource.file_details?.ext,'video') != -1" src="/assets/images/md-video.png" width="30px" height="30px">
            <img *ngIf = "checkExtension(iFrameSource.file_details?.ext,'ppt') != -1" src="/assets/images/md-ppt.png" width="30px" height="30px">
            <div class="pointer new-size-text">
                <h6 class="big-name">{{iFrameSource.file_details?.title}}</h6>
                <span>{{iFrameSource.file_details?.size/1048576 | number:'0.2-2'}}MB</span>
            </div>
          </div>
          <div class="popup-link-icon">
            <!-- <a><i class="fas fa-share-alt pointer"></i></a> -->
            <a><i class="fas fa-download pointer" (click) = "downloadFile()"></i></a>
          </div>
        </div>
      </div>
      <!-- Modal body -->
      <div class="modal-body form-body" *ngIf = "checkExtension(iFrameSource.file_details?.ext,'audio') != -1">
        <div class="bg-white height-popup-new d-flex align-items-center">
          <div class="preview-audio-sec">
            <audio controls>
              <!-- <source src="video/samble-audio.ogg" type="audio/ogg"> -->
              <source [attr.src]="iFrameSource.preview_url" type="audio/mpeg">
            Your browser does not support the audio element.
            </audio>
          </div>
          <!-- <div class="cantroller-preview">
            <a class="screen-adjust-popup-btn"><i class="fas fa-compress"></i></a>
            <a ><i class="fas fa-minus"></i></a>
            <a ><i class="fas fa-plus"></i></a>
          </div> -->

        </div> 
      </div>
      <div class="modal-body form-body" *ngIf = "checkExtension(iFrameSource.file_details?.ext,'video') != -1">
        <div class="bg-white height-popup-new d-flex align-items-center">
          <iframe width="100%" height="415" [attr.src]="iFrameSource.preview_url"></iframe>
        </div> 
      </div>

        <div class="modal-body form-body" *ngIf = "checkExtension(iFrameSource.file_details?.ext,'pdf') != -1">
            <div class="bg-white height-popup-new d-flex align-items-center">
            
            <iframe [attr.src] = "iFrameSource.preview_url" frameborder="0" height="530px" width="100%"></iframe>

            <!-- <div class="cantroller-preview">
                <a class="screen-adjust-popup-btn"><i class="fas fa-compress"></i></a>
                <a ><i class="fas fa-minus"></i></a>
                <a ><i class="fas fa-plus"></i></a>
            </div> -->

            </div> 
        </div>

        <div class="modal-body form-body" *ngIf = "checkExtension(iFrameSource.file_details?.ext,'ppt') != -1">
          <div class="bg-white height-popup-new d-flex align-items-center">
          
          <iframe [attr.src] = "iFrameSource.preview_url" frameborder="0" height="530px" width="100%"></iframe>

          <!-- <div class="cantroller-preview">
              <a class="screen-adjust-popup-btn"><i class="fas fa-compress"></i></a>
              <a ><i class="fas fa-minus"></i></a>
              <a ><i class="fas fa-plus"></i></a>
          </div> -->

          </div> 
      </div>

        <div class="modal-body form-body" *ngIf = "checkExtension(iFrameSource.file_details?.ext,'doc') != -1">
            <div class="bg-white height-popup-new d-flex align-items-center">
            
            <iframe [attr.src] = "iFrameSource.preview_url" frameborder="0" height="530px" width="100%"></iframe>

            <!-- <div class="cantroller-preview">
                <a  class="screen-adjust-popup-btn"><i class="fas fa-compress"></i></a>
                <a ><i class="fas fa-minus"></i></a>
                <a ><i class="fas fa-plus"></i></a>
            </div> -->

            </div> 
        </div>
        <div class="modal-body form-body" *ngIf = "checkExtension(iFrameSource.file_details?.ext,'excel') != -1">
            <div class="bg-white height-popup-new d-flex align-items-center">
            
            <iframe [attr.src] = "iFrameSource.preview_url" frameborder="0" height="530px" width="100%"></iframe>

            <!-- <div class="cantroller-preview">
                <a  class="screen-adjust-popup-btn"><i class="fas fa-compress"></i></a>
                <a ><i class="fas fa-minus"></i></a>
                <a ><i class="fas fa-plus"></i></a>
            </div> -->

            </div> 
        </div>
        <div class="modal-body form-body" *ngIf = "checkExtension(iFrameSource.file_details?.ext,'image') != -1">
            <div class="bg-white height-popup-new d-flex align-items-center">
            
                <img [attr.src]="iFrameSource.preview_url" height="530px" width="100%"/>

            <!-- <div class="cantroller-preview">
                <a  class="screen-adjust-popup-btn"><i class="fas fa-compress"></i></a>
                <a ><i class="fas fa-minus"></i></a>
                <a ><i class="fas fa-plus"></i></a>
            </div> -->

            </div> 
        </div>
      <div class="modal-body form-body" *ngIf = "!iFrameSource.preview_url || checkExtension(iFrameSource.file_details?.ext,'all') == -1">
        <div class="bg-white height-popup-new d-flex align-items-center">

          <div class="no-preview-msg">
            <div class="no-preview-pic">
              <img src="/assets/images/no-preview.png">
            </div>
            <h6 class="bold mb-0">No Preview Available</h6>
            <p class="mb-0">Sorry, we can't preview this file right now.</p>
          </div>

          <!-- <div class="cantroller-preview">
            <a  class="screen-adjust-popup-btn"><i class="fas fa-compress"></i></a>
            <a ><i class="fas fa-minus"></i></a>
            <a ><i class="fas fa-plus"></i></a>
          </div> -->

        </div> 
      </div>
      <div class="row">
         <div class="col-xl-12">
            <div class="d-flex flex-row user-list-sm bg-white pt-2">
              <img *ngIf = "iFrameSource.uploaded_user?.image_token" [attr.src] = "createImagePreview('user-profile-picture',iFrameSource.uploaded_user?.image_token)" width="30px" height="30px" class="rounded-circle">
              <img *ngIf = "!iFrameSource.uploaded_user?.image_token" [attr.src] = "getDefaultImage('user-logo')" width="30px" height="30px" class="rounded-circle">
              <div>
                <h6>{{iFrameSource.uploaded_user?.first_name}} {{iFrameSource.uploaded_user?.last_name}}</h6>
                 <span>{{iFrameSource.uploaded_user?.designation}} | Created on {{iFrameSource.created_at|date: OrganizationGeneralSettingsStore?.organizationSettings?.date_format}}</span> 
              </div>
            </div>
          </div>
       </div>
      <!-- Modal footer -->
    </div>
  </div>
