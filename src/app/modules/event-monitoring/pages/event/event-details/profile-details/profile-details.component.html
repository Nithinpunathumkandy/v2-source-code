<div class="col-sm-12">
    <div class="tab-content" *mobxAutorun>
        <div class="tab-pane  smoal-left-tab-page active" *ngIf="EventsStore.individualLoaded" id="project-tab-one">                          
            <div class="row">
                <div class="col-lg-8 col-sm-12 padding-right-0">
                    <div class="bg-white widg-padding-cmn">
                        <div class="min-height-64">
                            <div class="issue-top-sec">
                                <div class="clearfix">
                                    <h5 class="d-inline-block cmn-head-style label-tag-style mr-2"><span
                                            class="issue-smoal-head-text">#{{EventsStore.eventDetails?.reference_code}}</span>
                                        <!-- {{EventsStore.eventDetails?.title}} -->
                                        <span [ngClass]="'dot-div '+EventsStore.eventDetails?.event_status?.label"
                                            style="line-height: 16px; vertical-align: middle; margin-top: -4px; display: inline-block;">
                                            {{EventsStore.eventDetails?.event_status?.language[0]?.pivot?.title}}</span>
                    
                                    </h5>
                    
                    
                                </div>
                                <div class="clearfix">
                                    <p class="label-tag-style mb-2"><i
                                            class="fas fa-calendar-alt date-pics-two"></i>{{EventsStore.eventDetails?.start_date | date :
                                        OrganizationGeneralSettingsStore.organizationSettings?.date_time_format}} To
                                        {{EventsStore.eventDetails?.end_date | date :
                                        OrganizationGeneralSettingsStore.organizationSettings?.date_time_format}}
                                        <span class="ml-3"><i class="fas fa-map-marker-alt mr-2"></i>
                                            {{EventsStore.eventDetails?.event_location?.title ?
                                            EventsStore.eventDetails?.event_location?.title : AppStore.noContentText}}
                                        </span>
                                    </p>
                                </div>
                                <p style="white-space: pre-wrap;">{{EventsStore.eventDetails?.description ?
                                    EventsStore.eventDetails?.description : AppStore.noContentText}}</p>
                            </div>
                    
                            <div class="row">
                                <div class="col-xl-3 col-lg-4 col-sm-6">
                                    <h6>{{'department' | translate}}</h6>
                                    <p>{{EventsStore.eventDetails?.departments? EventsStore.eventDetails?.departments.title :
                                        AppStore.noContentText}}</p>
                                </div>
                                <div class="col-xl-3 col-lg-4 col-sm-6">
                                    <h6>{{'event_budgeted' | translate}}</h6>
                                    <p *ngIf="EventsStore.eventDetails?.is_budgeted">{{'yes' | translate}}</p>
                                    <p *ngIf="!EventsStore.eventDetails?.is_budgeted">{{'no' | translate}}</p>
                                </div>
                                <div class="col-xl-3 col-lg-4 col-sm-6">
                                    <h6>{{'event_type' | translate}}</h6>
                                    <p>{{EventsStore.eventDetails?.event_type?.language[0]?.pivot?.title ?
                                        EventsStore.eventDetails?.event_type?.language[0].pivot.title : AppStore.noContentText}}</p>
                                </div>
                                <div class="col-xl-3 col-lg-4 col-sm-6">
                                    <h6>{{'event_priority' | translate}}</h6>
                                    <p>{{EventsStore.eventDetails?.event_priority?.language[0]?.pivot?.title ?
                                        EventsStore.eventDetails?.event_priority?.language[0].pivot.title :
                                        AppStore.noContentText}}-({{EventsStore.eventDetails?.event_priority?.score ?
                                        EventsStore.eventDetails?.event_priority?.score : AppStore.noContentText}})</p>
                                </div>
                                <div class="col-xl-3 col-lg-4 col-sm-6">
                                    <h6>{{'event_periodicity' | translate}} </h6>
                                    <p>{{EventsStore.eventDetails?.event_periodicity?.language[0]?.pivot?.title ?
                                        EventsStore.eventDetails?.event_periodicity?.language[0].pivot.title : AppStore.noContentText}}</p>
                                </div>
                                <div class="col-xl-3 col-lg-4 col-sm-6">
                                    <h6>{{'event_target_audience' | translate}}</h6>
                                    <p>{{EventsStore.eventDetails?.event_target_audience?.language[0]?.pivot?.title ?
                                        EventsStore.eventDetails?.event_target_audience?.language[0].pivot.title : AppStore.noContentText}}
                                    </p>
                                </div>
                                <div class="col-xl-3 col-lg-4 col-sm-6">
                                    <h6>{{'event_range' | translate}}</h6>
                                    <p>{{EventsStore.eventDetails?.event_range?.language[0]?.pivot?.title ?
                                        EventsStore.eventDetails?.event_range?.language[0].pivot.title : AppStore.noContentText}}</p>
                                </div>
                                <div class="col-xl-3 col-lg-4 col-sm-6">
                                    <h6>{{'event_dimension' | translate}}</h6>
                                    <p>{{EventsStore.eventDetails?.event_dimension?.language[0]?.pivot?.title ?
                                        EventsStore.eventDetails?.event_dimension?.language[0].pivot.title : AppStore.noContentText}}</p>
                                </div>
                                <div class="col-xl-3 col-lg-4 col-sm-6">
                                    <h6>{{'event_entrance' | translate}} </h6>
                                    <p>{{EventsStore.eventDetails?.event_entrance?.language[0]?.pivot?.title ?
                                        EventsStore.eventDetails?.event_entrance?.language[0].pivot.title : AppStore.noContentText}}</p>
                                </div>
                                <div class="col-xl-3 col-lg-4 col-sm-6">
                                    <h6>{{'event_type_of_space' | translate}}</h6>
                                    <p>{{EventsStore.eventDetails?.event_space_type?.language[0]?.pivot?.title ?
                                        EventsStore.eventDetails?.event_space_type?.language[0].pivot.title : AppStore.noContentText}}</p>
                                </div>
                                <div class="col-sm-12 edit-and-delete-main">
                                    <div class="header-back-line mb-2 mt-2">
                                        <h6>{{'pm_expected_outcomes'|translate}}</h6>
                                        <button
                                            *ngIf="EventsStore?.eventDetails?.event_status?.type=='draft' || EventsStore?.eventDetails?.event_status?.type=='send-back'"
                                            class="btn-plus" data-toggle="modal" (click)="openExpectedOutcomeModel()" title="Add"><i
                                                class="fas fa-plus"></i></button>
                                    </div>
                                    <ul class="arrowlist mt-0 p-0">
                                        <li style="white-space: pre-line;" *ngFor="let outcomes of EventsStore.eventOutcome"><span
                                                class="bold text-black d-block">{{outcomes.title}}</span>
                                            <div *ngIf="EventsStore?.eventDetails?.event_status?.type=='draft' || EventsStore?.eventDetails?.event_status?.type=='send-back'"
                                                class="edit-and-delete-small">
                                                <button
                                                    *ngIf="EventsStore?.eventDetails?.event_status?.type=='draft' || EventsStore?.eventDetails?.event_status?.type=='send-back'"
                                                    type="button" (click)="editOutcomes(outcomes)" class="btn-small-icon"
                                                    style="border: none;"><i class="fas fa-pen"></i></button>
                                                <button
                                                    *ngIf="EventsStore?.eventDetails?.event_status?.type=='draft' || EventsStore?.eventDetails?.event_status?.type=='send-back'"
                                                    type="button" (click)="deleteOutcomes(outcomes.id)" class="btn-small-icon"
                                                    style="border: none;"><i class="fas fa-trash"></i></button>
                                            </div>
                                        </li>
                                    </ul>
                                    <div class="col-sm-12"
                                        *ngIf="EventsStore.loadOutcomes && EventsStore?.totalOutcomes > EventsStore.outcomesPerPage">
                                        <ul class="pagination justify-content-center mt-3">
                                            <div class="list">
                                                <pagination-controls [previousLabel]="'previous' | translate"
                                                    [nextLabel]="'next' | translate" (pageChange)="getOutcomes($event)"
                                                    class="my-pagination"></pagination-controls>
                                            </div>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-md-6 text-left">
                                    <ng-container *mobxAutorun>
                                        <app-context-no-data *ngIf="EventsStore.eventOutcome.length == 0"
                                            [sourceData]="noDataSourceOutcome"></app-context-no-data>
                                    </ng-container>
                                </div>
                    
                            </div>
                    
                            <div class="row">
                                <div class="col-sm-12 edit-and-delete-main">
                                    <div class="header-back-line mb-2 mt-2">
                                        <h6>{{'event_deliverables'|translate}}</h6>
                                        <button class="btn-plus"
                                            *ngIf="EventsStore?.eventDetails?.event_status?.type=='draft' || EventsStore?.eventDetails?.event_status?.type=='send-back'"
                                            data-toggle="modal" (click)="openNewDeliverableModal()" title="Add"><i
                                                class="fas fa-plus"></i></button>
                    
                                    </div>
                                    <ul class="arrowlist mt-0 p-0">
                                        <li style="white-space: pre-line;" *ngFor="let row of DeliverableMasterStore.allItems">
                                            <span class="bold text-black d-block">{{row.title}}</span> {{row.description}}
                                            <div *ngIf="EventsStore?.eventDetails?.event_status?.type=='draft' || EventsStore?.eventDetails?.event_status?.type=='send-back'"
                                                class="edit-and-delete-small">
                                                <button
                                                    *ngIf="EventsStore?.eventDetails?.event_status?.type=='draft' || EventsStore?.eventDetails?.event_status?.type=='send-back'"
                                                    type="button" (click)="edit(row)" class="btn-small-icon" style="border: none;"><i
                                                        class="fas fa-pen"></i></button>
                                                <button
                                                    *ngIf="EventsStore?.eventDetails?.event_status?.type=='draft' || EventsStore?.eventDetails?.event_status?.type=='send-back'"
                                                    type="button" (click)="delete(row.id)" class="btn-small-icon" style="border: none;"><i
                                                        class="fas fa-trash"></i></button>
                                            </div>
                                        </li>
                                    </ul>
                    
                                </div>
                    
                            </div>
                    
                            <div class="col-md-6 text-left">
                                <ng-container *mobxAutorun>
                                    <app-context-no-data
                                        *ngIf="DeliverableMasterStore.allItems.length == 0 && DeliverableMasterStore.loaded == true"
                                        [sourceData]="noDeliverables"></app-context-no-data>
                                </ng-container>
                            </div>
                    
                    
                    
                        </div>
                    
                        <div class="row">
                            <div class="col-xl-12">
                                <hr class="mb-2">
                                <app-user-popup-box
                                    [source]=" getCreatedByPopupDetails(EventsStore.eventDetails?.created_by,EventsStore.eventDetails?.created_at)">
                                </app-user-popup-box>
                            </div>
                        </div>
                    </div>
                    </div>
                <div class="col-lg-4 col-sm-12">
                    <div class="bg-white mb-3 widg-padding-cmn-small">
                        <h6 class="text-left">Attachment</h6>
                        <hr class="mt-0 mb-3">
                      
                        <app-context-no-data *ngIf="EventsStore?.eventDetails?.documents.length == 0" [sourceData] = "getNoDataSource('center')"></app-context-no-data>
                      
                            <div class="thumb-pics-bg thumb-pics-col-2 accordion-inner-thump clearfix thumb-pics-fix-text"
							*ngIf="EventsStore.eventDetails?.documents.length > 0">
							<div class="thumb-pics"
								*ngFor="let docs of EventsStore.eventDetails?.documents;let i = index">

								<div style="margin: 0 -25px 0 0;" *ngIf="!docs.document_id"
									[ngClass]="AuthStore.getActivityPermission(100,'PREVIEW_INCIDENT_DOCUMENT_FILE') ? 'upload-pics upload-pics-small edit-option pointer' : 'upload-pics upload-pics-small edit-option'"
									(click)="AuthStore.getActivityPermission(100,'PREVIEW_INCIDENT_DOCUMENT_FILE') ? viewBrochureItem('event-file',docs,docs.id) : ''">
									<div class="browse-form-pic"
										[ngStyle]="{'background': 'url('+createImageUrl('event-file',docs?.token)+') no-repeat'}">
									</div>
									<div class="browse-form-name clearfix">
										<div class="float-left">
											<h6>
												{{docs.title?docs.title:docs.name?docs.name:docs.version_title?docs.version_title:"NA"}}
											</h6>
											<span class="mr-2 cmn-clr"><i class="fas fa-laptop"></i></span>
											<span>{{docs.size/1048576 | number:'0.2-2'}}MB</span>
										</div>
										<div class="browse-logo">
											<img *ngIf="checkExtension(docs.ext,'image') != -1" class="folder-picher"
												src="/assets/images/jpg-icone.png">
											<img *ngIf="checkExtension(docs.ext,'doc') != -1" class="folder-picher"
												src="/assets/images/word-icone.png">
											<img *ngIf="checkExtension(docs.ext,'pdf') != -1" class="folder-picher"
												src="/assets/images/pdf-icone.png">
											<img *ngIf="checkExtension(docs.ext,'excel') != -1" class="folder-picher"
												src="/assets/images/excel-icone.png">
											<img *ngIf="checkExtension(docs.ext,'video') != -1" class="folder-picher"
												src="/assets/images/md-video.png">
											<img *ngIf="checkExtension(docs.ext,'audio') != -1" class="folder-picher"
												src="/assets/images/md-audio.png">
											<img *ngIf="checkExtension(docs.ext,'ppt') != -1" class="folder-picher"
												src="/assets/images/md-ppt.png">
										</div>
									</div>
									<div class="edit-option-show-inner" style="margin: -2px -8px 0 0;">
										<a
											*ngIf="AuthStore.getActivityPermission(100,'DOWNLOAD_INCIDENT_DOCUMENT_FILE')"><i
												class="fas fa-download"
												(click)="downloadDocumentFile('event-file',docs)"></i></a>
									</div>
								</div>


								<div class="upload-pics edit-option" style="margin: 0 -25px 0 0;"
									*ngIf="docs.document_id">

									<div *ngFor="let mainDoc of docs?.kh_document?.versions">
										<div *ngIf="mainDoc.is_latest"
											[ngClass]="AuthStore.getActivityPermission(100,'PREVIEW_INCIDENT_DOCUMENT_FILE') ? 'upload-pics-small pointer' : 'upload-pics-small'"
											(click)="AuthStore.getActivityPermission(100,'PREVIEW_INCIDENT_DOCUMENT_FILE') ? viewBrochureItem('document-version',docs,mainDoc) : ''">
											<div class="browse-form-pic"
												[ngStyle]="{'background': 'url('+createImageUrl('document-version',mainDoc?.token)+') no-repeat'}">
											</div>
											<div class="browse-form-name clearfix">
												<div class="float-left">
													<h6>{{mainDoc.title}}.{{mainDoc.ext}}
													</h6>
													<span class="mr-2 cmn-clr"><i class="fas fa-book"></i></span>
													<span>{{mainDoc.size/1048576 | number:'0.2-2'}}MB</span>
												</div>
												<div class="browse-logo">
													<img *ngIf="checkExtension(mainDoc.ext,'image') != -1"
														class="folder-picher" src="/assets/images/jpg-icone.png">
													<img *ngIf="checkExtension(mainDoc.ext,'doc') != -1"
														class="folder-picher" src="/assets/images/word-icone.png">
													<img *ngIf="checkExtension(mainDoc.ext,'pdf') != -1"
														class="folder-picher" src="/assets/images/pdf-icone.png">
													<img *ngIf="checkExtension(mainDoc.ext,'excel') != -1"
														class="folder-picher" src="/assets/images/excel-icone.png">
													<img *ngIf="checkExtension(mainDoc.ext,'video') != -1"
														class="folder-picher" src="/assets/images/md-video.png">
													<img *ngIf="checkExtension(mainDoc.ext,'audio') != -1"
														class="folder-picher" src="/assets/images/md-audio.png">
													<img *ngIf="checkExtension(mainDoc.ext,'ppt') != -1"
														class="folder-picher" src="/assets/images/md-ppt.png">
												</div>
											</div>
											<div class="edit-option-show-inner" style="margin: -2px -8px 0 0;">
												<a
													*ngIf="AuthStore.getActivityPermission(100,'DOWNLOAD_INCIDENT_DOCUMENT_FILE')"><i
														class="fas fa-download"
														(click)="downloadDocumentFile('document-version',docs,mainDoc)"></i></a>
											</div>
										</div>
									</div>
								</div>

							</div>
						</div>
                    </div>
                </div>
            </div>
        </div>
        <app-event-profile-details-loader *ngIf="!EventsStore.individualLoaded"></app-event-profile-details-loader>
    </div>
</div>

<div class="modal modal-style-1 popup-full-width fade" *ngIf="outcomeObject.type" data-keyboard="false"
   data-backdrop="static" #addEventOutcome>
   <app-add-event-outcome>

   </app-add-event-outcome>
</div>
<div class="modal modal-style-1 popup-full-width fade"  data-keyboard="false"
data-backdrop="static" #newSpecific>
   <app-event-deliverable-modal [source] ="deliverableObject" *ngIf="deliverableObject.type" >
       
   </app-event-deliverable-modal>
</div>
<div class="modal modal-style-1 popup-full-width fade"  data-keyboard="false"
data-backdrop="static" #addEventOutcome>
   <app-add-event-outcome [source] ="outcomeObject" *ngIf="outcomeObject.type" >
       
   </app-add-event-outcome>
</div>
<div class="modal modal-style-1 fade" id="delete-popup" #confirmationPopUp data-backdrop="static" data-keyboard="false">
    <app-delete-popup [source]="popupObject"></app-delete-popup>
 </div>

 <ng-container>
    <div class="modal modal-style-1 popup-full-width fade" data-keyboard="false" data-backdrop="static" #commentModal>
      <app-add-event-workflow-comment *ngIf="EventWorkflowStore.commentForm">
      </app-add-event-workflow-comment>
    </div>
  </ng-container>

  <div class="modal modal-style-1 popup-full-width fade" id="process-popup" data-keyboard="false" data-backdrop="static"
  #workflowHistory *mobxAutorun>
  <app-event-worflow-history *ngIf="workflowHistoryOpened == true"></app-event-worflow-history>
  </div>
  
  <div class="modal modal-style-1 popup-full-width fade" id="process-popup" data-keyboard="false" data-backdrop="static"
  #workflowModal *mobxAutorun>
  <app-event-workflow-popup *ngIf="workflowModalOpened == true"></app-event-workflow-popup>
  </div>

  <div class="modal modal-style-1 popup-full-width fade" id="process-popup" data-keyboard="false" data-backdrop="static"
#validationCheck >
<app-event-details-validation-check *ngIf="validationPopupObject.type" [source]="validationPopupObject"></app-event-details-validation-check>
</div>

<div class="modal modal-style-1 popup-full-width fade popup-new-type" id="add-three-popup"
                    data-keyboard="false" data-backdrop="static" #filePreviewModal *mobxAutorun>
                    <button type="button" class="close" data-dismiss="modal" (click)="closePreviewModal($event)"><i
                            class="lni-close"></i><span>esc</span></button>
                    <app-event-document-preview *ngIf="previewObject" [source]="previewObject"
                        (close)="closePreviewModal($event)">
                    </app-event-document-preview>
</div>