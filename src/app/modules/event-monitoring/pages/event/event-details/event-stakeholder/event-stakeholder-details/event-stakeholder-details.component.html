<nav class="edit-bar">
   <div class="module-name-block module-name-block-space float-left">
      <a class="dropdown module-title">{{'stakeholder_details_menu'|translate}}</a>
   </div>
   <app-sub-menu></app-sub-menu>
</nav>
<main class="audit-program-details-page mt-3" *mobxAutorun>
   <div class="container-fluid" *ngIf="EventStakeholderStore.individualLoaded">
      <div class="row">
         <div class="col-sm-12">
            <div class="widget">
               <div class="row">
                  <div class="col-lg-8 col-sm-12 padding-right-0">
                     <div class="bg-white widg-padding-cmn">
                        <div class="min-height-64">
                           <div class="issue-top-sec">
                              <div class="clearfix">
                                 <h5 class="d-inline-block cmn-head-style label-tag-style">{{EventStakeholderStore.IndividualStakeholderDetails?.stakeholder?.title}}</h5>
                              </div>
                              <p [innerHTML]="EventStakeholderStore.IndividualStakeholderDetails?.description | safeHtml"></p>
                           </div>

                           <div class="row">
                              <div class="col-sm-6">
                                 <h6>{{'communication_channel' | translate}}</h6>
                                 <p *ngIf="EventStakeholderStore?.IndividualStakeholderDetails?.communication_channels.length > 0">{{objectChangerCommunication(EventStakeholderStore?.IndividualStakeholderDetails?.communication_channels)}}</p>
                                 <p *ngIf="EventStakeholderStore?.IndividualStakeholderDetails?.communication_channels.length==0">{{AppStore.noContentText}}</p>
                              </div>
                              <div class="col-sm-6">
                                 <h6>{{'engagement_strategy' | translate}}</h6>
                                 <p>{{EventStakeholderStore.IndividualStakeholderDetails?.engagement_strategy?.language[0]?.pivot?.title ? EventStakeholderStore.IndividualStakeholderDetails?.engagement_strategy?.language[0]?.pivot?.title: AppStore.noContentText }}</p>
                              </div>
                           </div>

                           <div class="row">
                              <div class="col-sm-6">
                                 <h6>{{'contract_for_this_event' | translate}}</h6>
                                 <p *ngIf="EventStakeholderStore.IndividualStakeholderDetails?.is_contracted==1">{{'yes' | translate}}</p>
                                 <p *ngIf="EventStakeholderStore.IndividualStakeholderDetails?.is_contracted==0">{{'no' | translate}}</p>
                                 <p *ngIf="EventStakeholderStore.IndividualStakeholderDetails?.is_contracted !=1 && EventStakeholderStore.IndividualStakeholderDetails?.is_contracted !=0">{{AppStore.noContentText}}</p>
                              </div>
                              <div class="col-sm-6">
                                 <h6>{{'contract_type' | translate}}</h6>
                                 <p>{{EventStakeholderStore.IndividualStakeholderDetails?.contract_type?.language[0]?.pivot?.title ? EventStakeholderStore.IndividualStakeholderDetails?.contract_type?.language[0]?.pivot?.title: AppStore.noContentText }}</p>
                              </div>
                           </div>

                           <div class="row">
                              <div class="col-sm-6">
                                 <h6>{{'supportive' | translate}}</h6>
                                 <p>{{EventStakeholderStore.IndividualStakeholderDetails?.event_supportive?.title ? EventStakeholderStore.IndividualStakeholderDetails?.event_supportive?.title: AppStore.noContentText }}</p>
                              </div>
                              <div class="col-sm-6">
                                 <h6>{{'influence' | translate}}</h6>
                                 <p>{{EventStakeholderStore.IndividualStakeholderDetails?.event_influence?.title ? EventStakeholderStore.IndividualStakeholderDetails?.event_influence?.title: AppStore.noContentText }}</p>
                              </div>
                           </div>

                           <div class="row">
                              <div class="col-sm-6">
                                 <h6>{{'need_and_expectations' | translate}}</h6>
                                 <p *ngIf="EventStakeholderStore.IndividualStakeholderDetails?.event_stakeholder_need_and_expectation.length >0">{{objConverter(EventStakeholderStore.IndividualStakeholderDetails?.event_stakeholder_need_and_expectation)}}</p>
                                 <p *ngIf="EventStakeholderStore.IndividualStakeholderDetails?.event_stakeholder_need_and_expectation.length ==0">{{AppStore.noContentText}}</p>
                              </div>
                           </div>

                           <div class="row">
                              <div class="col-sm-12">
                                 <h6>{{'what_needs_completed' | translate}}</h6>
                                 <ul class="arrowlist pl-0 mt-0"
                                    *ngIf="EventStakeholderStore.IndividualStakeholderDetails?.event_stakeholder_communication==0||!EventStakeholderStore.IndividualStakeholderDetails?.event_stakeholder_communication">
                                    <li class="clearfix"><a>{{AppStore.noContentText}}</a></li>
                                 </ul>
                                 <ul class="arrowlist pl-0 m-0">
                                    <li *ngFor="let type of EventStakeholderStore.IndividualStakeholderDetails?.event_stakeholder_communication" class="clearfix">
                                       <a>{{type.title}}</a>
                                    </li>
                                 </ul>
                              </div>
                           </div>

                           <div class="row">
                              <div class="col-sm-12">
                                 <h6>{{'feedback' | translate}}</h6>
                                 <p style="white-space: pre-wrap;">{{EventStakeholderStore.IndividualStakeholderDetails?.feedback ? EventStakeholderStore.IndividualStakeholderDetails?.feedback: AppStore.noContentText }}</p>
                              </div>
                           </div>

                        </div>

                        <div class="row">
                           <div class="col-xl-12">
                              <hr class="mb-2">
                              <div *ngIf="EventStakeholderStore.IndividualStakeholderDetails?.created_by.first_name"
                                 class="d-flex flex-row user-list-sm">
                                 <app-user-popup-box [source]=" getResponsibleUser( EventStakeholderStore.IndividualStakeholderDetails?.created_by, EventStakeholderStore.IndividualStakeholderDetails?.created_at )"></app-user-popup-box>
                              </div>
                           </div>
                        </div>

                     </div>
                  </div>

                  <div class="col-lg-4 col-sm-12">
                     <div class="bg-white mb-3 p-3">
                        <h6>{{'anticipated_involvement' | translate}}/ {{'impact' | translate}}</h6>
                        <hr class="mt-0 mb-3">

                        <div class="text-center pt-3 pb-4">
                           <h3 [ngClass]="matrixClass+' text-26 font-weight-700'">{{matrixTitle}}</h3>
                           <p class="mb-0">{{'supportive' | translate}} : {{EventStakeholderStore.IndividualStakeholderDetails?.event_supportive?.title}}</p>
                           <p class="mb-0">{{'influence' | translate}} : {{EventStakeholderStore.IndividualStakeholderDetails?.event_influence?.title}}</p>
                        </div>

                     </div>
                  </div>

               </div>
            </div>
         </div>
      </div>
   </div>
   <ng-container *mobxAutorun>
      <div *ngIf="!EventStakeholderStore.individualLoaded">
          <app-event-stakeholder-details-loader></app-event-stakeholder-details-loader>
      </div>
  </ng-container>
</main>

<!-------------------------------Form Modal--------------------------------------->
<div class="modal modal-style-1 popup-full-width fade" style="z-index:99999;overflow: auto;" data-keyboard="false" data-backdrop="static" #stakeholderModal>
   <app-add-event-stakeholder *ngIf="stakeholderObject.type" [source]="stakeholderObject"></app-add-event-stakeholder>
</div>

 <!------------------- Delete Confirmation Modal Start --------------------------->
 <div class="modal modal-style-1 fade" id="delete-popup" #confirmationPopUp data-backdrop="static" data-keyboard="false">
   <app-delete-popup [source]="popupObject"></app-delete-popup>
</div>