<nav class="edit-bar" data-toggle="affix" #navBar>
   <app-sub-menu></app-sub-menu>
   <ul class="nav nav-pills float-left d-none d-lg-block" role="tablist">
      <li class="nav-item">
         <a class="nav-link nav-link-show"
            [routerLink]="['/strategy-management/strategy-mappings/'+StrategyMappingStore.mappingId]"
            routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}"> {{'strategy_mapping' | translate}}</a>
      </li>
   </ul>
</nav>

<main class="mt-3" id="strategy-mapping">
   <div class="container-fluid">
      <div class=" bg-main line-tab ">
         <div class="row">
            <div class="col-md-12">
               <ul class="nav nav-tabs float-left">
                  <li class="nav-item"> <a [ngClass]="showTab == 'standard_view' ? 'nav-link active show' : 'nav-link'"
                        data-toggle="tab" (click)="switchTab('standard_view')">{{'standard_view' | translate}}</a> </li>
                  <li class="nav-item"> <a
                        [ngClass]="showTab == 'strategy-profile' ? 'nav-link active show' : 'nav-link'"
                        data-toggle="tab" (click)="switchTab('strategy-profile')">{{'strategy_profile' | translate}}</a>
                  </li>
                  <li class="nav-item"> <a [ngClass]="showTab == 'objective' ? 'nav-link active show' : 'nav-link'"
                        data-toggle="tab" (click)="switchTab('objective')">{{'objective' | translate}}</a> </li>
                  <li class="nav-item"> <a [ngClass]="showTab == 'role' ? 'nav-link active show' : 'nav-link'"
                        data-toggle="tab" (click)="switchTab('role')">{{'role' | translate}}</a> </li>
                  <li class="nav-item"> <a [ngClass]="showTab == 'functional' ? 'nav-link active show' : 'nav-link'"
                        data-toggle="tab" (click)="switchTab('functional')">{{'functional' | translate}}</a> </li>
               </ul>
            </div>
         </div>
      </div>
      <!-- Tab panes -->

      <!-- <div class="tab-content tab-content-body pt-3 tree-scroll-height" #scrollDiv> -->
      <div class="tab-content tab-content-body pt-3">

         <div class="tab-pane active show" *ngIf="showTab == 'standard_view'">
            <div id="content-oc" >
               <div class="strategy-mapping-tree" *ngIf="StrategyMappingStore?.individualLoaded">
                  
                  <div class="tab-content mapping-tab-content">
                     <div class="tab-pane in active ">                
                        <div class="tree-scroll-new pt-3" style="min-height: 70vh;" #contentAreaStandard>
                           <div class="tree auto-width-tree clearfix stg-tree stg-role-tree relative">
                              <div class="btn-fixed-strategy-objective">
                                 <button id="left-button-objective" type="button" class="btn-round-cmn btn-round-cmn-left"
                                    (click)="moveTostandard('left')"></button>
                                 <button id="right-button-objective" type="button" class="btn-round-cmn btn-round-cmn-right"
                                    (click)="moveTostandard('right')"></button>
                              </div>
                              <ul class="clearfix pt-0" *ngIf="StrategyMappingStore?.individualLoaded" id="strategy-mapping-standard">
                                 <li>
                                    <a class="oc-user-box cmn-bdr stg-child-box radius-15 relative">
                                       <div
                                          class="controls-mapping-btn strategy-controls-mapping-btn strategy-controls-mapping-btn-role-details">
                                          <span class="strategy-history-icon" data-toggle="modal" (click)="openStrategyProfile()"><i
                                                class="fas fa-sync-alt" [attr.title]="'profile' | translate"></i></span>                               
                                       </div>
                                       <span class="label-work-flow-audit mapping-label mapping-label-green cursor-unset" style="cursor: default !important;">{{'strategy_profile'|
                                          translate}}</span>
                                       <div class="row align-items-center"
                                          (click)="goToDetails('profile',StrategyMappingStore?.individualStrategyMapping?.id)">
                                          <div class="col-md-9 col-9">
                                             <div class="d-flex align-items-center ">
                                                <div class="w-100 ml-3">
                                                   <h6 class="mb-0" [attr.title]="StrategyMappingStore?.individualStrategyMapping?.title?.length > 20 ? StrategyMappingStore?.individualStrategyMapping?.title : ''">
                                                      {{StrategyMappingStore?.individualStrategyMapping?.title?.length > 20 ? StrategyMappingStore?.individualStrategyMapping?.title?.substring(0,20)+'...' : StrategyMappingStore?.individualStrategyMapping?.title }}
                                                   </h6>
                                                   <p class="mb-0">
                                                      {{StrategyMappingStore?.individualStrategyMapping?.start_date |
                                                      date:
                                                      OrganizationGeneralSettingsStore?.organizationSettings?.date_format}}
                                                      - {{StrategyMappingStore?.individualStrategyMapping?.end_date |
                                                      date:
                                                      OrganizationGeneralSettingsStore?.organizationSettings?.date_format}}
                                                   </p>
                                                   <!-- <span class="pointer stg-view">View More</span> -->
                                                </div>
                                             </div>
                                          </div>
                                          <div class="col-md-3 col-3">
                                             <div [ngClass]="(StrategyMappingStore?.individualStrategyMapping?.score != null && StrategyMappingStore?.individualStrategyMapping?.score > 30) ? StrategyMappingStore?.individualStrategyMapping?.score > 70 ? 'round-status round-status-green round-status-child' : 'round-status round-status-orange round-status-child' : 'round-status round-status-red round-status-child' ">
                                                <span>{{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                                   ?
                                                   (StrategyMappingStore?.individualStrategyMapping?.score ?
                                                   StrategyMappingStore?.individualStrategyMapping?.score : '0') :
                                                   StrategyMappingStore?.individualStrategyMapping?.score ?
                                                   (StrategyMappingStore?.individualStrategyMapping?.score | number :
                                                   '1.0-0') : '0'}} %</span>
                                             </div>
                                          </div>
                                       </div>
                                    </a>
                     
                                    <ul class="clearfix" style="padding-top: 20px;"
                                       *ngIf="StrategyMappingStore?.getStandardView?.length > 0">
                                       <li
                                          *ngFor="let focus of StrategyMappingStore?.getStandardView; let num = index">
                                          <a class="oc-user-box cmn-bdr stg-child-box radius-15">
                                             <span class="label-work-flow-audit mapping-label mapping-label-orange cursor-unset" style="cursor: default !important;">{{focus?.is_type | translate}}</span>
                                             <div class="row align-items-center">
                                                <div class="col-md-9 col-9">
                                                   <div class="d-flex align-items-center ">
                                                      <div class="w-100 ml-3">
                                                         <h6 class="mb-0" [attr.title]="focus?.title?.length > 20 ? focus?.title : ''" (click)="goToDetails(focus?.is_type,focus)">{{focus?.title?.length > 20 ?
                                                            focus?.title.substring(0,20)+'...':focus?.title}}
                                                         </h6>
                                                         <!-- <span class="pointer stg-view">View More</span> -->
                                                         <span class="pointer link-text-line text-light-blue text-13"
                                                               (click)="getObjectiveDetails(focus?.kpis)"
                                                               *ngIf="focus.is_type=='objective' && focus?.kpis?.length > 0">KPI<i
                                                                  class="fas fa-eye ml-2"></i></span>
                                                      </div>
                                                   </div>
                                                </div>
                                                <div class="col-md-3 col-3">
                                                   <div [ngClass]="focus?.score && focus?.score > 30 ? (focus?.score > 70 ? 'round-status round-status-green round-status-child' : 'round-status round-status-orange round-status-child') : 'round-status round-status-red round-status-child'">
                                                      <span>{{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                                         ? (focus?.score ? focus?.score : '0') :
                                                         focus?.score ? (focus?.score | number :'1.0-0') :
                                                         '0'}} %</span>
                                                   </div>
                                                </div>
                                             </div>
                                          </a>
                                          <ul [ngClass]="focus?.parent_array?.length > 0 ? 'role-border-connection-1' : ''"
                                             *ngIf="focus?.parent_array?.length > 0">
                                             <li *ngFor="let obj of focus?.parent_array; let objInd = index">
                                                <a class="oc-user-box cmn-bdr stg-child-box radius-15">
                                                   <span class="label-work-flow-audit mapping-label mapping-label-orange cursor-unset" style="cursor: default !important;">{{obj?.is_type | translate}}</span>
                                                   <div class="row align-items-center">
                                                      <div class="col-md-9 col-9">
                                                         <div class="d-flex align-items-center ">
                                                            <div class="w-100 ml-3">
                                                               <h6 class="mb-0" [attr.title]="obj?.title?.length > 20 ? obj?.title : ''" (click)="goToDetails(obj?.is_type,obj)">{{obj?.title?.length > 20 ? obj?.title?.substring(0,20)+'...' : obj?.title}}
                                                               </h6>
                                                               <span class="pointer link-text-line text-light-blue text-13"
                                                               (click)="getObjectiveDetails(obj?.kpi)"
                                                               *ngIf="obj.is_type=='objective' && obj?.kpi?.length > 0">KPI<i
                                                                  class="fas fa-eye ml-2"></i></span>
                                                               <ul class="arrowlist m-0 p-0 role-area-list">
                                                                  <!-- <li>Investment and partnership</li> -->
                                                               </ul>
                                                               <!-- <span class="pointer stg-view">View More</span> -->
                                                            </div>
                                                         </div>
                                                      </div>
                                                      <div class="col-md-3 col-3">
                                                         <div
                                                            [ngClass]="obj?.actual_score && (obj?.actual_score > obj?.minimum) ? obj?.actual_score > obj?.maximum ? 'round-status round-status-green round-status-child' : 'round-status round-status-orange round-status-child' : 'round-status round-status-red round-status-child'">
                                                            <span>{{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                                               ? obj?.actual_score : (obj?.actual_score | number
                                                               :'1.0-0')}}{{!obj?.actual_score ? '0' : ''}} %</span>
                                                         </div>
                                                      </div>
                                                   </div>
                                                </a>
                                                <ul [ngClass]="obj?.child_array?.length > 0 ? 'role-border-connection-1' : ''"
                                                   *ngIf="obj?.child_array?.length > 0">
                                                   <li *ngFor="let init of obj?.child_array; let initInd = index">
                                                      <a class="oc-user-box cmn-bdr stg-child-box radius-15"
                                                         (click)="goToDetails('initiatives',init)">
                                                         <span
                                                            class="label-work-flow-audit mapping-label mapping-label-orange cursor-unset" style="cursor: default !important;">{{'initiative'
                                                            | translate}}</span>
                                                         <div class="row align-items-center">
                                                            <div class="col-md-9 col-9">
                                                               <div class="d-flex align-items-center ">
                                                                  <div class="w-100 ml-3">
                                                                     <h6 class="mb-0" [attr.title]="init?.title?.length > 20 ? init?.title : ''">{{init?.title?.length > 20 ? init?.title?.substring(0,20)+'...' : init?.title}}</h6>
                     
                                                                     <!-- <span class="pointer stg-view">View More</span> -->
                                                                  </div>
                                                               </div>
                                                            </div>
                                                            <div class="col-md-3 col-3">
                                                               <div [ngClass]="init?.score && init?.score > 30 ? init?.score > 70 ? 'round-status round-status-green round-status-child' : 'round-status round-status-orange round-status-child' : 'round-status round-status-red round-status-child'">
                                                                  <span>{{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                                                     ?
                                                                     init?.score : (init?.score | number
                                                                     :'1.0-0')}}{{!init?.score ?'0' :''}} %</span>
                                                               </div>
                                                            </div>
                                                         </div>
                                                      </a>
                                                   </li>
                                                </ul>
                                             </li>
                                          </ul>
                                       </li>
                                    </ul>
                                    <ul class="clearfix" style="padding-top: 20px;"
                                       *ngIf="StrategyMappingStore.standardViewLoaded && StrategyMappingStore?.getStandardView.length == 0">
                                       <li>
                                          <a class="oc-user-box cmn-bdr stg-child-box radius-15">
                                             <div class="row align-items-center">
                                                <div class="col-md-12">
                                                   <div class="d-flex align-items-center ">
                                                      <div class="w-100 tree-img-border-hide">
                                                         <app-context-no-data [sourceData]="getNoDataSource('center',strategyEmptyList)">
                                                         </app-context-no-data>
                                                      </div>
                                                   </div>
                                                </div>
                                             </div>
                                          </a>
                                       </li>
                                    </ul>
                                 </li>
                              </ul>
                     
                           </div>
                        </div>                  
                     </div>
                  </div>
               </div>
               <ng-container *mobxAutorun>
                  <div *ngIf="StrategyStore.allItems.length > 0 && !StrategyMappingStore.individualLoaded">
                     <app-strategy-mapping-standard-view-loader></app-strategy-mapping-standard-view-loader>
                  </div>
                  <app-no-data *ngIf="StrategyStore.allItems.length == 0"></app-no-data>
               </ng-container>
            </div>
         </div>

         <div class="tab-pane active show" *ngIf="showTab == 'strategy-profile'">
            <div class="strategy-tree" *ngIf="StrategyMappingStore.individualLoaded" id="strategy-mapping-profile">
               <ul class="strategy-tree-inner">
                  <li class="profile-main-left pointer">
                     <div
                        class="strategy-white-box cmn-bdr bg-white radius-15 strategy-box-right-line controls-mapping-btn-hov">
                        <!-- <div
                           class="controls-mapping-btn strategy-controls-mapping-btn strategy-controls-mapping-btn-role-details">
                           <span class="strategy-history-icon" data-toggle="modal" (click)="openStrategyProfile()"><i
                                 class="fas fa-sync-alt" [attr.title]="'profile' | translate"></i></span>
                        </div> -->
                        <div class="row align-items-center"
                           (click)="goToDetails('profile',StrategyMappingStore?.individualStrategyMapping?.id)">
                           <div class="col-md-9 col-9">
                              <div class="d-flex align-items-center ">
                                 <div class="w-100">
                                    <h6 class="mb-1" [attr.title]="StrategyMappingStore?.individualStrategyMapping?.title?.length > 20 ? StrategyMappingStore?.individualStrategyMapping?.title : ''">{{StrategyMappingStore?.individualStrategyMapping?.title?.length > 20 ? StrategyMappingStore?.individualStrategyMapping?.title?.substring(0,20)+'...' : StrategyMappingStore?.individualStrategyMapping?.title}}</h6>
                                    <p class="small-p mb-0">
                                       {{StrategyMappingStore?.individualStrategyMapping?.start_date | date:
                                       OrganizationGeneralSettingsStore?.organizationSettings?.date_format}}
                                       - {{StrategyMappingStore?.individualStrategyMapping?.end_date | date:
                                       OrganizationGeneralSettingsStore?.organizationSettings?.date_format}}</p>
                                 </div>
                              </div>
                           </div>
                           <div class="col-md-3 col-3">
                              <div [ngClass]="StrategyMappingStore?.individualStrategyMapping?.score && StrategyMappingStore?.individualStrategyMapping?.score > 30 ? StrategyMappingStore?.individualStrategyMapping?.score > 70 ?  'round-status round-status-green round-status-child' : 'round-status round-status-orange round-status-child' : 
                                 'round-status round-status-red round-status-child'">
                                 <span
                                    class="text-11">{{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                    ? StrategyMappingStore?.individualStrategyMapping?.score :
                                    (StrategyMappingStore?.individualStrategyMapping?.score | number :
                                    '1.0-0')}}{{!StrategyMappingStore?.individualStrategyMapping?.score ? '0' :
                                    ''}} %</span>
                              </div>
                           </div>
                        </div>
                     </div>
                  </li>

                  <li class="profile-main-right">

                     <ul class="profile-main-right-ul">
                        <li class="profile-main-right-li">
                           <div class="tree-label tree-label-bottom-line">
                              <span
                                 class="label-work-flow-audit mapping-label mapping-label-big mapping-label-orange">{{'focus_areas'|
                                 translate}}</span>
                           </div>

                           <div
                              class="slider-strategy-main slider-strategy-main-stgy slider-control-btn-center left-line-connect-slider"
                              *ngIf="StrategyStore?.focusAreas?.length > 0">
                              <owl-carousel-o [options]="customOptions">
                                 <ng-container
                                    *ngFor="let focus of StrategyStore?.focusAreas; let focIndex = index">
                                    <ng-template carouselSlide>
                                       <div class="item " data-toggle="tab"
                                          (click)="goToDetails('focus_area',focus)">
                                          <div
                                             class="slider-inner-box-strategy cmn-bdr border-radius slider-inner-box-stgy">
                                             <div class="slider-box-stgy-inner">
                                                <div class="row align-items-center">
                                                   <div class="col-md-9 col-9">
                                                      <div class="d-flex align-items-center">
                                                         <div class="w-100">
                                                            <h6 class="mb-0 font-weight-600" [attr.title]="focus?.title?.length > 20 ? focus?.title : ''">
                                                               {{focus?.title?.length > 20 ? focus?.title.substring(0,20)+'...' :focus?.title}}</h6>
                                                         </div>
                                                      </div>
                                                   </div>
                                                   <div class="col-md-3 col-3">
                                                      <div [ngClass]="focus?.score && focus?.score > 30 ? focus?.score > 70 ?  'dot-div green-dot bold' : 'dot-div orange-dot bold' 
                                                         : 'dot-div red-dot bold'">
                                                         {{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                                         ? focus?.score : (focus?.score | number :
                                                         '1.0-0')}}{{!focus?.score ? '0' : ''}} %</div>
                                                   </div>
                                                </div>
                                             </div>
                                          </div>
                                       </div>
                                    </ng-template>
                                 </ng-container>
                              </owl-carousel-o>
                           </div>
                           <div
                              class="slider-strategy-main slider-strategy-main-stgy slider-control-btn-center left-line-connect-slider" style="cursor: default !important;"
                              *ngIf="StrategyStore?.focusAreas?.length == 0">
                              <owl-carousel-o [options]="customOptions">
                                 <ng-container>
                                    <ng-template carouselSlide>
                                       <div class="item " data-toggle="tab">
                                          <div
                                             class="slider-inner-box-strategy cmn-bdr border-radius slider-inner-box-stgy">
                                             <div class="slider-box-stgy-inner">
                                                <div class="row ">
                                                   <div class="col-md-12">
                                                      <div class="position-pic-logo">
                                                         <app-context-no-data
                                                            [sourceData]="getNoDataSource('center','focus_area_nodata_mapping')">
                                                         </app-context-no-data>
                                                      </div>
                                                   </div>
                                                </div>
                                             </div>
                                          </div>
                                       </div>
                                    </ng-template>
                                 </ng-container>
                              </owl-carousel-o>
                           </div>
                        </li>

                        <li class="profile-main-right-li">
                           <div class="tree-label tree-label-bottom-line">
                              <span class="label-work-flow-audit mapping-label mapping-label-big mapping-label-orange">{{'objectives' | translate}}</span>
                           </div>

                           <div
                              class="slider-strategy-main slider-strategy-main-stgy slider-control-btn-center left-line-connect-slider"
                              *ngIf="StrategyMappingStore?.strategyObjectives?.length > 0">
                              <owl-carousel-o [options]="customOptions">
                                 <ng-container
                                    *ngFor="let objective of StrategyMappingStore?.strategyObjectives; let objIndex = index">
                                    <ng-template carouselSlide>
                                       <div class="item " data-toggle="tab">
                                          <div
                                             class="slider-inner-box-strategy cmn-bdr border-radius slider-inner-box-stgy">
                                             <div class="slider-box-stgy-inner">
                                                <div class="row align-items-center">
                                                   <div class="col-md-9 col-9">
                                                      <div class="d-flex align-items-center">
                                                         <div class="w-100">
                                                            <h6 class="mb-0 font-weight-600" (click)="goToDetails('objective-profile',objective)" 
                                                               [attr.title]="objective?.title?.length > 20 ? objective?.title : ''">
                                                               {{objective?.title?.length > 20 ? objective?.title.substring(0,20)+'...' :objective?.title}}</h6>
                                                            <span class="pointer link-text-line text-light-blue text-13"
                                                               (click)="getObjectiveDetails(objective?.kpis)"
                                                               *ngIf="objective?.kpis?.length > 0">KPI<i
                                                                  class="fas fa-eye ml-2"></i></span>
                                                         </div>
                                                      </div>
                                                   </div>
                                                   <div class="col-md-3 col-3">
                                                      <div [ngClass]="objective?.score && objective?.score > 30 ? objective?.score > 70 ?  'dot-div green-dot bold' : 'dot-div orange-dot bold' 
                                                         : 'dot-div red-dot bold'">
                                                         {{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                                         ? objective?.score : (objective?.score | number :
                                                         '1.0-0')}}{{!objective?.score ? '0' : ''}} %</div>
                                                   </div>
                                                </div>
                                             </div>
                                             <div class="label-back-line-stg"
                                                *ngIf="objective?.strategy_profile_focus_areas?.length > 0">
                                                <span
                                                   class="label-work-flow-audit mapping-label mapping-label-orange position-unset-label">{{'focus_area'|
                                                   translate}}</span>
                                             </div>
                                             <div class="slider-box-stgy-inner"
                                                *ngIf="objective?.strategy_profile_focus_areas?.length > 0">
                                                <ul class="arrowlist m-0 p-0">
                                                   <li
                                                      *ngFor="let focusArea of objective?.strategy_profile_focus_areas;let i=index">
                                                      <span class="d-flex" *ngIf="i<2">
                                                         <span class="w-100" [attr.title]="focusArea?.focus_area?.title?.length > 20 ? focusArea?.focus_area?.title : ''">{{focusArea?.focus_area?.title?.length > 20 ? focusArea?.focus_area?.title.substring(0,20)+'...' :focusArea?.focus_area?.title}}</span>
                                                         <div class="text-right ml-2" style="min-width: 75px;">
                                                            <span [ngClass]="focusArea?.score && focusArea?.score > 30 ? focusArea?.score > 70 ?  'dot-div green-dot bold' : 'dot-div orange-dot bold' 
                                                               : 'dot-div red-dot bold'" style="min-height: 56px;">{{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                                               ? focusArea.score : (focusArea.score | number :
                                                               '1.0-0')}}{{!focusArea.score ? '0' : ''}} %</span>
                                                         </div>
                                                      </span>
                                                   </li>
                                                </ul>
                                                <div class="text-right"
                                                   *ngIf="objective?.strategy_profile_focus_areas?.length > 2">
                                                   <a class="pointer link-text-line text-light-blue text-13">{{objective?.strategy_profile_focus_areas?.length
                                                      - 2}}{{'more'|translate}}<i
                                                         class="fas fa-circle ml-2 small-dot-icon"></i></a>
                                                </div>
                                             </div>
                                          </div>
                                       </div>
                                    </ng-template>
                                 </ng-container>
                              </owl-carousel-o>
                           </div>
                           <div
                              class="slider-strategy-main slider-strategy-main-stgy slider-control-btn-center left-line-connect-slider cursor-unset" style="cursor: default !important;"
                              *ngIf="StrategyMappingStore?.strategyObjectives?.length == 0">
                              <owl-carousel-o [options]="customOptions">
                                 <ng-container>
                                    <ng-template carouselSlide>
                                       <div class="item " data-toggle="tab">
                                          <div
                                             class="slider-inner-box-strategy cmn-bdr border-radius slider-inner-box-stgy">
                                             <div class="slider-box-stgy-inner">
                                                <div class="row ">
                                                   <div class="col-md-12">
                                                      <div class="position-pic-logo">
                                                         <app-context-no-data
                                                            [sourceData]="getNoDataSource('center','objective_nodata_mapping')">
                                                         </app-context-no-data>
                                                      </div>
                                                   </div>
                                                </div>
                                             </div>
                                          </div>
                                       </div>
                                    </ng-template>
                                 </ng-container>
                              </owl-carousel-o>
                           </div>
                        </li>

                        <li class="profile-main-right-li">
                           <div class="tree-label tree-label-bottom-line">
                              <span
                                 class="label-work-flow-audit mapping-label mapping-label-big mapping-label-orange">{{'initiative'
                                 | translate}}</span>
                           </div>

                           <div
                              class="slider-strategy-main slider-strategy-main-stgy slider-control-btn-center left-line-connect-slider"
                              *ngIf="StrategyMappingStore?.strategyInitiatives?.length > 0">
                              <owl-carousel-o [options]="customOptions">
                                 <ng-container
                                    *ngFor="let initiative of StrategyMappingStore?.strategyInitiatives; let initIndex = index">
                                    <ng-template carouselSlide>
                                       <div class="item " data-toggle="tab"
                                          (click)="goToDetails('initiatives',initiative)">
                                          <div
                                             class="slider-inner-box-strategy cmn-bdr border-radius slider-inner-box-stgy">
                                             <div class="slider-box-stgy-inner">
                                                <div class="row align-items-center">
                                                   <div class="col-md-9 col-9">
                                                      <div class="d-flex align-items-center">
                                                         <div class="w-100">
                                                            <h6 class="mb-0 font-weight-600" [attr.title]="initiative?.title?.length > 20 ? initiative?.title : ''">
                                                               {{initiative?.title?.length > 20 ? initiative?.title.substring(0,20)+'...' :initiative?.title}}</h6>
                                                         </div>
                                                      </div>
                                                   </div>
                                                   <div class="col-md-3 col-3">
                                                      <div [ngClass]="initiative?.score && initiative?.score > 30 ? initiative?.score > 70 ?  'dot-div green-dot bold' : 'dot-div orange-dot bold' 
                                                         : 'dot-div red-dot bold'">
                                                         {{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                                         ? initiative?.score : (initiative?.score | number :
                                                         '1.0-0')}}{{!initiative?.score ? '0' : ''}} %</div>
                                                   </div>
                                                </div>
                                             </div>
                                             <div class="label-back-line-stg"
                                                *ngIf="initiative?.strategy_profile_focus_areas?.length > 0">
                                                <span
                                                   class="label-work-flow-audit mapping-label mapping-label-orange position-unset-label">{{'focus_area'
                                                   | translate}}</span>
                                             </div>
                                             <div class="slider-box-stgy-inner"
                                                *ngIf="initiative?.strategy_profile_focus_areas?.length > 0">
                                                <ul class="arrowlist m-0 p-0">
                                                   <li
                                                      *ngFor="let focus of initiative?.strategy_profile_focus_areas;let i=index">
                                                      <span class="d-flex" *ngIf="i<2">
                                                         <span class="w-100" [attr.title]="focus.focus_area?.title?.length > 20 ? focus.focus_area?.title : ''">{{focus.focus_area?.title?.length > 20 ? focus.focus_area?.title.substring(0,20)+'...' :focus.focus_area?.title}}</span>
                                                         <div class="text-right ml-2" style="min-width: 75px;">
                                                            <span [ngClass]="focus?.score && focus?.score > 30 ? focus?.score > 70 ?  'dot-div green-dot bold' : 'dot-div orange-dot bold' 
                                                               : 'dot-div red-dot bold'">{{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                                               ? focus.score : (focus.score | number :
                                                               '1.0-0')}}{{!focus.score ? '0' : ''}} %</span>
                                                         </div>
                                                      </span>
                                                   </li>
                                                </ul>
                                                <div class="text-right"
                                                   *ngIf="initiative?.strategy_profile_focus_areas?.length > 2">
                                                   <a class="pointer link-text-line text-light-blue text-13">{{initiative?.strategy_profile_focus_areas?.length
                                                      - 2}}{{'more'|translate}}<i
                                                         class="fas fa-circle ml-2 small-dot-icon"></i></a>
                                                </div>
                                             </div>
                                             <div class="label-back-line-stg"
                                                *ngIf="initiative?.strategy_profile_objectives?.length > 0">
                                                <span
                                                   class="label-work-flow-audit mapping-label mapping-label-orange position-unset-label">{{'objective'
                                                   | translate}}</span>
                                             </div>
                                             <div class="slider-box-stgy-inner"
                                                *ngIf="initiative?.strategy_profile_objectives?.length > 0">
                                                <ul class="arrowlist m-0 p-0">
                                                   <li
                                                      *ngFor="let objective of initiative?.strategy_profile_objectives;let i=index">
                                                      <span class="d-flex" *ngIf="i<2">
                                                         <span
                                                            class="w-100" [attr.title]="objective?.objective?.title?.length > 20 ? objective?.objective?.title : ''">{{objective?.objective?.title?.length > 20 ? objective?.objective?.title.substring(0,20)+'...' :objective?.objective?.title}}</span>
                                                            <div class="text-right ml-2" style="min-width: 75px;">                                                            
                                                               <span [ngClass]="objective?.score && objective?.score > 30 ? objective?.score > 70 ?  'dot-div green-dot bold' : 'dot-div orange-dot bold ml-2' 
                                                                  : 'dot-div red-dot bold'">{{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                                                  ? objective.score : (objective.score | number :
                                                                  '1.0-0')}}{{!objective.score ? '0' : ''}} %</span>
                                                            </div>
                                                      </span>
                                                   </li>
                                                </ul>
                                                <div class="text-right"
                                                   *ngIf="initiative?.strategy_profile_objectives?.length > 2">
                                                   <a class="pointer link-text-line text-light-blue text-13">{{initiative?.strategy_profile_objectives?.length
                                                      - 2}}{{'more'|translate}}<i
                                                         class="fas fa-circle ml-2 small-dot-icon"></i></a>
                                                </div>
                                             </div>
                                          </div>
                                          <!-- milestone part start -->
                                          <div *ngIf="initiative?.is_milestone == 1">
                                             <div *ngFor="let milestone of initiative?.strategy_initiative_milestones">
                                                <div class="tree-label-top-line text-center">
                                                   <span
                                                      class="label-work-flow-audit mapping-label position-unset-label mapping-label-orange">{{milestone?.title}}</span>
                                                </div>
                                                <div
                                                   class="slider-inner-box-strategy cmn-bdr border-radius slider-inner-box-stgy">
                                                   <div class="slider-box-stgy-inner">
                                                      <ul class="arrowlist m-0 p-0"
                                                         *ngIf="milestone?.strategy_initiative_milestone_action_plans?.length > 0">
                                                         <li
                                                            *ngFor="let actionPlan of milestone?.strategy_initiative_milestone_action_plans;let i=index">
                                                            <span class="d-flex" *ngIf="i<2">
                                                               <span class="w-100" [attr.title]="actionPlan?.title?.length > 20 ? actionPlan?.title : ''">{{actionPlan?.title?.length > 20 ? actionPlan?.title.substring(0,20)+'...' :actionPlan?.title}}</span>
                                                                  <div class="text-right ml-2" style="min-width: 75px;">
                                                                     <span [ngClass]="actionPlan?.actual_value && actionPlan?.actual_value > 30 ? actionPlan?.actual_value > 70 ?  'dot-div green-dot bold ml-2' : 'dot-div orange-dot bold ml-2' 
                                                                        : 'dot-div red-dot bold ml-2'">{{actionPlan?.actual_value
                                                                        ?calculatePercentage(actionPlan?.actual_value,actionPlan?.target):'0'}} %</span>
                                                                     </div>
                                                               </span>
                                                         </li>
                                                      </ul>
                                                      <ng-container
                                                         *ngIf="milestone?.strategy_initiative_milestone_action_plans?.length == 0">
                                                         <div class="col-md-12 col-12">
                                                            <div class="d-flex align-items-center ">
                                                               <div class="pl-1">
                                                                  <p class="mb-0 elips-1">{{'common_nodata_title' |
                                                                     translate}} </p>
                                                               </div>
                                                            </div>
                                                         </div>
                                                      </ng-container>
                                                      <div class="text-right"
                                                         *ngIf="milestone?.strategy_initiative_milestone_action_plans?.length > 2">
                                                         <a class="pointer link-text-line text-light-blue text-13">{{milestone?.strategy_initiative_milestone_action_plans?.length
                                                            - 2}}{{'more'|translate}}<i
                                                               class="fas fa-circle ml-2 small-dot-icon"></i></a>
                                                      </div>
                                                   </div>
                                                </div>
                                             </div>
                                          </div>
                                          <!-- milestone part end -->
                                          <!-- action plan start -->
                                          <div class="tree-label-top-line text-center"
                                             *ngIf="initiative?.is_milestone == 2 && initiative?.strategy_initiative_action_plans?.length > 0">
                                             <span
                                                class="label-work-flow-audit mapping-label position-unset-label mapping-label-orange">{{'action_plans'
                                                |
                                                translate}}</span>
                                          </div>
                                          <div
                                             class="slider-inner-box-strategy cmn-bdr border-radius slider-inner-box-stgy"
                                             *ngIf="initiative?.is_milestone == 2 && initiative?.strategy_initiative_action_plans?.length > 0">
                                             <div class="slider-box-stgy-inner">
                                                <ul class="arrowlist m-0 p-0">
                                                   <li
                                                      *ngFor="let actionPlans of initiative?.strategy_initiative_action_plans;let i=index">
                                                      <span class="d-flex" *ngIf="i<2">
                                                         <span class="w-100" [attr.title]="actionPlans?.title?.length > 20 ? actionPlans?.title : ''">{{actionPlans?.title?.length > 20 ? actionPlans?.title.substring(0,20)+'...' :actionPlans?.title}}</span>
                                                            <div class="text-right ml-2" style="min-width: 75px;">
                                                               <span [ngClass]="actionPlans?.actual_value && actionPlans?.actual_value > 30 ? actionPlans?.actual_value > 70 ?  'dot-div green-dot bold' : 'dot-div orange-dot bold' 
                                                                  : 'dot-div red-dot bold'">{{actionPlans?.actual_value
                                                                  ?
                                                                  calculatePercentage(actionPlans?.actual_value,actionPlans?.target):'0'}} %</span>
                                                            </div>
                                                      </span>
                                                   </li>
                                                </ul>
                                                <div class="text-right"
                                                   *ngIf="initiative?.strategy_initiative_action_plans?.length > 2">
                                                   <a class="pointer link-text-line text-light-blue text-13">{{initiative?.strategy_initiative_action_plans?.length
                                                      - 2}}{{'more'|translate}}<i
                                                         class="fas fa-circle ml-2 small-dot-icon"></i></a>
                                                </div>
                                             </div>
                                          </div>
                                          <!-- action plan end -->
                                       </div>
                                    </ng-template>
                                 </ng-container>
                              </owl-carousel-o>
                           </div>
                           <div
                              class="slider-strategy-main slider-strategy-main-stgy slider-control-btn-center left-line-connect-slider cursor-unset" style="cursor: default !important;"
                              *ngIf="StrategyMappingStore?.strategyInitiatives?.length == 0">
                              <owl-carousel-o [options]="customOptions">
                                 <ng-container>
                                    <ng-template carouselSlide>
                                       <div class="item " data-toggle="tab">
                                          <div
                                             class="slider-inner-box-strategy cmn-bdr border-radius slider-inner-box-stgy">
                                             <div class="slider-box-stgy-inner">
                                                <div class="row ">
                                                   <div class="col-md-12">
                                                      <!-- <div class="d-flex align-items-center">
                                                         <div class="text-center">
                                                            <app-context-no-data [sourceData] = "getNoDataSource('center')"></app-context-no-data>
                                                         </div>                                                                                                          
                                                      </div> -->
                                                      <div class="position-pic-logo">
                                                         <app-context-no-data
                                                            [sourceData]="getNoDataSource('center','initiative_nodata_mapping')">
                                                         </app-context-no-data>
                                                      </div>
                                                   </div>
                                                </div>
                                             </div>
                                          </div>
                                       </div>
                                    </ng-template>
                                 </ng-container>
                              </owl-carousel-o>
                           </div>
                        </li>
                     </ul>

                  </li>
               </ul>
            </div>
            <ng-container *mobxAutorun>
               <div *ngIf="!StrategyMappingStore.individualLoaded">
                  <app-strategy-mapping-profile-loader></app-strategy-mapping-profile-loader>
               </div>
            </ng-container>
         </div>

         <div class="tab-pane active show" *ngIf="showTab == 'strategy-profile-old'">
            <div id="content-oc-obj"
               [ngClass]="StrategyMappingStore?.individualStrategyMapping?.strategy_profile_focus_areas.length > 0 ? 'tree-wrapper' : ''"
               style="min-height: 84vh;">
               <div class="strategy-mapping-tree" *ngIf="StrategyMappingStore.individualLoaded">
                  <!-- <div class="justify-content-center"> -->
                  <div
                     [ngClass]="StrategyMappingStore?.individualStrategyMapping?.strategy_profile_focus_areas?.length > 0 ? 
                        'stg-child-box-role-details stgy-oc-user-box oc-user-box stg-mapping-top-box stg-mapping-top-box-new radius-15 cmn-bdr mt-3' 
                        :'stg-child-box-role-details stgy-oc-user-box oc-user-box stg-mapping-top-box stg-mapping-top-box-new radius-15 cmn-bdr mt-3 stg-no-data-border'">
                     <div class="slider-inner-box-stgy p-0">
                        <div
                           class="controls-mapping-btn strategy-controls-mapping-btn strategy-controls-mapping-btn-role-details">
                           <span class="strategy-history-icon" data-toggle="modal" (click)="openStrategyProfile()"><i
                                 class="fas fa-history" [attr.title]="'histroy' | translate"></i></span>
                        </div>
                        <span class="label-work-flow-audit mapping-label mapping-label-green">{{'strategy_profile' |
                           translate}}</span>
                        <div class="row align-items-center pt-2">
                           <div class="col-md-9 col-9">
                              <div class="d-flex align-items-center">
                                 <div class="w-100 ml-3">
                                    <h6 class="mb-0">{{StrategyMappingStore?.individualStrategyMapping?.title}}</h6>
                                    <p class="mb-0">{{StrategyMappingStore?.individualStrategyMapping?.start_date |
                                       date:
                                       OrganizationGeneralSettingsStore?.organizationSettings?.date_format}}
                                       - {{StrategyMappingStore?.individualStrategyMapping?.end_date | date:
                                       OrganizationGeneralSettingsStore?.organizationSettings?.date_format}}</p>
                                    <!-- <span class="pointer stg-view">View More</span> -->
                                 </div>
                              </div>
                           </div>
                        </div>
                        <div class="col-md-3 col-3">
                           <div [ngClass]="StrategyMappingStore?.individualStrategyMapping?.score >=50 ? 'over50':''"
                              class="p{{StrategyMappingStore?.individualStrategyMapping?.score}} round-status round-status-blue">
                              <span>{{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                 ? StrategyMappingStore?.individualStrategyMapping?.score :
                                 (StrategyMappingStore?.individualStrategyMapping?.score | number :
                                 '1.0-0')}}{{!StrategyMappingStore?.individualStrategyMapping?.score ? '0' :
                                 ''}} %</span>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>

               <!-- start -->
               <div class="tab-content mapping-tab-content"
                  *ngIf="StrategyMappingStore?.individualStrategyMapping?.strategy_profile_focus_areas?.length > 0">
                  <div id="menu1" class="tab-pane in active">
                     <div class="tree auto-width-tree clearfix stg-tree stg-role-tree">
                        <ul class="clearfix pt-0"
                           *ngIf="StrategyMappingStore?.individualStrategyMapping?.strategy_profile_focus_areas?.length > 0">

                           <li
                              *ngFor="let focus of StrategyMappingStore?.individualStrategyMapping?.strategy_profile_focus_areas; let num = index">
                              <a class="oc-user-box cmn-bdr stg-child-box radius-15">
                                 <span class="label-work-flow-audit mapping-label mapping-label-orange">{{'focus_area' |
                                    translate}}</span>
                                 <div class="row align-items-center">
                                    <div class="col-md-9 col-9">
                                       <div class="d-flex align-items-center ">
                                          <div class="w-100 ml-3">
                                             <h6 class="mb-0" [attr.title]="focus?.focus_area?.title?.length > 20 ? focus?.focus_area?.title : ''">
                                                {{focus?.focus_area?.title?.length > 50 ?
                                                focus?.focus_area?.title.substring(0,50)+' ...'
                                                :focus?.focus_area?.title}}</h6>

                                             <!-- <span class="pointer stg-view">View More</span> -->
                                          </div>
                                       </div>
                                    </div>
                                    <div class="col-md-3 col-3">
                                       <div class="round-status round-status-green round-status-child">
                                          <span>{{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                             ? focus?.score : (focus?.score | number : '1.0-0')}}{{!focus?.score ?
                                             '0' : ''}} %</span>
                                       </div>
                                    </div>
                                 </div>

                              </a>
                              <ul [ngClass]="focus?.objectives?.length > 0 ? 'role-border-connection-1' : ''"
                                 *ngIf="focus?.objectives?.length > 0">
                                 <li *ngFor="let obj of focus?.objectives; let objInd = index">
                                    <a class="oc-user-box cmn-bdr stg-child-box radius-15">
                                       <span
                                          class="label-work-flow-audit mapping-label mapping-label-orange">{{'objectives'
                                          | translate}}</span>
                                       <div class="row align-items-center">
                                          <div class="col-md-9 col-9">
                                             <div class="d-flex align-items-center ">
                                                <div class="w-100 ml-3">
                                                   <h6 class="mb-0">{{obj?.objective?.title}}</h6>
                                                   <ul class="arrowlist m-0 p-0 role-area-list">
                                                      <!-- <li>Investment and partnership</li> -->
                                                   </ul>
                                                   <span class="pointer stg-view"
                                                      (click)="getObjectiveDetails(obj?.kpis)">KPI</span>
                                                </div>
                                             </div>
                                          </div>
                                          <div class="col-md-3 col-3">
                                             <div class="round-status round-status-green round-status-child">
                                                <span>{{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                                   ? obj?.actual_score : (obj?.actual_score | number :
                                                   '1.0-0')}}{{!obj?.actual_score ? '0' : ''}} %</span>
                                             </div>
                                          </div>
                                       </div>

                                    </a>
                                    <ul [ngClass]="obj?.initiatives?.length > 0 ? 'role-border-connection-1' : ''"
                                       *ngIf="obj?.initiatives?.length > 0">
                                       <li *ngFor="let init of obj?.initiatives; let initInd = index">
                                          <a class="oc-user-box cmn-bdr stg-child-box radius-15">
                                             <span
                                                class="label-work-flow-audit mapping-label mapping-label-orange">{{'initiatives'
                                                | translate}}</span>
                                             <div class="row align-items-center">
                                                <div class="col-md-9 col-9">
                                                   <div class="d-flex align-items-center ">
                                                      <div class="w-100 ml-3">
                                                         <h6 class="mb-0">{{init?.title}}</h6>

                                                         <!-- <span class="pointer stg-view">View More</span> -->
                                                      </div>
                                                   </div>
                                                </div>
                                                <div class="col-md-3 col-3">
                                                   <div class="round-status round-status-green round-status-child">
                                                      <span>{{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                                         ? init?.score : (init?.score | number :
                                                         '1.0-0')}}{{!init?.score ? '0' : ''}} %</span>
                                                   </div>
                                                </div>
                                             </div>

                                          </a>
                                       </li>
                                    </ul>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <ng-container *mobxAutorun>
                  <app-no-data-list [source]="strategyEmptyList"
                     *ngIf="StrategyMappingStore.individualLoaded && StrategyMappingStore?.individualStrategyMapping?.strategy_profile_focus_areas.length == 0">
                  </app-no-data-list>
               </ng-container>
               <!-- </div> -->
            </div>
            <ng-container *mobxAutorun>
               <app-strategy-mapping-oc-department-loader *ngIf="!StrategyMappingStore.individualLoaded">
               </app-strategy-mapping-oc-department-loader>
            </ng-container>
         </div>

         <div class="tab-pane active show" *ngIf="showTab == 'objective-old'">
            <!-- <div class="text-right status-area-stg">
               <label class="stg-status"><span class="round-overdue round-overdue-red"></span>Overdue<span class="stg-red-status stg-status-text">15</span></label>
               <label class="stg-status"><span class="round-overdue round-overdue-orange"></span>Behind<span class="stg-orange-status stg-status-text">11</span></label>
               <label class="stg-status"><span class="round-overdue round-overdue-green"></span>On Track<span class="stg-green-status stg-status-text">12</span></label>
               <label class="stg-status"><span class="round-overdue round-overdue-blue"></span>Complete<span class="stg-blue-status stg-status-text">8</span></label>
               <label class="stg-status"><span class="round-overdue round-overdue-violet"></span>Not Started<span class="stg-violet-status stg-status-text">3</span></label>
            </div> -->
            <div id="content-oc-st" style="min-height: 84vh;">
               <div class="strategy-mapping-tree">
                  <div
                     [ngClass]="StrategyMappingStore?.strategyObjectiveByType?.strategy_profile_objectives?.length > 0 ? 
                        'stgy-oc-user-box oc-user-box stg-mapping-top-box stg-mapping-top-box-new radius-15 cmn-bdr mt-3' 
                        :'stgy-oc-user-box oc-user-box stg-mapping-top-box stg-mapping-top-box-new radius-15 cmn-bdr mt-3 stg-no-data-border'">
                     <span class="label-work-flow-audit mapping-label mapping-label-orange">{{'strategy_objective_type'
                        | translate}}</span>
                     <div class="row align-items-center">
                        <div class="col-md-12 col-12">
                           <div class="d-flex align-items-center">
                              <div class="w-100 ml-0 pt-2">
                                 <h6 class="mb-1">{{StrategyMappingStore?.strategyObjectiveByType?.title}}</h6>
                              </div>
                              <div class="controls-mapping-btn strategy-controls-mapping-btn">
                                 <span class="strategy-history-icon" (click)="openObjectiveTypePopup()"><i
                                       class="fas fa-history" [attr.title]="'histroy' | translate"></i></span>
                              </div>
                           </div>
                        </div>
                     </div>
                  </div>

                  <!-- start -->
                  <div class="slider-strategy-main slider-strategy-main-stgy"
                     *ngIf="StrategyMappingStore?.strategyObjectiveByType?.strategy_profile_objectives?.length > 0">

                     <owl-carousel-o [options]="customOptions" (initialized)="getPassedData($event)">
                        <ng-container
                           *ngFor="let objectives of StrategyMappingStore?.strategyObjectiveByType?.strategy_profile_objectives; let objInd = index">
                           <ng-template carouselSlide>


                              <div class="item">
                                 <div
                                    [ngClass]="selectedItem == objInd ? 'slider-inner-box-strategy cmn-bdr radius-15 slider-inner-box-stgy stg-active-box' : 'slider-inner-box-strategy cmn-bdr radius-15 slider-inner-box-stgy'"
                                    (click)="getKeyResult(objInd,objectives)">
                                    <span
                                       class="label-work-flow-audit mapping-label mapping-label-orange">{{'objectives' |
                                       translate}}</span>
                                    <div class="row align-items-center">
                                       <div class="col-md-9 col-9">
                                          <div class="d-flex align-items-center">
                                             <div class="w-100 ml-3">
                                                <h6 class="mb-0">{{objectives?.objective?.title}}</h6>
                                                <p class="mb-0">{{objectives?.start_date | date:
                                                   OrganizationGeneralSettingsStore.organizationSettings?.date_format }}
                                                   -
                                                   {{objectives?.end_date | date:
                                                   OrganizationGeneralSettingsStore.organizationSettings?.date_format}}
                                                </p>
                                                <!-- <a (click)="getObjectiveDetails(objectives?.kpis)">KPI</a> -->
                                             </div>
                                          </div>
                                       </div>
                                       <div class="col-md-3 col-3">
                                          <div class="round-status round-status-blue">
                                             <span>70 %</span>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </ng-template>
                        </ng-container>
                     </owl-carousel-o>

                  </div>

                  <div class="tab-content mapping-tab-content"
                     *ngIf="StrategyMappingStore?.strategyObjectiveByType?.strategy_profile_objectives?.length > 0">
                     <div id="menu1" class="tab-pane in active">
                        <div class="tree auto-width-tree clearfix stg-tree">
                           <ul class="clearfix pt-0">

                              <li
                                 *ngFor="let initiatives of StrategyMappingStore?.strategyObjectiveByType?.strategy_profile_objectives[selectedItem]?.initiatives">
                                 <a class="oc-user-box cmn-bdr stg-child-box radius-15">
                                    <span
                                       class="label-work-flow-audit mapping-label mapping-label-orange">{{'initiatives'
                                       | translate}}</span>
                                    <div class="row align-items-center">
                                       <div class="col-md-9 col-9">
                                          <div class="d-flex align-items-center ">
                                             <div class="w-100 ml-3">
                                                <h6 class="mb-0">{{initiatives?.title}}</h6>

                                                <!-- <span class="pointer stg-view">View More</span> -->
                                             </div>
                                          </div>
                                       </div>
                                       <div class="col-md-3 col-3">
                                          <div class="round-status round-status-green round-status-child">
                                             <span>{{initiatives?.weightage}} %</span>
                                          </div>
                                       </div>
                                    </div>

                                 </a>
                                 <ul
                                    *ngIf="initiatives?.is_milestone == 2 && initiatives?.strategy_initiative_action_plans?.length > 0">
                                    <li>
                                       <a class="oc-user-box cmn-bdr stg-child-box radius-15">
                                          <span
                                             class="label-work-flow-audit mapping-label mapping-label-orange">{{'action_plans'
                                             | translate}}</span>
                                          <div class="row align-items-center mb-2"
                                             *ngFor="let actionplan of initiatives?.strategy_initiative_action_plans">

                                             <div class="col-md-12 col-12">
                                                <div class="d-flex align-items-center ">
                                                   <div
                                                      class="round-status round-status-green round-status-grand-child">
                                                      <span>{{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                                         ? actionplan?.score : (actionplan?.score | number :
                                                         '1.0-0')}}{{!actionplan?.score ? '0' : ''}} %</span>
                                                   </div>
                                                   <div class="pl-1">
                                                      <h6 class="mb-0 elips-1">{{actionplan?.title}} </h6>
                                                   </div>
                                                   <!-- <div class="ml-2"> <span class="pointer stg-view" style="width: 70px;">View More</span></div> -->
                                                </div>
                                             </div>

                                          </div>
                                       </a>

                                    </li>
                                 </ul>
                                 <ul
                                    *ngIf="initiatives?.is_milestone == 1 && initiatives?.strategy_initiative_milestones?.length > 0">
                                    <li>
                                       <a class="oc-user-box cmn-bdr stg-child-box radius-15">
                                          <span
                                             class="label-work-flow-audit mapping-label mapping-label-orange">{{initiatives?.strategy_initiative_milestones[0]?.title}}</span>
                                          <div class="row align-items-center mb-2"
                                             *ngIf="initiatives?.strategy_initiative_milestones[0]?.strategy_initiative_milestone_action_plans?.length > 0">

                                             <div class="col-md-12 col-12"
                                                *ngFor="let actionPlan of initiatives?.strategy_initiative_milestones[0]?.strategy_initiative_milestone_action_plans">
                                                <div class="d-flex align-items-center ">
                                                   <div class="round-status round-status-green round-status-grand-child"
                                                      *ngIf="actionPlan?.actual_value">
                                                      <span>{{actionPlan?.actual_value}} %</span>
                                                   </div>
                                                   <div class="pl-1">
                                                      <h6 class="mb-0 elips-1">{{actionPlan?.title}} </h6>
                                                   </div>
                                                   <!-- <div class="ml-2"> <span class="pointer stg-view" style="width: 70px;">View More</span></div> -->
                                                </div>
                                             </div>

                                          </div>
                                          <ng-container
                                             *ngIf="initiatives?.strategy_initiative_milestones[0]?.strategy_initiative_milestone_action_plans?.length == 0">
                                             <div class="col-md-12 col-12">
                                                <div class="d-flex align-items-center ">

                                                   <div class="pl-1">
                                                      <p class="mb-0 elips-1">{{'common_nodata_title' | translate}} </p>
                                                   </div>
                                                   <!-- <div class="ml-2"> <span class="pointer stg-view" style="width: 70px;">View More</span></div> -->
                                                </div>
                                             </div>
                                          </ng-container>
                                       </a>
                                       <ul *ngIf="initiatives?.strategy_initiative_milestones?.length > 1">
                                          <li
                                             *ngFor="let mileStone of initiatives?.strategy_initiative_milestones;let ind = index">
                                             <a class="oc-user-box cmn-bdr stg-child-box radius-15" *ngIf="ind > 0">
                                                <span
                                                   class="label-work-flow-audit mapping-label mapping-label-orange">Milestone
                                                   2</span>
                                                <div class="row align-items-center mb-2">

                                                   <div class="col-md-12 col-12">
                                                      <div class="d-flex align-items-center ">
                                                         <div
                                                            class="round-status round-status-green round-status-grand-child">
                                                            <span>80 %</span>
                                                         </div>
                                                         <div class="pl-1">
                                                            <h6 class="mb-0 elips-1">Social Media Presence </h6>
                                                         </div>
                                                         <div class="ml-2"> <span
                                                               class="pointer link-text-line text-light-blue text-13"
                                                               style="width: 70px;">View More</span></div>
                                                      </div>
                                                   </div>

                                                </div>
                                                <div class="row align-items-center">

                                                   <div class="col-md-12 col-12">
                                                      <div class="d-flex align-items-center ">
                                                         <div
                                                            class="round-status round-status-orange round-status-grand-child">
                                                            <span>45 %</span>
                                                         </div>
                                                         <div class="pl-1">
                                                            <h6 class="mb-0 elips-1">Social Media Presence </h6>
                                                         </div>
                                                         <div class="ml-2"> <span
                                                               class="pointer link-text-line text-light-blue text-13"
                                                               style="width: 70px;">View More</span></div>
                                                      </div>
                                                   </div>

                                                </div>

                                             </a>
                                          </li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>

                           </ul>
                        </div>


                     </div>




                  </div>

                  <ng-container *mobxAutorun>
                     <app-no-data-list [source]="objectiveTypeEmptyList"
                        *ngIf="StrategyMappingStore?.strategyObjectiveByType?.strategy_profile_objectives?.length == 0">
                     </app-no-data-list>
                  </ng-container>

               </div>
            </div>
         </div>

         <div class="tab-pane active show" *ngIf="showTab == 'objective-issue'">
            <div class="strategy-objective-new widget">

               <div class="slider-strategy-objective-new">
                  <!-- <div id="strategy-objective" class="owl-carousel owl-theme">  </div> -->
                  <owl-carousel-o [options]="customOptions">
                     <ng-container
                        *ngFor="let objectiveType of StrategyMappingStore?.objectiveTypes?.with_out_child; let index = index">
                        <ng-template carouselSlide>
                           <div class="item">
                              <div class="so-slider-box">
                                 <div class="so-slider-box-header objective-bg-lite-red">
                                    <h5 class="elips-1">{{objectiveType?.title}}</h5>
                                 </div>
                                 <div class="card-body" #scrollArea style="max-height: 250px;overflow-y: auto;">
                                    <div id="accordion-inner" class="sub-accordion bg-white"
                                       *ngIf="objectiveType?.strategy_profile_objectives?.length > 0">
                                       <div class="card relative mb-1 mt-1"
                                          *ngFor="let objectives of objectiveType?.strategy_profile_objectives;let i = index">
                                          <div class="card-header bg-white">
                                             <a class="card-link align-label-check-head full-line-click mgn-top-click objective-text-lite-blue-two elips-1"
                                                 data-toggle="collapse"
                                                [attr.href]="'#collapse'+i">{{objectives?.objective?.title}}</a>
                                          </div>
                                          <div
                                             [ngClass]="selectedObjectiveIndex == i && selectedObjectiveId == objectives.id ? 'collapse show' : 'collapse'"
                                             data-parent="#accordion-inner">
                                             <div class="card-body bg-white"
                                                *ngIf="objectives?.strategyinitiatives?.length > 0">

                                                <h5 class="font-weight-600 text-14">Key Results</h5>
                                                <ul class="arrowlist m-0 p-0">
                                                   <li *ngFor="let initiative of objectives?.strategyinitiatives"
                                                      class="elips-1">{{initiative?.title}}</li>
                                                </ul>
                                             </div>
                                             <div class="card-body bg-white"
                                                *ngIf="objectives?.strategyinitiatives?.length == 0">
                                                <!-- <app-context-no-data [sourceData] = "getNoDataSource('center','No Initiatives Found')"></app-context-no-data> -->
                                                <p>{{'initiative_nodata_title' | translate}}</p>
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                    <div class="sub-accordion bg-white"
                                       *ngIf="objectiveType?.strategy_profile_objectives?.length == 0">
                                       <!-- <app-context-no-data [sourceData] = "getNoDataSource('center','No Objectives Found')"></app-context-no-data> -->
                                       <p>{{'objective_nodata_title' | translate}}</p>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </ng-template>
                     </ng-container>
                  </owl-carousel-o>
               </div>

               <div id="content-objective" *ngIf="StrategyMappingStore?.objectiveTypes?.with_child?.length > 0"
                  class="strategy-objective-tree-main mt-4 pt-2 dragscroll">
                  <!-- <div class="btn-fixed-strategy-objective">
                     <button id="left-button-objective" type="button" class="btn-round-cmn btn-round-cmn-left"></button>
                     <button id="right-button-objective" type="button" class="btn-round-cmn btn-round-cmn-right"></button>
                  </div> -->

                  <div class="user-details-page mt-0 card-accordion-new card-accordion-left-icon mb-0">
                     <div class="user-settings">
                        <div class="access-settings mb-3"
                           *ngFor="let objectiveType of StrategyMappingStore?.objectiveTypes?.with_child; let index = index">
                           <div class="strategy-objective-tree clearfix">

                              <ul class="strategy-objective-tree-ul clearfix">
                                 <li class="strategy-objective-tree-li">
                                    <div class="so-tree-box so-tree-box-line">

                                       <div id="accordion-1" [attr.id]="'accordion-1-'+index">
                                          <div class="card access-main-card card-color-text-heading">
                                             <div class="card-header card-hov-effect">
                                                <a class="card-link font-weight-bold full-line-click objective-bg-lite-blue-two elips-1"
                                                   (click)="selectedObjectiveType(index,objectiveType.id)"
                                                   data-toggle="collapse"
                                                   [attr.href]="'#collapse-1-'+index">{{objectiveType?.title}}</a>
                                             </div>
                                             <div [attr.data-parent]="'accordion-1-'+index"
                                                [attr.id]="'collapse-1-'+index" class="cmn-bdr-top collapse show">
                                                <div class="card-body">
                                                   <div [attr.id]="'accordion-inner-'+index"
                                                      class="sub-accordion bg-white"
                                                      *ngIf="objectiveType?.strategy_profile_objectives?.length > 0">
                                                      <div class="card relative mb-1 mt-1"
                                                         *ngFor="let objectives of objectiveType?.strategy_profile_objectives;let objIndex = index">
                                                         <div class="card-header bg-white">
                                                            <a class="card-link align-label-check-head full-line-click mgn-top-click objective-text-lite-blue-two elips-1"
                                                               (click)="selectedObjectiveInChild(objIndex,objectives.id)"
                                                               data-toggle="collapse"
                                                               [attr.href]="'#collapse-obj-1-'+index+'-'+objIndex">{{objectives?.objective?.title}}</a>
                                                         </div>
                                                         <div [attr.id]="'collapse-obj-1-'+index+'-'+objIndex"
                                                            class="collapse show"
                                                            [attr.data-parent]="'accordion-inner-'+index">
                                                            <div class="card-body bg-white"
                                                               *ngIf="objectives?.strategyinitiatives?.length > 0">
                                                               <h5 class="font-weight-600 text-14">Key Results</h5>
                                                               <ul class="arrowlist m-0 p-0">
                                                                  <li *ngFor="let initiative of objectives?.strategyinitiatives"
                                                                     class="elips-1">{{initiative?.title}}</li>
                                                               </ul>
                                                            </div>
                                                            <div class="card-body bg-white"
                                                               *ngIf="objectives?.strategyinitiatives?.length == 0">
                                                               <!-- <app-context-no-data [sourceData] = "getNoDataSource('center','No Initiatives Found')"></app-context-no-data> -->
                                                               <p class="elips-1">{{'initiative_nodata_title' |
                                                                  translate}}</p>
                                                            </div>
                                                         </div>
                                                      </div>
                                                   </div>
                                                   <div class="sub-accordion bg-white"
                                                      *ngIf="objectiveType?.strategy_profile_objectives?.length == 0">
                                                      <!-- <app-context-no-data [sourceData] = "getNoDataSource('center','No Objectives Found')"></app-context-no-data> -->
                                                      <p class="elips-1">{{'objective_nodata_title' | translate}}</p>
                                                   </div>
                                                </div>
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                    <!-- <app-strategy-mapping-objective-type-child-view *ngIf="objectiveType.child_objective_type.length > 0" [details]="objectiveType.child_objective_type"
                                       [id]="objectiveType.id" [index]="1"></app-strategy-mapping-objective-type-child-view> -->
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>

            </div>
         </div>

         <div class="tab-pane active show" *ngIf="showTab == 'objective'">
            <div class="strategy-objective-new widget scroll-line-small" id="strategy-mapping-objective">

               <div class="strategy-objective-tree-main" *ngIf="StrategyMappingStore?.objectiveTypes?.with_out_child?.length > 0">
                  <div class="user-details-page mt-0 card-accordion-new card-accordion-left-icon mb-0 card-icon-span">
                     <div class="user-settings">
                        <div class="access-settings">

                           <div class="slider-strategy-objective-new">
                              <owl-carousel-o [options]="customOptions">
                                 <ng-container
                                    *ngFor="let objectiveType of StrategyMappingStore?.objectiveTypes?.with_out_child; let index = index">
                                    <ng-template carouselSlide>
                                       <div class="item">
                                          <div class="so-slider-box">
                                             <div class="so-slider-box-header objective-bg-lite-red">
                                                <h5 class="elips-1">{{objectiveType?.title}}</h5>
                                             </div>
                                             <div class="so-slider-box-inner py-2 pr-2">

                                                <div class="so-slider-box-scroll-two"
                                                   style="max-height: 200px;overflow-y: auto;"
                                                   [attr.id]="'data-div-'+index">
                                                   <div class="pr-3">

                                                      <div id="slide-accordion-1">
                                                         <div
                                                            class="card access-main-card card-color-text-heading remove-zoom-hov mb-0">

                                                            <div id="slide-accordion-inner"
                                                               class="sub-accordion bg-white"
                                                               *ngIf="objectiveType?.strategy_profile_objectives?.length > 0">
                                                               <div class="card relative mb-1 mt-1"
                                                                  *ngFor="let objectives of objectiveType?.strategy_profile_objectives;let i = index">
                                                                  <div class="card-header bg-white">
                                                                     <a [ngClass]="objectives.is_accordion ? 'card-link align-label-check-head full-line-click mgn-top-click objective-text-lite-blue-two elips-1' : 'card-link align-label-check-head full-line-click mgn-top-click objective-text-lite-blue-two elips-1 collapsed'"
                                                                        (click)="selectedObjective(i,index,objectives,objectiveType)" [attr.title]="objectives?.objective?.title?.length > 25 ? objectives?.objective?.title :''"
                                                                        data-toggle="collapse">
                                                                        <div class="d-flex align-items-center">
                                                                           <span class="w-100"> {{objectives?.objective?.title?.length > 25 ? objectives?.objective?.title?.substring(0,25)+'...' : objectives?.objective?.title}}</span>
                                                                           <span [ngClass]="objectives.score && objectives.score > objectives.minimum ? objectives.score > objectives.maximum ?  'text-12 bold text-green text-right' : 'text-12 bold text-orange text-right' : 'text-12 bold text-red text-right'"                                              
                                                                              style="min-width: 60px;" >
                                                                              {{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                                                                 ? (objectives.score ? objectives.score : 0) : (objectives.score ?
                                                                                 (objectives.score | number : '1.0-0') : 0)}} %</span>
                                                                        </div>
                                                                       
                                                                        
                                                                        <span class="drop-down-icone"><i
                                                                              class="fas fa-chevron-down"></i></span></a>
                                                                  </div>
                                                                  <div
                                                                     [ngClass]="objectives.is_accordion ? 'collapse show' : 'collapse'"
                                                                     data-parent="#slide-accordion-inner">
                                                                     <div class="card-body bg-white"
                                                                        *ngIf="objectives?.strategyinitiatives?.length > 0">
                                                                        <h5 class="font-weight-600 text-14">
                                                                           {{'initiatives'| translate}}</h5>
                                                                        <ul class="arrowlist m-0 p-0">
                                                                           <li *ngFor="let initiative of objectives?.strategyinitiatives"
                                                                              class="elips-1">{{initiative?.title}}</li>
                                                                        </ul>
                                                                     </div>
                                                                     <div class="card-body bg-white"
                                                                        *ngIf="objectives?.strategyinitiatives?.length == 0">
                                                                        <!-- <app-context-no-data [sourceData] = "getNoDataSource('center','No Initiatives Found')"></app-context-no-data> -->
                                                                        <p style="padding-left: 30px;">
                                                                           {{'initiative_nodata_title' | translate}}</p>
                                                                     </div>
                                                                  </div>
                                                               </div>
                                                            </div>
                                                            <div class="sub-accordion bg-white"
                                                               *ngIf="objectiveType?.strategy_profile_objectives?.length == 0">
                                                               <!-- <app-context-no-data [sourceData] = "getNoDataSource('center','No Objectives Found')"></app-context-no-data> -->
                                                               <p style="padding-left: 30px;">{{'objective_nodata_title'
                                                                  | translate}}</p>
                                                            </div>

                                                         </div>
                                                      </div>

                                                   </div>
                                                </div>

                                             </div>
                                          </div>
                                       </div>
                                    </ng-template>
                                 </ng-container>
                              </owl-carousel-o>
                           </div>

                        </div>
                     </div>
                  </div>
               </div>

               <div id="content-objective" *ngIf="StrategyMappingStore?.objectiveTypes?.with_child?.length > 0"
                  #objectiveTypeDrag
                  class="strategy-objective-tree-main strategy-objective-tree-main-scroll mt-4 pt-2 dragscroll">

                  <div class="btn-fixed-strategy-objective">
                     <button id="left-button-objective" type="button" class="btn-round-cmn btn-round-cmn-left"
                        (click)="moveToObjectiveType('left')"></button>
                     <button id="right-button-objective" type="button" class="btn-round-cmn btn-round-cmn-right"
                        (click)="moveToObjectiveType('right')"></button>
                  </div>

                  <div class="user-details-page mt-0 card-accordion-new card-accordion-left-icon mb-0 card-icon-span">
                     <div class="user-settings">
                        <div class="access-settings"
                           *ngFor="let objectiveType of StrategyMappingStore?.objectiveTypes?.with_child; let index = index">
                           <div class="strategy-objective-tree clearfix">

                              <ul class="strategy-objective-tree-ul clearfix">
                                 <li class="strategy-objective-tree-li">
                                    <div class="so-tree-box so-tree-box-line">

                                       <div id="accordion-1">
                                          <div class="card access-main-card card-color-text-heading">
                                             <div class="card-header card-hov-effect">
                                                <a [ngClass]="selectedObjectiveTypeIndex == index && selectedObjectiveTypeId == objectiveType.id ? 'card-link font-weight-bold full-line-click objective-bg-lite-blue-two' : 'card-link font-weight-bold full-line-click objective-bg-lite-blue-two collapsed'"
                                                   (click)="selectedObjectiveType(index,objectiveType.id)" [attr.title]="objectiveType?.title?.length > 30 ? objectiveType?.title :''"
                                                   data-toggle="collapse" aria-expanded="true">{{objectiveType?.title?.length > 30 ? objectiveType?.title?.substring(0,30)+'...' : objectiveType?.title}}
                                                   <span class="drop-down-icone"><i
                                                         class="fas fa-chevron-down"></i></span></a>
                                             </div>
                                             <div data-parent="#accordion-1"
                                                [ngClass]="selectedObjectiveTypeIndex == index && selectedObjectiveTypeId == objectiveType.id ? 'cmn-bdr-top collapse show' : 'cmn-bdr-top collapse'">
                                                <div class="card-body">
                                                   <div id="accordion-inner" class="sub-accordion bg-white"
                                                      *ngIf="objectiveType?.strategy_profile_objectives?.length > 0">
                                                      <div class="card relative mb-1 mt-1"
                                                         *ngFor="let objectives of objectiveType?.strategy_profile_objectives;let objIndex = index">
                                                         <div class="card-header bg-white">
                                                            <a [ngClass]="selectedChildObjectiveId == objectives?.id && selectedChildObjectiveIndex == objIndex ? 'card-link align-label-check-head full-line-click mgn-top-click objective-text-lite-blue-two' : 'card-link align-label-check-head full-line-click mgn-top-click objective-text-lite-blue-two collapsed'"
                                                               (click)="selectedObjectiveInChild(objIndex,objectives.id)" [attr.title]="objectives?.objective?.title?.length > 20 ? objectives?.objective?.title :''"
                                                               data-toggle="collapse">
                                                               <div class="d-flex align-items-center">
                                                                  <span class="w-100">
                                                                     {{objectives?.objective?.title?.length > 20 ? objectives?.objective?.title?.substring(0,20)+'...' : objectives?.objective?.title}}
                                                                  </span>
                                                                  <span [ngClass]="objectives.score && objectives.score > objectives.minimum ? objectives.score > objectives.maximum ?  'text-12 bold text-green text-right' : 'text-12 bold text-orange text-right' : 'text-12 bold text-red text-right'"                                              
                                                                     style="min-width: 60px;">
                                                                     {{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                                                        ? (objectives.score ? objectives.score : 0) : (objectives.score ?
                                                                        (objectives.score | number : '1.0-0') : 0)}} %</span>
                                                               </div>                                                                                       
                                                               <span class="drop-down-icone"><i class="fas fa-chevron-down"></i></span>
                                                            </a>
                                                            
                                                         </div>
                                                         <div
                                                            [ngClass]="selectedChildObjectiveId == objectives?.id && selectedChildObjectiveIndex == objIndex ? 'collapse show' : 'collapse'"
                                                            data-parent="#accordion-inner">
                                                            <div class="card-body bg-white"
                                                               *ngIf="objectives?.strategyinitiatives?.length > 0">
                                                               <h5 class="font-weight-600 text-14">{{'initiatives' |
                                                                  translate}}</h5>
                                                               <ul class="arrowlist m-0 p-0">
                                                                  <li *ngFor="let initiative of objectives?.strategyinitiatives"
                                                                     class="elips-1">{{initiative?.title}}</li>
                                                               </ul>
                                                            </div>
                                                            <div class="card-body bg-white"
                                                               *ngIf="objectives?.strategyinitiatives?.length == 0">
                                                               <!-- <app-context-no-data [sourceData] = "getNoDataSource('center','No Initiatives Found')"></app-context-no-data> -->
                                                               <p class="elips-1">{{'initiative_nodata_title' |
                                                                  translate}}</p>
                                                            </div>
                                                         </div>
                                                      </div>
                                                   </div>
                                                   <div class="sub-accordion bg-white"
                                                      *ngIf="objectiveType?.strategy_profile_objectives?.length == 0">
                                                      <!-- <app-context-no-data [sourceData] = "getNoDataSource('center','No Objectives Found')"></app-context-no-data> -->
                                                      <p class="elips-1">{{'objective_nodata_title' | translate}}</p>
                                                   </div>
                                                </div>
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                    <app-strategy-mapping-objective-type-child-view
                                       *ngIf="objectiveType.child_objective_type.length > 0"
                                       [details]="objectiveType.child_objective_type" [id]="objectiveType.id"
                                       [childIndex]="index" [level]="1">
                                    </app-strategy-mapping-objective-type-child-view>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>

               <ng-container *mobxAutorun>
                  <app-no-data-list [source]="strategyEmptyList" *ngIf = "StrategyMappingStore.objectiveTypeLoaded && StrategyMappingStore?.objectiveTypes?.with_child?.length == 0 && StrategyMappingStore?.objectiveTypes?.with_out_child?.length == 0"></app-no-data-list>
                  <app-strategy-mapping-objective-loader *ngIf = "!StrategyMappingStore.objectiveTypeLoaded"></app-strategy-mapping-objective-loader>
               </ng-container>
            </div>
         </div>

         <div class="tab-pane active show" *ngIf="showTab == 'role'">
            <div
               class="relative widget-body-light profile-widg-padding oc-tab-content pt-0 bg-main dragscroll tree-scroll-new"
               #roleDrag>            
               <div class="btn-fixed-strategy-objective">
                  <button id="left-button-objective" type="button" class="btn-round-cmn btn-round-cmn-left"
                     (click)="moveToRole('left')"></button>
                  <button id="right-button-objective" type="button" class="btn-round-cmn btn-round-cmn-right"
                     (click)="moveToRole('right')"></button>
               </div>
               <div id="content-oc" style="min-height: 60vh;">
                  <div class="oc-chart-small stg-role-chart">
                     <div class="tree auto-width-tree clearfix mt-4" style="width: auto;" id="strategy-mapping-role">

                        <ul class="clearfix left-and-right-space-tree">
                           <li *ngFor="let userWise of StrategyMappingStore.strategyRoleWise">
                              <a class="oc-user-box" [attr.title]="'View '+userWise.first_name+' '+userWise.last_name"
                                 [ngStyle]="{'opacity': userWise.status_id == AppStore.inActiveStatusId ? 0.5 : 1}"
                                 (click)="goToRoleDetails(userWise)">
                                 <div class="clearfix">
                                    <!-- <div class="oc-user-pic">
                                       <img src="/assets/images/farooq.jpg" width="60" height="60" class="img-fluid rounded-circle user-pic-bdr cmn-bdr-blue" alt="images" />
                                       <div id="oc-plus-minus-icon-1" class="oc-box-option-icon hide-and-show-oc-box-btn-1 oc-plus-minus-icon" onclick="show()"> <i class="fal fa-minus"></i> </div>
                                    </div> -->
                                    <div
                                       [ngClass]="userWise?.assessment_score > 30 ? (userWise?.assessment_score < 70 ? 'role-score role-score-outer bg-orange' : 'role-score role-score-outer bg-green') : 'role-score role-score-outer bg-red'"
                                       *ngIf="(userWise?.is_profile || userWise?.is_focus_area || userWise?.is_objective || userWise?.is_initiative)">
                                       <span>{{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                          ? (userWise?.assessment_score ? userWise?.assessment_score : '0') : userWise?.assessment_score ? (userWise?.assessment_score | number :
                                          '1.0-0') : '0'}} %</span>
                                    </div>
                                    <div
                                       [ngClass]="(userWise?.is_profile || userWise?.is_focus_area || userWise?.is_objective || userWise?.is_initiative) ? 'oc-user-pic img-active' : 'oc-user-pic cursor-unset'"  [ngStyle] = "{cursor: (userWise?.is_profile || userWise?.is_focus_area || userWise?.is_objective || userWise?.is_initiative) ? 'pointer' : 'default !important' }">
                                       <img
                                          [attr.src]="userWise.image_token ? createImageUrl(userWise.image_token,'user-profile-picture') : getDefaultImage('user-logo')"
                                          width="55" height="60" class="img-fluid rounded-circle user-pic-bdr"
                                          alt="images" onerror="this.src='/assets/images/user-demo2.png'" />
                                       <div *ngIf="userWise.children.length > 0"
                                          id="{{'oc-plus-minus-icon-'+userWise.id}}"
                                          class="oc-box-option-icon hide-and-show-oc-box-btn-1 oc-plus-minus-icon"
                                          (click)="show(userWise.id)"> <i class="fal fa-minus"></i>
                                       </div>
                                    </div>
                                    <div [ngClass]="(userWise?.is_profile || userWise?.is_focus_area || userWise?.is_objective || userWise?.is_initiative) ? 'oc-user-name' : 'oc-user-name cursor-unset'" [ngStyle] = "{cursor: (userWise?.is_profile || userWise?.is_focus_area || userWise?.is_objective || userWise?.is_initiative) ? 'pointer' : 'default !important' }">
                                       <div class="oc-edit">
                                          <span class="oc-box-option-icon"><i class="fas fa-pencil-alt"></i></span>
                                       </div>
                                       <div class="name-sec-oc-user">
                                          <!-- <h4>{{userWise.first_name}} {{userWise.last_name}}</h4>
                                          <h5>{{userWise.designation?.title}}</h5> -->
                                          <div class="row align-items-center">
                                             <div class="col-md-9 col-9">
                                                <div class="d-flex align-items-center ">
                                                   <div class="w-100 ml-3">
                                                      <h4>{{userWise.first_name}} {{userWise.last_name}}</h4>
                                                      <h5>{{userWise.designation?.title}}</h5>
                                                   </div>
                                                </div>
                                             </div>
                                             <div class="col-md-3 col-3"
                                                *ngIf="(userWise?.is_profile || userWise?.is_focus_area || userWise?.is_objective || userWise?.is_initiative)">
                                                <div class=""
                                                   [ngClass]="userWise?.assessment_score > 30 ? (userWise?.assessment_score < 70 ? 'role-score bg-orange' : 'role-score bg-green') : 'role-score bg-red'">
                                                   <span>{{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                                      ? (userWise?.assessment_score ? userWise?.assessment_score : '0') : userWise?.assessment_score ? (userWise?.assessment_score |
                                                      number : '1.0-0') : '0'}} %</span>
                                                </div>
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </a>
                              <app-strategy-mapping-oc-view *ngIf="userWise.children.length > 0"
                                 [details]="userWise.children" [id]="userWise.id">
                              </app-strategy-mapping-oc-view>
                           </li>
                        </ul>
                     </div>

                  </div>

               </div>
            </div>
         </div>

         <div class="tab-pane active show" *ngIf="showTab == 'functional'">
            <div
               class="relative widget-body-light profile-widg-padding oc-tab-content pt-0 bg-main dragscroll tree-scroll-new"
               #functionalDrag>
               <div class="btn-fixed-strategy-objective">
                  <button id="left-button-objective" type="button" class="btn-round-cmn btn-round-cmn-left"
                     (click)="moveToFunctional('left')"></button>
                  <button id="right-button-objective" type="button" class="btn-round-cmn btn-round-cmn-right"
                     (click)="moveToFunctional('right')"></button>
               </div>
               <div id="content-oc-func" style="min-height: 60vh;" id="strategy-mapping-functional">
                  <app-no-data
                     *ngIf="StrategyMappingStore.departmentWiseChartLoaded && StrategyMappingStore.strategyDepartmentWise?.length == 0">
                  </app-no-data>
                  <ng-container *mobxAutorun>
                     <app-strategy-mapping-oc-department-loader *ngIf="!StrategyMappingStore.departmentWiseChartLoaded">
                     </app-strategy-mapping-oc-department-loader>
                  </ng-container>
                  <div class="tree clearfix department-tree stg-functional-tree"
                     *ngIf="StrategyMappingStore.departmentWiseChartLoaded" [style.width]="getDepartmentChartWidth()">
                     <ul *ngFor="let dWise of StrategyMappingStore.strategyDepartmentWise; let d = index">
                        <li [ngStyle]="{'padding-top' : d > 0 ? '75px' : '0px'}">
                           <a class="oc-user-box cmn-bdr oc-box-text-and-logo cursor-unset" style="cursor: default !important;">
                              <!-- <div class="oc-edit"> <i class="fas fa-pencil-alt"></i>
                              </div> -->
                              <!-- <div class="logo-pic-tree" *ngIf="dWise.image_token">
                                 <img *ngIf="dWise.image_token" height="22px" width="114"
                                    [attr.src]="createImageUrl(dWise.image_token,'business-profile-logo')" alt="images"
                                    class="img-fluid" onerror="this.src='/assets/images/user-demo2.png'" />
                              </div> -->
                              <h4 class="mt-3" [attr.title]="dWise.organization_title?.length > 25 ? dWise.organization_title :''">{{dWise.organization_title?.length > 25 ? dWise.organization_title?.substring(0,25)+'...' : dWise.organization_title}}</h4>
                              <div class="dpt-title-bx"> <span>{{'subsidiaries' | translate}}/{{'divisions' |
                                    translate}}</span>
                              </div>
                           </a>
                           <ul *ngIf="dWise.children && dWise.children.length > 0">
                              <li *ngFor="let subWise of dWise.children[0]">
                                 <a class="oc-user-box oc-box-text-and-logo cmn-bdr cursor-unset" style="cursor: default !important;">
                                    <!-- <div class="logo-pic-tree" *ngIf="subWise.image_token">
                                       <img *ngIf="subWise.image_token" height="22px" width="114"
                                          [attr.src]="createImageUrl(subWise.image_token,'organization-logo')"
                                          alt="images" class="img-fluid"
                                          onerror="this.src='/assets/images/user-demo2.png'" />
                                    </div> -->
                                    <h4 class="mt-3" [attr.title]="subWise.organization_title?.length > 25 ? subWise.organization_title :''">{{subWise.organization_title?.length > 25 ? subWise.organization_title?.substring(0,25)+'...' : subWise.organization_title}}</h4>
                                    <div *ngIf="subWise.divisions.length > 0" class="dpt-title-bx">
                                       <span>{{'divisions' |
                                          translate}}</span>
                                    </div>
                                 </a>
                                 <ul *ngIf="subWise.divisions.length > 0">
                                    <li *ngFor="let divWise of subWise.divisions">
                                       <a class="oc-user-box cmn-bdr cursor-unset" style="cursor: default !important;">
                                          <h4 [attr.title]="divWise.division_title?.length > 25 ? divWise.division_title :''">{{divWise.division_title?.length > 25 ? divWise.division_title?.substring(0,25)+'...' : divWise.division_title}}</h4>
                                          <div *ngIf="divWise.departments.length > 0" class="dpt-title-bx">
                                             <span>{{'departments' |
                                                translate}}</span>
                                          </div>
                                       </a>
                                       <ul *ngIf="divWise.departments.length > 0">
                                          <li *ngFor="let depWise of divWise.departments">
                                             <a [ngClass]="(depWise?.is_profile || depWise?.is_focus_area || depWise?.is_objective || depWise?.is_initiative) ? 'oc-user-box active-box-functional' : 'oc-user-box cmn-bdr cursor-unset'" [ngStyle] = "{cursor: (depWise?.is_profile || depWise?.is_focus_area || depWise?.is_objective || depWise?.is_initiative) ? 'pointer' : 'default !important' }"
                                                (click)="goToDepartmentDetails(depWise)">
                                                <div
                                                   [ngClass]="depWise?.assessment_score && depWise?.assessment_score > 30 ? (depWise?.assessment_score < 70 ? 'status-tag-new-two bg-orange text-10 font-weight-700' : 'status-tag-new-two bg-green text-10 font-weight-700') : 'status-tag-new-two bg-red text-10 font-weight-700'"
                                                   *ngIf="depWise?.is_profile || depWise?.is_focus_area || depWise?.is_objective || depWise?.is_initiative">
                                                   {{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                                   ? (depWise?.assessment_score ? depWise?.assessment_score : '0') : depWise?.assessment_score ? (depWise?.assessment_score | number :
                                                   '1.0-0') : '0'}} %</div>
                                                <h4 [attr.title]="depWise.department_title?.length > 25 ? depWise.department_title :''">{{depWise.department_title?.length > 25 ? depWise.department_title?.substring(0,25)+'...' : depWise.department_title}}</h4>
                                                <div *ngIf="depWise.sections.length > 0" class="dpt-title-bx">
                                                   <span>{{'sections' |
                                                      translate}}</span>
                                                </div>
                                             </a>
                                             <ul *ngIf="depWise.sections.length > 0">
                                                <li *ngFor="let secWise of depWise.sections">

                                                   <a class="oc-user-box cmn-bdr cursor-unset" style="cursor: default !important;">

                                                      <h4 [attr.title]="secWise.section_title?.length > 25 ? secWise.section_title :''">{{secWise.section_title?.length > 25 ? secWise.section_title?.substring(0,25)+'...' : secWise.section_title}}</h4>
                                                      <div *ngIf="secWise.sub_sections.length > 0" class="dpt-title-bx">
                                                         <span>{{'sub_sections' | translate}}</span>
                                                      </div>
                                                   </a>
                                                   <ul *ngIf="secWise.sub_sections.length > 0">
                                                      <li *ngFor="let subSecWise of secWise.sub_sections">

                                                         <a class="oc-user-box cmn-bdr">
                                                            <h4 [attr.title]="subSecWise.sub_section_title?.length > 25 ? subSecWise.sub_section_title :''">{{subSecWise.sub_section_title?.length > 25 ? subSecWise.sub_section_title?.substring(0,25)+'...' : subSecWise.sub_section_title}}</h4>
                                                         </a>
                                                      </li>
                                                   </ul>
                                                </li>
                                             </ul>
                                          </li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                              <li *ngFor="let pdivWise of dWise.divisions">
                                 <a class="oc-user-box cmn-bdr cursor-unset" style="cursor: default !important;">
                                    <h4 [attr.title]="pdivWise.division_title?.length > 25 ? pdivWise.division_title :''">{{pdivWise.division_title?.length > 25 ? pdivWise.division_title?.substring(0,25)+'...' : pdivWise.division_title}}</h4>
                                    <div *ngIf="pdivWise.departments.length > 0" class="dpt-title-bx">
                                       <span>{{'departments' |
                                          translate}}</span>
                                    </div>
                                 </a>
                                 <ul *ngIf="pdivWise.departments.length > 0">
                                    <li *ngFor="let pdepWise of pdivWise.departments">
                                       <a [ngClass]="(pdepWise?.is_profile || pdepWise?.is_focus_area || pdepWise?.is_objective || pdepWise?.is_initiative) ? 'oc-user-box active-box-functional' : 'oc-user-box cmn-bdr cursor-unset'" [ngStyle] = "{cursor: (pdepWise?.is_profile || pdepWise?.is_focus_area || pdepWise?.is_objective || pdepWise?.is_initiative) ? 'pointer' : 'default !important' }"
                                          (click)="goToDepartmentDetails(pdepWise)">
                                          <div
                                             [ngClass]="pdepWise?.assessment_score && pdepWise?.assessment_score > 30 ? (pdepWise?.assessment_score < 70 ? 'status-tag-new-two bg-orange text-10 font-weight-700' : 'status-tag-new-two bg-green text-10 font-weight-700') : 'status-tag-new-two bg-red text-10 font-weight-700'"
                                             *ngIf="pdepWise?.is_profile || pdepWise?.is_focus_area || pdepWise?.is_objective || pdepWise?.is_initiative">
                                             {{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                             ? (pdepWise?.assessment_score ? pdepWise?.assessment_score : '0') : pdepWise?.assessment_score ? (pdepWise?.assessment_score | number :
                                             '1.0-0') : '0'}} %</div>
                                          <h4 [attr.title]="pdepWise.department_title?.length > 25 ? pdepWise.department_title :''">{{pdepWise.department_title?.length > 25 ? pdepWise.department_title?.substring(0,25)+'...' : pdepWise.department_title}}</h4>
                                          <div *ngIf="pdepWise.sections.length > 0" class="dpt-title-bx">
                                             <span>{{'sections' |
                                                translate}}</span>
                                          </div>
                                       </a>
                                       <ul *ngIf="pdepWise.sections.length > 0">
                                          <li *ngFor="let psecWise of pdepWise.sections">
                                             <a class="oc-user-box cmn-bdr cursor-unset" style="cursor: default !important;">
                                                <h4 [attr.title]="psecWise.section_title?.length > 25 ? psecWise.section_title :''">{{psecWise.section_title?.length > 25 ? psecWise.section_title?.substring(0,25)+'...' : psecWise.section_title}}</h4>
                                                <div *ngIf="psecWise.sub_sections.length > 0" class="dpt-title-bx">
                                                   <span>{{'sub_sections' | translate}}</span>
                                                </div>
                                             </a>
                                             <ul *ngIf="psecWise.sub_sections.length > 0">
                                                <li *ngFor="let psubSecWise of psecWise.sub_sections">
                                                   <a class="oc-user-box cmn-bdr cursor-unset" style="cursor: default !important;">
                                                      <h4 [attr.title]="psubSecWise.sub_section_title?.length > 25 ? psubSecWise.sub_section_title :''">{{psubSecWise.sub_section_title?.length > 25 ? psubSecWise.sub_section_title?.substring(0,25)+'...' : psubSecWise.sub_section_title}}</h4>
                                                   </a>
                                                </li>
                                             </ul>
                                          </li>
                                       </ul>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</main>

<!-------------------------------Form Modal--------------------------------------->
<div class="modal modal-style-1 popup-full-width fade" style="z-index:99999;overflow: auto;" data-keyboard="false"
   data-backdrop="static" #formModal>
   <app-strategy-profile-modal *ngIf="strategyProfileObject.type" [source]="strategyProfileObject">
   </app-strategy-profile-modal>
</div>

<!-------------------------------Export loader--------------------------------------->
<div class="modal modal-style-1 image-download-popup-new fade" id="loadMe" aria-labelledby="loadMeLabel" tabindex="-1"
   role="dialog" #loaderPopUp>
   <app-loader [source]="downloadMessage"></app-loader>
</div>

<div class="modal modal-style-1 popup-full-width fade" id="add-milestone-popup" data-keyboard="false"
   data-backdrop="static" #otherResponsibleUsers>
   <app-other-responsible-users-modal [source]="otherResponsibleUsersObject" *ngIf="otherResponsibleUsersObject.type">
   </app-other-responsible-users-modal>

</div>

<div class="modal modal-style-1 popup-full-width fade" data-keyboard="false" data-backdrop="static" #mappipngPopup>
   <app-strategy-mapping-popup *ngIf="mappingPopupOpen">
   </app-strategy-mapping-popup>
</div>

<div class="modal modal-style-1 popup-full-width fade" data-keyboard="false" data-backdrop="static"
   #objectiveDetailPopup>
   <app-strategy-mapping-objective-detail-popup *ngIf="objectDetailObject.type != null" [source]="objectDetailObject">
   </app-strategy-mapping-objective-detail-popup>
</div>

<div class="modal modal-style-1 popup-full-width fade" data-keyboard="false" data-backdrop="static"
   #initiativeDetailPopup>
   <app-strategy-mapping-initiative-detail-popup *ngIf="initiativeDetailObject.type != null"
      [source]="initiativeDetailObject">
   </app-strategy-mapping-initiative-detail-popup>
</div>

<!-- objective type popup start-->
<div class="modal modal-style-1 popup-full-width fade" style="z-index:99999;overflow: auto;" data-keyboard="false"
   data-backdrop="static" #objectiveTypeModal>
   <app-strategy-mapping-objective-type-popup *ngIf="strategyobjectiveTypeObject.type"
      [source]="strategyobjectiveTypeObject">
   </app-strategy-mapping-objective-type-popup>
</div>
<!-- objective type popup start end-->


<!-- focus info popup start-->
<div class="modal modal-style-1 popup-full-width fade" data-keyboard="false" data-backdrop="static"
   #focusAreaInfoPopup>
   <app-strategy-mapping-focus-area-info *ngIf="focusInfoObject.type != null" [source]="focusInfoObject">
   </app-strategy-mapping-focus-area-info>
</div>
<!-- focus info popup end-->

<!-- objective info popup start-->
<div class="modal modal-style-1 popup-full-width fade" data-keyboard="false" data-backdrop="static"
   #objectiveInfoPopup>
   <app-strategy-mapping-objective-info *ngIf="objectiveInfoObject.type != null" [source]="objectiveInfoObject">
   </app-strategy-mapping-objective-info>
</div>
<!-- objective info popup end-->

<!-- profile info popup start-->
<div class="modal modal-style-1 popup-full-width fade" data-keyboard="false" data-backdrop="static"
   #profileInfoPopup>
   <app-strategy-mapping-profile-info *ngIf="profileInfoObject.type != null" [source]="profileInfoObject">
   </app-strategy-mapping-profile-info>
</div>
<!-- profile info popup end-->