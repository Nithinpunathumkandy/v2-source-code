<nav class="edit-bar" data-toggle="affix">
    <div class="module-name-block module-name-block-space float-left">
        <a class="dropdown module-title">{{'strategy_dashboard' | translate}}</a>
    </div>
    <ul class="nav nav-pills edit-icons float-right d-none d-xl-block" role="tablist">
        <li>
            <ng-select style="min-width: 200px; top: -19px;" bindLabel="title" [(ngModel)]="profile_id"
                [placeholder]="'choose_strategy_profile' | translate" [multiple]="false" class="disable-clear-all"
                [clearable]="false" (change)="changeProfile()" (search)="serarchProfile($event)" (open)="openProfile()">

                <ng-option [value]="prod.id" *ngFor="let prod of StrategyStore.allItems">
                    {{prod.title}}
                </ng-option>
            </ng-select>
        </li>
        <li>
            <a (click)="goToReport()"><i class="fas fa-book"></i></a>
        </li>
    </ul>
</nav>

<!-- <main class="mt-3 acl-page cmn-p-15" *ngIf="StrategyStore.allItems.length > 0 && strategy_dashboard_loader">
    <div class="container-fluid">
        <div class="widget">

            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow" *ngIf="StrategyStore.objectives?.length > 0">
                <div class="row stg-db-sec-one">
                    <div class="col" *ngFor="let objective of StrategyStore.objectives">
                        <div class="d-inline-block pointer">
                            <h5
                                [ngClass]="'font-normal text-11 mb-0 text-'+setTopObjectiveLabelColor(objective,'objective')">
                                {{'actual' | translate}}</h5>
                            <h6 [ngClass]="'text-20 mb-0 text-'+setTopObjectiveLabelColor(objective,'objective')">
                                {{objective?.score ?
                                (StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction ?
                                objective?.score : (objective?.score | number : '1.0-0')) :
                                AppStore.noContentText}} {{objective?.score ? objective?.target_unit_title : ''}}</h6>
                        </div>
                        <div class="d-inline-block cmn-bdr-right mr-3 ml-3" style="height: 15px;"></div>
                        <div class="d-inline-block pointer">
                            <h5 class="font-normal text-11 mb-0 text-black">{{'target' | translate}}</h5>
                            <h6 class="text-20 text-black mb-0">{{objective?.target ?
                                (StrategyManagementSettingStore?.strategyManagementSettings?.is_target_fraction ?
                                objective?.target : (objective?.target | number : '1.0-0')) :
                                AppStore.noContentText}} {{objective?.target_unit_title}}</h6>
                        </div>
                        <p class="mb-0 elips-2 pr-5 small-p">{{objective?.title ? objective?.title :
                            AppStore.noContentText}}</p>
                    </div>
                </div>
            </div>

            <div class="row sm-row">
                <div class="col-lg-4 col-sm-12 sm-col">
                    <div class="row sm-row">
                        <div class="col-3 sm-col" *ngIf="OrganizationModulesStore.checkIndividualSubModule(3200,53001)">
                            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                                <div class="db-md-screen-center db-stg-box-hight-two">
                                    <div class="w-100 pointer">
                                        <h5 class="text-22 mb-0 text-black font-extra-bold">
                                            {{StrategyDaashboardStore.strategyCountDetails?.total_strategy_profile_focus_areas}}
                                        </h5>
                                        <p class="small-p mb-0">{{'focus_area' | translate}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-9 sm-col">
                            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                                <div class="row sm-row align-items-center">
                                    <div class="col-3 sm-col">
                                        <h5 class="text-22 mb-0 text-black font-extra-bold">
                                            {{StrategyDaashboardStore.strategyCountDetails?.total_strategy_profile_objectives}}
                                        </h5>
                                        <p class="small-p  mb-0">{{'objective' | translate}}</p>
                                    </div>
                                    <div class="col-9 sm-col">
                                        <div class="row sm-row align-items-center db-stg-box-hight-two">
                                            <div class="col-4 sm-col">
                                                <h5 class="mb-1 text-black text-14">
                                                    {{StrategyDaashboardStore.strategyCountDetails?.new_strategy_profile_ovjectives}}
                                                </h5>
                                                <span
                                                    class="draft-tag draft-tag-light-green label-tag-style-tag label-left-arow-tag d-inline-block status-tag-new-one small-status-db">{{'new' | translate}}</span>
                                            </div>
                                            <div class="col-4 sm-col">
                                                <h5 class="mb-1 text-black text-14">
                                                    {{StrategyDaashboardStore.strategyCountDetails?.ongoing_strategy_profile_ovjectives}}
                                                </h5>
                                                <span
                                                    class="draft-tag draft-blue label-tag-style-tag label-left-arow-tag d-inline-block status-tag-new-one small-status-db">{{'ongoing' | translate}}</span>
                                            </div>
                                            <div class="col-4 sm-col">
                                                <h5 class="mb-1 text-black text-14">
                                                    {{StrategyDaashboardStore.strategyCountDetails?.closed_strategy_profile_ovjectives}}
                                                </h5>
                                                <span
                                                    class="draft-tag draft-tag-red label-tag-style-tag label-left-arow-tag d-inline-block status-tag-new-one small-status-db">{{'closed' | translate}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-sm-12 sm-col">
                    <div class="row sm-row">
                        <div class="col-9 sm-col">
                            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                                <div class="row sm-row align-items-center">
                                    <div class="col-3 sm-col">
                                        <h5 class="text-22 mb-0 text-black font-extra-bold">
                                            {{StrategyDaashboardStore.strategyCountDetails?.total_strategy_profile_objective_kpis}}
                                        </h5>
                                        <p class="small-p mb-0">KPI</p>
                                    </div>
                                    <div class="col-9 sm-col">
                                        <div class="row sm-row align-items-center db-stg-box-hight-two">
                                            <div class="col-4 sm-col">
                                                <h5 class="mb-1 text-black text-14">
                                                    {{StrategyDaashboardStore.strategyCountDetails?.new_strategy_profile_ovjective_kpis}}
                                                </h5>
                                                <span
                                                    class="draft-tag draft-tag-light-green label-tag-style-tag label-left-arow-tag d-inline-block status-tag-new-one small-status-db">New</span>
                                            </div>
                                            <div class="col-4 sm-col">
                                                <h5 class="mb-1 text-black text-14">
                                                    {{StrategyDaashboardStore.strategyCountDetails?.ongoing_strategy_profile_ovjective_kpis}}
                                                </h5>
                                                <span
                                                    class="draft-tag draft-blue label-tag-style-tag label-left-arow-tag d-inline-block status-tag-new-one small-status-db">Ongoing</span>
                                            </div>
                                            <div class="col-4 sm-col">
                                                <h5 class="mb-1 text-black text-14">
                                                    {{StrategyDaashboardStore.strategyCountDetails?.closed_strategy_profile_ovjective_kpis}}
                                                </h5>
                                                <span
                                                    class="draft-tag draft-tag-red label-tag-style-tag label-left-arow-tag d-inline-block status-tag-new-one small-status-db">Closed</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-3 sm-col">
                            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                                <div class="db-md-screen-center db-stg-box-hight-two">
                                    <div class="w-100">
                                        <h5 class="text-22 mb-0 text-black font-extra-bold">
                                            {{StrategyDaashboardStore.strategyCountDetails?.total_strategy_initiative}}
                                        </h5>
                                        <p class="small-p mb-0">{{'initiative' | translate}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-sm-12 sm-col">
                    <div class="row sm-row">
                        <div class="col-3 sm-col">
                            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                                <div class="db-md-screen-center db-stg-box-hight-two">
                                    <div class="w-100">
                                        <h5 class="text-22 mb-0 text-black font-extra-bold">
                                            {{StrategyDaashboardStore.strategyCountDetails?.total_milestone}}</h5>
                                        <p class="small-p mb-0"> {{'milestone' | translate}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-9 sm-col">
                            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                                <div class="row sm-row align-items-center">
                                    <div class="col-3 sm-col">
                                        <h5 class="text-22 mb-0 text-black font-extra-bold">
                                            {{StrategyDaashboardStore.strategyCountDetails?.total_strategy_initiative_action_plan}}
                                        </h5>
                                        <p class="small-p mb-0"> {{'action_plan' | translate}}</p>
                                    </div>
                                    <div class="col-9 sm-col">
                                        <div class="row sm-row align-items-center db-stg-box-hight-two">
                                            <div class="col-4 sm-col">
                                                <h5 class="mb-1 text-black text-14">
                                                    {{StrategyDaashboardStore.strategyCountDetails?.new_strategy_initiative_action_plan}}
                                                </h5>
                                                <span
                                                    class="draft-tag draft-tag-light-green label-tag-style-tag label-left-arow-tag d-inline-block status-tag-new-one small-status-db">New</span>
                                            </div>
                                            <div class="col-4 sm-col">
                                                <h5 class="mb-1 text-black text-14">
                                                    {{StrategyDaashboardStore.strategyCountDetails?.open_strategy_initiative_action_plan}}
                                                </h5>
                                                <span
                                                    class="draft-tag draft-blue label-tag-style-tag label-left-arow-tag d-inline-block status-tag-new-one small-status-db">Open</span>
                                            </div>
                                            <div class="col-4 sm-col">
                                                <h5 class="mb-1 text-black text-14">
                                                    {{StrategyDaashboardStore.strategyCountDetails?.closed_strategy_initiative_action_plan}}
                                                </h5>
                                                <span
                                                    class="draft-tag draft-tag-yellow label-tag-style-tag label-left-arow-tag d-inline-block status-tag-new-one small-status-db">Closed</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="focus-area-section"
                *ngIf="OrganizationModulesStore.checkIndividualSubModule(3200,53001) && StrategyDaashboardStore?.induvalProfile?.focus_area?.length > 0">
                <div class="blue-header text-center p-2">
                    <h5 class="text-white mb-0"> {{'focus_area' | translate}}</h5>
                </div>
                <div class="owl-focus-area-slider clearfix"
                    *ngIf="StrategyDaashboardStore?.induvalProfile?.focus_area?.length > 0">
                    <owl-carousel-o [options]="customOptions">
                        <ng-container
                            *ngFor="let focus of StrategyDaashboardStore?.induvalProfile?.focus_area; let focusInd = index">
                            <ng-template carouselSlide [id]="focus.id">
                                
                                <div class="item">
                                    <div class="widg-padding-cmn bg-white stg-slider-box">
                                        <h5 class="mb-0" *ngIf="focus.score != null">
                                            {{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                            ? focus.score : (focus.score | number : '1.0-0')}} %</h5>
                                        <h5 class="mb-0" *ngIf="focus.score == null">0 %</h5>
                                        <p class="mb-0 elips-3">{{focus.title ? focus.title : AppStore.noContentText}}
                                        </p>
                                    </div>
                                </div>
                                
                            </ng-template>
                        </ng-container>
                    </owl-carousel-o>
                </div>
            </div>

            <div class="focus-area-section objectives-section"
                *ngIf="StrategyDaashboardStore?.strategyObjectives?.length > 0">
                <div class="blue-header text-center p-2">
                    <h5 class="text-white mb-0"> {{'objectives' | translate}}</h5>
                </div>
                <div class="owl-focus-area-slider clearfix"
                    *ngIf="StrategyDaashboardStore?.strategyObjectives?.length > 0">
                    <owl-carousel-o [options]="customObjectiveOptions">
                        <ng-container
                            *ngFor="let objective of StrategyDaashboardStore?.strategyObjectives; let objIndex = index">
                            <ng-template carouselSlide [id]="objective.id">
                                <div class="item">
                                    <div class="bg-white widg-padding-cmn stg-slider-box">
                                        <h5 class="mb-0" *ngIf="objective.score != null">
                                            {{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                            ? objective.score : (objective.score | number : '1.0-0')}} %</h5>
                                        <h5 class="mb-0" *ngIf="objective.score == null">0 %</h5>
                                        <p class="mb-0 elips-3">{{objective?.title ? objective?.title :
                                            AppStore.noContentText}}</p>
                                    </div>
                                </div>
                            </ng-template>
                        </ng-container>
                    </owl-carousel-o>
                </div>
            </div>

            <div class="common-tab-md clearfix btm-space-10 stg-db-tab tab-same-height"
                *ngIf="StrategyDaashboardStore?.strategyInitiatives?.length > 0">
                <div class="tab-common-left-md">
                    <div class=" issues-tab">
                        
                        <div class="blue-header text-left p-2 pl-pr-25">
                            <h5 class="text-white mb-0"> {{'initiatives' | translate}}</h5>
                        </div>
                        <div class="left-tab-btns-scroll" #scrollArea style="max-height: 400px;overflow-y: auto;">
                        <ul class="nav nav-tabs nav-tabs--vertical nav-tabs--left vertical-tab" role="navigation"
                            *ngIf="StrategyDaashboardStore?.strategyInitiatives?.length > 0">
                            <li class="nav-item"
                                *ngFor="let init of StrategyDaashboardStore?.strategyInitiatives; let initIndex=index">
                                <a [ngClass]="selectedInitiativeIndex == initIndex ? 'nav-link pl-pr-25 active' : 'nav-link pl-pr-25'"
                                    data-toggle="tab" role="tab" aria-controls="lorem" aria-selected="false"
                                    (click)="getMIlestoneOrActionPlan(initIndex,init?.id)">
                                    <span class="d-flex">
                                        <span class="w-40 text-14 bold text-black"
                                            *ngIf="init.score != null">{{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                            ? init.score : (init.score | number : '1.0-0')}} %</span>
                                        <span class="w-40 text-14 bold text-black" *ngIf="init.score == null">0 %</span>
                                        <span class="w-60">
                                            <span class="mr-3">
                                                <span
                                                    class="bold text-12 text-red mr-1">{{init?.closed_action_plans_count?init?.closed_action_plans_count:'0'}}
                                                </span>
                                                <span class="text-12 cmn-clr">{{'closed' | translate}}</span>
                                            </span>
                                            <span class="text-right">
                                                <span
                                                    class="bold text-14 text-green mr-1">{{init?.open_action_plans_count?init?.open_action_plans_count:'0'}}
                                                </span>
                                                <span class="text-12 cmn-clr">{{'open' | translate}}</span>
                                            </span>
                                        </span>
                                    </span>
                                    <span class="d-block text-12 cmn-clr">{{init?.title ? init?.title :
                                        AppStore.noContentText}}</span>
                                </a>
                            </li>
                        </ul>
                        </div>
                    </div>
                </div>

                <div class="tab-common-left-content-m">
                    <div class="tab-content widg-padding-cmn-small bg-white cmn-bdr pb-2" style="min-height: 275px;">
                        <div class="tab-pane fade active show" id="tab-one" role="tabpanel">
                            
                            <div class="col-md-12" *mobxAutorun>
                                <div class="assessment-user-box text-center" style="height: 250px;"
                                    *ngIf="StrategyInitiativeStore.milesstones?.length == 0 && StrategyInitiativeStore.actionPlans?.length == 0">
                                    <app-no-data [height]="true" [border]="false"></app-no-data>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-12" *ngIf="StrategyInitiativeStore.milesstones.length > 0 ">
                                    <div *ngFor="let milestone of StrategyInitiativeStore.milesstones;let num = index"
                                        class="panel-group panel-drop-sections panel-drop-white" id="jd" role="tablist"
                                        aria-multiselectable="true">
                                        <div class="panel panel-default">
                                            <div [ngClass]="accordionIndex == num ? 'panel-heading active' : 'panel-heading'"
                                                role="tab" id="headingOne">
                                                <div class="panel-title">
                                                    <a (click)="getActionPlanIndex(num)" role="button"
                                                        data-toggle="collapse" aria-expanded="false"
                                                        aria-controls="collapseOne"
                                                        [ngClass]="accordionIndex == num ?'collapsed':''">
                                                        <h5 class="width96pc mt-0">{{milestone.title}}
                                                            <span class="small-text li"> | {{milestone.start_date |
                                                                date:
                                                                OrganizationGeneralSettingsStore.organizationSettings?.date_format}}
                                                                - {{milestone.end_date
                                                                | date:
                                                                OrganizationGeneralSettingsStore.organizationSettings?.date_format}}</span><span
                                                                class="small-text"> | Budget
                                                                {{OrganizationGeneralSettingsStore?.organizationSettings?.currency}}
                                                                {{milestone.budget}}</span><span
                                                                class="drop-down-icone"><i
                                                                    class="fas fa-chevron-down"></i></span>
                                                        </h5>
                                                    </a>
                                                </div>
                                            </div>

                                            <div id="ceo904"
                                                [ngClass]="accordionIndex == num ? 'drop-detail-sec panel-collapse collapse show' : 'drop-detail-sec panel-collapse collapse'"
                                                role="tabpanel" aria-labelledby="headingOne" data-parent="#jd" style="">
                                                <div class="panel-body bg-white">

                                                    <div class="row"
                                                        *ngIf="milestone.strategy_initiative_milestone_action_plans?.length > 0">
                                                        <div class="col-sm-12">
                                                            <div class="d-flex stg-intiatives-clr-box-main-new"
                                                                *ngFor="let plan of milestone.strategy_initiative_milestone_action_plans;let ind = index">
                                                                <div
                                                                    class="stg-intiatives-box-cmn stg-intiatives-box-one">
                                                                    <div
                                                                        class="stg-intiatives-clr-box-new db-bg-light-blue text-head text-14 font-weight-700">
                                                                        {{plan.title}}</div>
                                                                </div>
                                                                <div
                                                                    class="stg-intiatives-box-cmn stg-intiatives-box-two">
                                                                    <div
                                                                        [ngClass]="'stg-intiatives-clr-box-new text-white text-center bg-'+setTopObjectiveLabelColor(plan,'actionplan')">
                                                                        <span class="text-12 mr-2">{{'actual' | translate}}<span
                                                                                class="bold text-12">{{plan.actual_value
                                                                                ? plan.actual_value :
                                                                                '0'}}{{plan.target_unit?.title}}</span></span>
                                                                        <span class="text-12"> {{'target' | translate}}<span
                                                                                class="font-weight-600 text-12">{{plan.target
                                                                                ? plan.target :
                                                                                '0'}} {{plan.target_unit?.title}}</span></span>
                                                                    </div>
                                                                </div>
                                                                <div
                                                                    class="stg-intiatives-box-cmn stg-intiatives-box-two">
                                                                    <div
                                                                        class="stg-intiatives-clr-box-new db-bg-light-blue text-head text-center text-13 font-weight-700">
                                                                        {{plan.start_date | date:
                                                                        OrganizationGeneralSettingsStore.organizationSettings?.date_format}}
                                                                        - {{plan.end_date | date:
                                                                        OrganizationGeneralSettingsStore.organizationSettings?.date_format}}
                                                                    </div>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                    
                                                    <div class="col-md-12" *mobxAutorun>
                                                        <div class="assessment-user-box text-center" style="height: 180px;"
                                                            *ngIf="milestone.strategy_initiative_milestone_action_plans?.length == 0">
                                                            <app-no-data [height]="true" [border]="false"></app-no-data>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12" *ngIf="StrategyInitiativeStore.actionPlans.length > 0">
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="d-flex stg-intiatives-clr-box-main-new"
                                                *ngFor="let plans of StrategyInitiativeStore.actionPlans;let planInd = index">
                                                <div class="stg-intiatives-box-cmn stg-intiatives-box-one">
                                                    <div
                                                        class="stg-intiatives-clr-box-new db-bg-light-blue text-head text-14 font-weight-700">
                                                        {{plans.title}}</div>
                                                </div>
                                                <div class="stg-intiatives-box-cmn stg-intiatives-box-two">
                                                    <div
                                                        [ngClass]="'stg-intiatives-clr-box-new text-white text-center bg-'+setTopObjectiveLabelColor(plans,'actionplan')">
                                                        <span class="text-12 mr-2">{{'actual' | translate}}<span
                                                                class="bold text-12">{{plans.actual_value ?
                                                                plans.actual_value :
                                                                '0'}}{{plans.target_unit_title}}</span></span> <span
                                                            class="text-12">{{'target' | translate}}<span
                                                                class="font-weight-600 text-12">{{plans.target ?
                                                                plans.target :
                                                                '0'}} {{plans.target_unit_title}}</span></span>
                                                    </div>
                                                </div>
                                                <div class="stg-intiatives-box-cmn stg-intiatives-box-two">
                                                    <div
                                                        class="stg-intiatives-clr-box-new db-bg-light-blue text-head text-center text-13 font-weight-700">
                                                        {{plans.start_date | date:
                                                        OrganizationGeneralSettingsStore.organizationSettings?.date_format}}
                                                        - {{plans.end_date | date:
                                                        OrganizationGeneralSettingsStore.organizationSettings?.date_format}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <div class="key-performance-indicator">
                <div class="blue-header text-center p-2 stg-key-pi-filter">
                    <h5 class="text-white mb-0">{{'kpi_full_form' | translate}}</h5>
                </div>

                
                <div class="common-tab-md clearfix key-performance-indicator-tab tab-same-height"
                    *ngIf="StrategyDaashboardStore.kpiScoreCount || StrategyDaashboardStore.kpiScoreCount?.length > 0">
                    <div class="tab-common-left-md">
                        <div class=" issues-tab">
                            
                            <ul class="nav nav-tabs nav-tabs--vertical nav-tabs--left vertical-tab" role="navigation">
                                <li class="nav-item"
                                    *ngFor="let k of StrategyDaashboardStore.kpiScoreCount;let num = index">
                                    <a [ngClass]=" selectedPos == num ? 'nav-link active' : 'nav-link'"
                                        data-toggle="tab" role="tab" aria-controls="lorem" aria-selected="false"
                                        (click)="selectedKpi(num,k)">
                                        <div class="row sm-row align-items-center">
                                            <div class="col-9 sm-col">
                                                <h5>{{k.kpi_title}}</h5>
                                                <div class="paragraph-texts-loop left-dot-and-line">
                                                    <p class="small-p mb-0 pb-2">{{k.focus_area_title}}</p>
                                                    <p class="small-p mb-0 last-line-remove">{{k.objective_title}}</p>
                                                </div>
                                            </div>
                                            <div class="col-3 sm-col">
                                                <div class="cmn-bdr stg-box-tab-inner text-center bg-white">
                                                    <h6
                                                        [ngClass]="'font-normal mb-0 text-'+setTopObjectiveLabelColor(k,'kpi')">
                                                        {{'actual' | translate}}</h6>
                                                    <h6
                                                        [ngClass]="'mb-0 text-20 font-black mb-1 text-'+setTopObjectiveLabelColor(k,'kpi')">
                                                        {{k.score ? k.score : '0'}} {{k.score ? k.target_unit_title :
                                                        ''}}</h6>

                                                    <h6 class="font-normal cmn-clr mb-0">{{'target' | translate}}</h6>
                                                    <h6 class="mb-0 text-22 text-black mb-1">{{k.target ?
                                                        k.target : '0'}} {{k.target ? k.target_unit_title : ''}}
                                                    </h6>
                                                </div>
                                                <div
                                                    [ngClass]="'text-center text-white text-12 p-1 bg-'+setTopObjectiveLabelColor(k,'kpi')">
                                                    {{'achieved' | translate}}</div>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="tab-common-left-content-m" *ngIf="StrategyDaashboardStore.kpiScoreCount?.length > 0">
                        <div class="tab-content widg-padding-cmn-small bg-white cmn-bdr"
                            [style.height]="getChartWidth()">
                            <div class="tab-pane fade active show" id="stg-key-pi-tab-one" role="tabpanel">

                                <div *ngIf="!freequencies" class="focus-group-chart">
                                    <div id="barChart1" style="width: 100%;height: 406px;"></div>
                                </div>
                                <div class="ceo-db-aut-sec-row-height db-md-screen-center" *ngIf="freequencies"
                                    style="min-height: 406px;">
                                    <app-no-chart-data [source]="kpiData">
                                    </app-no-chart-data>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <ng-container *mobxAutorun>
                    <app-no-data-list [source]="criteriaEmptyList"
                        *ngIf="!StrategyDaashboardStore.kpiScoreCount || StrategyDaashboardStore.kpiScoreCount?.length == 0">
                    </app-no-data-list>
                </ng-container>
            </div>

        </div>
    </div>
</main> -->


<!-- ---------------------------------------------------------------------------- -->

<main class="mt-3 acl-page cmn-p-15" *ngIf="StrategyStore.allItems.length > 0 && strategy_dashboard_loader">
    <div class="container-fluid">

        <div class="widget">
          
            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow stg-sec-one-slider" *ngIf="StrategyStore.objectives?.length > 0">
                <div class="owl-focus-area-slider clearfix" *ngIf="StrategyStore.objectives?.length > 0">
                    <owl-carousel-o [options]="customOptions">
                        <ng-container *ngFor="let objective of StrategyStore.objectives">
                            <ng-template carouselSlide [id]="objective.id">
                                <div class="item">
                                    <div class="stg-db-sec-one">
                                        <div class="d-inline-block">
                                            <h5 [ngClass]="'font-normal text-11 mb-0 text-'+setTopObjectiveLabelColor(objective,'objective')">{{'actual' | translate}}</h5>
                                            <h6 [ngClass]="'text-20 mb-0 text-'+setTopObjectiveLabelColor(objective,'objective')">{{objective?.score ?
                                                (StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction ?
                                                objective?.score : (objective?.score | number : '1.0-0')) :
                                                AppStore.noContentText}} {{objective?.score ? objective?.target_unit_title : ''}}
                                            </h6>
                                        </div>
                                        <div class="d-inline-block cmn-bdr-right mr-3 ml-3" style="height: 15px;"></div>
                                        <div class="d-inline-block">
                                            <h5 class="font-normal text-11 mb-0 text-black">{{'target' | translate}}</h5>
                                            <h6 class="text-20 text-black mb-0">{{objective?.target ?
                                                (StrategyManagementSettingStore?.strategyManagementSettings?.is_target_fraction ?
                                                objective?.target : (objective?.target | number : '1.0-0')) :
                                                AppStore.noContentText}} {{objective?.target_unit_title}}</h6>
                                        </div>
                                        <p class="mb-0 elips-2 pr-5 small-p">{{objective?.title ? objective?.title :
                                            AppStore.noContentText}}</p>
                                    </div>
                                </div>
                            </ng-template>
                        </ng-container>
                    </owl-carousel-o>
                </div>
            </div>

            <div class="row sm-row">
                <div class="col-lg-4 col-sm-12 sm-col">
                    <div class="row sm-row">
                        <div class="col-3 sm-col" *ngIf="OrganizationModulesStore.checkIndividualSubModule(3200,53001)">
                            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                                <div class="db-md-screen-center db-stg-box-hight-two">
                                    <div class="w-100">
                                        <h5 class="text-22 mb-0 text-black font-extra-bold">{{StrategyDaashboardStore.strategyCountDetails?.total_strategy_profile_focus_areas}}</h5>
                                        <p class="small-p mb-0">{{'focus_area' | translate}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-9 sm-col">
                            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                                <div class="row sm-row align-items-center">
                                    <div class="col-3 sm-col">
                                        <h5 class="text-22 mb-0 text-black font-extra-bold">{{StrategyDaashboardStore.strategyCountDetails?.total_strategy_profile_objectives}}</h5>
                                        <p class="small-p mb-0">{{'objective' | translate}}</p>
                                    </div>
                                    <div class="col-9 sm-col">
                                        <div class="row sm-row align-items-center db-stg-box-hight-two">
                                            <div class="col-4 sm-col">
                                                <h5 class="mb-1 text-black text-14">{{StrategyDaashboardStore.strategyCountDetails?.new_strategy_profile_ovjectives}}</h5>
                                                <span class="draft-tag draft-tag-light-green label-tag-style-tag label-left-arow-tag d-inline-block status-tag-new-one small-status-db">{{'new' | translate}}</span>
                                            </div>
                                            <div class="col-4 sm-col">
                                                <h5 class="mb-1 text-black text-14">{{StrategyDaashboardStore.strategyCountDetails?.ongoing_strategy_profile_ovjectives}}</h5>
                                                <span class="draft-tag draft-blue label-tag-style-tag label-left-arow-tag d-inline-block status-tag-new-one small-status-db">{{'ongoing' | translate}}</span>
                                            </div>
                                            <div class="col-4 sm-col">
                                                <h5 class="mb-1 text-black text-14">{{StrategyDaashboardStore.strategyCountDetails?.closed_strategy_profile_ovjectives}}</h5>
                                                <span class="draft-tag draft-tag-red label-tag-style-tag label-left-arow-tag d-inline-block status-tag-new-one small-status-db">{{'closed' | translate}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div> 
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-sm-12 sm-col">
                    <div class="row sm-row">
                        <div class="col-9 sm-col">
                            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                                <div class="row sm-row align-items-center">
                                    <div class="col-3 sm-col">
                                        <h5 class="text-22 mb-0 text-black font-extra-bold">{{StrategyDaashboardStore.strategyCountDetails?.total_strategy_profile_objective_kpis}}</h5>
                                        <p class="small-p mb-0">KPI</p>
                                    </div>
                                    <div class="col-9 sm-col">
                                        <div class="row sm-row align-items-center db-stg-box-hight-two">
                                            <div class="col-4 sm-col">
                                                <h5 class="mb-1 text-black text-14">{{StrategyDaashboardStore.strategyCountDetails?.new_strategy_profile_ovjective_kpis}}</h5>
                                                <span class="draft-tag draft-tag-light-green label-tag-style-tag label-left-arow-tag d-inline-block status-tag-new-one small-status-db">{{'new' | translate}}</span>
                                            </div>
                                            <div class="col-4 sm-col">
                                                <h5 class="mb-1 text-black text-14">{{StrategyDaashboardStore.strategyCountDetails?.ongoing_strategy_profile_ovjective_kpis}}</h5>
                                                <span class="draft-tag draft-blue label-tag-style-tag label-left-arow-tag d-inline-block status-tag-new-one small-status-db">{{'ongoing' | translate}}</span>
                                            </div>
                                            <div class="col-4 sm-col">
                                                <h5 class="mb-1 text-black text-14">{{StrategyDaashboardStore.strategyCountDetails?.closed_strategy_profile_ovjective_kpis}}</h5>
                                                <span class="draft-tag draft-tag-red label-tag-style-tag label-left-arow-tag d-inline-block status-tag-new-one small-status-db">{{'closed' | translate}}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div> 
                            </div>
                        </div>
                        <div class="col-3 sm-col">
                            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                                <div class="db-md-screen-center db-stg-box-hight-two">
                                    <div class="w-100">
                                        <h5 class="text-22 mb-0 text-black font-extra-bold">{{StrategyDaashboardStore.strategyCountDetails?.total_strategy_initiative}}</h5>
                                        <p class="small-p mb-0">{{'initiative' | translate}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-sm-12 sm-col">
                    <div class="row sm-row">
                        <div class="col-3 sm-col">
                            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                                <div class="db-md-screen-center db-stg-box-hight-two">
                                    <div class="w-100">                                      
                                        <h5 class="text-22 mb-0 text-black font-extra-bold">
                                            {{StrategyDaashboardStore.strategyCountDetails?.total_milestone}}</h5>
                                        <p class="small-p mb-0"> {{'milestone' | translate}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-9 sm-col">
                            <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                                <div class="row sm-row align-items-center">
                                    <div class="col-3 sm-col">
                                        <h5 class="text-22 mb-0 text-black font-extra-bold">{{StrategyDaashboardStore.strategyCountDetails?.total_strategy_initiative_action_plan}}</h5>
                                        <p class="small-p mb-0">{{'action_plan' | translate}}</p>
                                    </div>
                                    <div class="col-9 sm-col">
                                        <div class="row sm-row align-items-center db-stg-box-hight-two">
                                            <div class="col-4 sm-col">
                                                <h5 class="mb-1 text-black text-14">{{StrategyDaashboardStore.strategyCountDetails?.new_strategy_initiative_action_plan}}</h5>
                                                <span class="draft-tag draft-tag-light-green label-tag-style-tag label-left-arow-tag d-inline-block status-tag-new-one small-status-db">New</span>
                                            </div>
                                            <div class="col-4 sm-col">
                                                <h5 class="mb-1 text-black text-14">{{StrategyDaashboardStore.strategyCountDetails?.open_strategy_initiative_action_plan}}</h5>
                                                <span class="draft-tag draft-blue label-tag-style-tag label-left-arow-tag d-inline-block status-tag-new-one small-status-db">Open</span>
                                            </div>
                                            <div class="col-4 sm-col">
                                                <h5 class="mb-1 text-black text-14"> {{StrategyDaashboardStore.strategyCountDetails?.closed_strategy_initiative_action_plan}}</h5>
                                                <span class="draft-tag draft-tag-yellow label-tag-style-tag label-left-arow-tag d-inline-block status-tag-new-one small-status-db">Closed</span>
                                            </div>
                                        </div>
                                    </div>
                                </div> 
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="focus-area-section" *ngIf="OrganizationModulesStore.checkIndividualSubModule(3200,53001) && StrategyStore?.focusAreas?.length > 0">
                <div class="bg-white widg-padding-cmn pb-2">
                    <h5 class="text-orange mb-0">{{'focus_area' | translate}}</h5>
                </div>
                <hr class="m-0">

                <div class="bg-white widg-padding-cmn stg-db-focus-area-slider btm-space-10">
                    <div class="owl-focus-area-slider clearfix" *ngIf="StrategyStore?.focusAreas?.length > 0">
                        <owl-carousel-o [options]="customOptions">
                            <ng-container
                                *ngFor="let focus of StrategyStore?.focusAreas; let focusInd = index">
                                <ng-template carouselSlide [id]="focus.id">
                                    <div class="item" (click)="getWithFocusAreaId(focus.id,focusInd)">
                                        <div [ngClass]="selectedFocusIndex == focusInd ? 'box-label active-orange' : 'box-label' ">
                                            <h5 class="mb-0 text-20" *ngIf="focus.score != null">{{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                                ? focus.score : (focus.score | number : '1.0-0')}} %
                                                <span class="text-15 font-normal ml-2 elips-1">{{focus.title ? focus.title : AppStore.noContentText}}
                                                </span>
                                            </h5>
                                            <h5 class="mb-0 text-20" *ngIf="focus.score == null">0 %
                                                <span class="text-15 font-normal ml-2 elips-1">{{focus.title ? focus.title : AppStore.noContentText}}
                                                </span>
                                            </h5>                         
                                        </div>
                                    </div>
                                </ng-template>
                            </ng-container>
                        </owl-carousel-o>
                    </div>
                </div>
            </div>

            <div class="focus-area-section" *ngIf="StrategyDaashboardStore?.strategyObjectives?.length > 0">
                <div class="bg-white widg-padding-cmn pb-2">
                    <h5 class="text-dark-pink mb-0">{{'objectives' | translate}}</h5>
                </div>
                <hr class="m-0">

                <div class="bg-white widg-padding-cmn stg-db-focus-area-slider btm-space-10">
                    <div class="owl-focus-area-slider clearfix">
                        <owl-carousel-o [options]="customObjectiveOptions">
                            <ng-container *ngFor="let objective of StrategyDaashboardStore?.strategyObjectives; let objIndex = index">
                                <ng-template carouselSlide [id]="objective.id">
                                    <div class="item" (click)="getWithObjectiveId(objective.id,objIndex)">
                                        <div class="box-label">
                                            <h5 class="mb-0 text-20 d-flex" *ngIf="objective.score != null"><span style="width: 80px;">{{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                                ? objective.score : (objective.score | number : '1.0-0')}} %</span>
                                                <span class="text-15 font-normal ml-2 elips-1 w-100">{{objective?.title ? objective?.title : AppStore.noContentText}}</span>
                                            </h5>
                                            <h5 class="mb-0 text-20" *ngIf="objective.score == null">0 %
                                                <span class="text-15 font-normal ml-2 elips-1">{{objective?.title ? objective?.title : AppStore.noContentText}}</span>
                                            </h5>
                                            <div class="box-label-score">
                                                <div class="row sm-row">
                                                    <div class="col-sm-2 col-4 sm-col">
                                                        <div class="box-label-score-inner">
                                                            <h6 class="mb-0 text-12">{{objective?.risk_count}}</h6>
                                                            <h4 class="mb-0 text-13">{{'risk' | translate}}</h4>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-2 col-4 sm-col">
                                                        <div class="box-label-score-inner">
                                                            <h6 class="mb-0 text-12">{{objective?.risk_open_count}}</h6>
                                                            <h4 class="mb-0 text-13 text-red">{{'open' | translate}}</h4>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-2 col-4 sm-col">
                                                        <div class="box-label-score-inner">
                                                            <h6 class="mb-0 text-12">{{objective?.risk_closed_count}}</h6>
                                                            <h4 class="mb-0 text-13 text-green">{{'closed' | translate}}</h4>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-2 col-4 sm-col">
                                                        <div class="box-label-score-inner">
                                                            <h6 class="mb-0 text-12 text-dark-red">{{objective?.risk_high_count}}</h6>
                                                            <h4 class="mb-0 text-13 text-dark-red">{{'high' | translate}}</h4>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-2 col-4 sm-col">
                                                        <div class="box-label-score-inner">
                                                            <h6 class="mb-0 text-12 text-yellow">{{objective?.risk_medium_count}}</h6>
                                                            <h4 class="mb-0 text-13 text-yellow">{{'medium' | translate}}</h4>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-2 col-4 sm-col">
                                                        <div class="box-label-score-inner">
                                                            <h6 class="mb-0 text-12 text-light-green">{{objective?.risk_low_count}}</h6>
                                                            <h4 class="mb-0 text-13 text-light-green">{{'low' | translate}}</h4>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </ng-template>
                            </ng-container>
                        </owl-carousel-o>
                    </div>
                </div>
            </div>

            <div class="focus-area-section" *ngIf="StrategyDaashboardStore?.strategyInitiatives?.length > 0">
                <div class="bg-white widg-padding-cmn pb-2">
                    <h5 class="mb-0">{{'initiatives' | translate}}</h5>
                </div>
                <!-- <hr class="m-0"> -->

                <!-- common-tab-md starts -->
                  <div class="common-tab-md clearfix btm-space-10 stg-db-tab tab-same-height">
                    <div class="tab-common-left-md">
                      <div class=" issues-tab scroll-line-small sroll-right-end"><!-- tab menu start -->
                        
                        <div class="left-tab-btns-scroll" #scrollArea *mobxAutorun>
                            <ul class="nav nav-tabs nav-tabs--vertical nav-tabs--left vertical-tab" role="navigation"
                                *ngIf="StrategyDaashboardStore?.strategyInitiatives?.length > 0">
                                <li class="nav-item" *ngFor="let init of StrategyDaashboardStore?.strategyInitiatives; let initIndex=index">
                                    <a [ngClass]="selectedInitiativeIndex == initIndex ? 'nav-link pl-pr-25 active' : 'nav-link pl-pr-25'"
                                        data-toggle="tab" role="tab" aria-controls="lorem" aria-selected="false" 
                                        (click)="getMIlestoneOrActionPlan(initIndex,init?.id,init)">
                                        <div class="status-tag-new-two bg-very-light-blue">
                                            <span class="mr-3">
                                                <span class="bold text-12 text-red mr-2">{{init?.closed_action_plans_count ? init?.closed_action_plans_count:'0'}}</span>
                                                <span class="text-12 cmn-clr">{{'closed' | translate}}</span>
                                            </span>
                                            <span class="text-right">
                                                <span class="bold text-14 text-green mr-2">{{init?.open_action_plans_count?init?.open_action_plans_count:'0'}}</span>
                                                <span class="text-12 cmn-clr">{{'open'|translate}}</span>
                                            </span>
                                        </div>
                                        <span class="d-flex align-items-center pt-2 w-100">
                                            <span *ngIf="init.score != null"
                                                class="text-14 bold text-black mr-2" style="width: 60px;">{{StrategyManagementSettingStore?.strategyManagementSettings?.is_weightage_fraction
                                                ? init.score : (init.score | number : '1.0-0')}} %</span>
                                            <span *ngIf="init.score == null"
                                                class="text-14 bold text-black mr-2" style="width: 60px;">0 %</span>
                                            <span class="text-12 cmn-clr w-100">{{init?.title ? init?.title : AppStore.noContentText}}</span>
                                        </span>                        
                                    </a>
                                </li>
                            </ul>
                        </div>
                      </div><!-- tab menu end -->
                    </div>

                    <div class="tab-common-left-content-m">
                      <div class="tab-content widg-padding-cmn-small bg-white cmn-bdr pb-2">
                        <div class="tab-pane fade active show" id="tab-one" role="tabpanel">
                                            
                            <div class="row">
                                <div class="col-md-12" >
                        
                                    <div class="row sm-row">
                                        <div class="col-sm-6 sm-col" *ngIf="initDetails?.strategy_profile_focus_areas?.length > 0">
                                            <span
                                                class="label-work-flow-audit mapping-label mapping-label-orange position-unset-label box-shadow-none">{{'focus_area' | translate}}</span>
                                            <ul class="arrowlist arrowlist-small arrowlist-orange mt-1 p-0" *ngFor="let focus of initDetails.strategy_profile_focus_areas">
                                                <li class="elips-1">{{focus.focus_area?.title}}</li>                                            
                                            </ul>
                                        </div>

                                        <div class="col-sm-6 sm-col" *ngIf="initDetails?.strategy_profile_objectives?.length > 0">
                                            <span
                                                class="label-work-flow-audit mapping-label mapping-label-pink position-unset-label box-shadow-none">{{'objective' | translate}}</span>
                        
                                            <ul class="arrowlist arrowlist-small arrowlist-pink mt-1 p-0" *ngFor="let objective of initDetails.strategy_profile_objectives">
                                                <li class="elips-1">{{objective.objective?.title}}</li>                                              
                                            </ul>
                        
                                        </div>
                                    </div>
                        
                                    <div class="panel-group panel-drop-sections panel-drop-white" id="jd" role="tablist"
                                        aria-multiselectable="true"
                                        *ngIf="StrategyInitiativeStore.milesstones.length > 0 ">
                                        <div class="panel panel-default" *ngFor="let milestone of StrategyInitiativeStore.milesstones;let num = index">
                                            <div [ngClass]="accordionIndex == num ? 'panel-heading active' : 'panel-heading'" role="tab"
                                                id="headingOne">
                                                <div class="panel-title">
                                                    <a (click)="getActionPlanIndex(num)" role="button" data-toggle="collapse"
                                                        aria-expanded="false" aria-controls="collapseOne"
                                                        [ngClass]="accordionIndex == num ?'collapsed':''">
                                                        <h5 class="width96pc mt-0">{{milestone.title}}
                                                            <span class="small-text li"> | {{milestone.start_date |
                                                                date:
                                                                OrganizationGeneralSettingsStore.organizationSettings?.date_format}}
                                                                - {{milestone.end_date
                                                                | date:
                                                                OrganizationGeneralSettingsStore.organizationSettings?.date_format}}</span><span
                                                                class="small-text"> |
                                                                Budget
                                                                {{OrganizationGeneralSettingsStore?.organizationSettings?.currency}}
                                                                {{milestone.budget}}</span><span class="drop-down-icone"><i
                                                                    class="fas fa-chevron-down"></i></span>
                                                        </h5>
                                                    </a>
                                                </div>
                                            </div>
                        
                                            <div id="ceo904" [ngClass]="accordionIndex == num ? 'drop-detail-sec panel-collapse collapse show' : 'drop-detail-sec panel-collapse collapse'"
                                                 role="tabpanel" aria-labelledby="headingOne" data-parent="#jd">
                                                <div class="panel-body bg-white">
                                                    <div class="row" *ngIf="milestone.strategy_initiative_milestone_action_plans?.length > 0">
                                                        <div class="col-sm-12">
                                                            <div class="d-flex stg-intiatives-clr-box-main-new" *ngFor="let plan of milestone.strategy_initiative_milestone_action_plans;let ind = index">
                                                                <div class="stg-intiatives-box-cmn stg-intiatives-box-one">
                                                                    <div class="stg-intiatives-clr-box-new db-bg-light-blue text-head text-14 font-weight-700">
                                                                        {{plan.title}}</div>
                                                                </div>
                                                                <div class="stg-intiatives-box-cmn stg-intiatives-box-two">
                                                                    <div [ngClass]="'stg-intiatives-clr-box-new text-white text-center bg-'+setTopObjectiveLabelColor(plan,'actionplan')">
                                                                        <span class="text-12 mr-2">{{'actual' | translate}}<span class="bold text-12 ml-1">{{plan.actual_value
                                                                                ? plan.actual_value :
                                                                                '0'}} {{plan.target_unit?.title}}</span></span>
                                                                        <span class="text-12"> {{'target' | translate}}<span class="font-weight-600 text-12 ml-1">{{plan.target
                                                                                ? plan.target :
                                                                                '0'}} {{plan.target_unit?.title}}</span></span>
                                                                    </div>
                                                                </div>
                                                                <div class="stg-intiatives-box-cmn stg-intiatives-box-two">                          
                                                                    <div class="stg-intiatives-clr-box-new db-bg-light-blue text-head text-center text-13 font-weight-700">
                                                                        {{plan.start_date | date:
                                                                        OrganizationGeneralSettingsStore.organizationSettings?.date_format}}
                                                                        - {{plan.end_date | date:
                                                                        OrganizationGeneralSettingsStore.organizationSettings?.date_format}}
                                                                    </div>
                                                                </div>
                                                            </div>                                                        
                                                        </div>
                                                    </div>
                                                    <div class="col-md-12" *mobxAutorun>
                                                        <div class="assessment-user-box text-center"
                                                            *ngIf="milestone.strategy_initiative_milestone_action_plans?.length == 0">
                                                            <app-no-data [height]="true" [border]="false"></app-no-data>
                                                            <!-- <app-no-data-list [source]="criteriaEmptyList"></app-no-data-list> -->
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>                                                        
                                    </div>

                                    <ng-container *mobxAutorun>
                                        <div *ngIf="!StrategyInitiativeStore.mileStonesLoaded">
                                            <app-strategy-dashboard-initiative-loader></app-strategy-dashboard-initiative-loader>
                                        </div>
                                        <app-no-data *ngIf="(StrategyInitiativeStore.mileStonesLoaded && StrategyInitiativeStore.milesstones?.length == 0) && StrategyInitiativeStore.actionPlans?.length == 0" [height]="true" [border]="false"></app-no-data>
                                    </ng-container>

                        
                                </div>
                                <div class="col-md-12" *ngIf="StrategyInitiativeStore.actionPlans.length > 0">
                                    <div class="row sm-row">
                                        <div class="col-sm-6 sm-col" *ngIf="initDetails?.strategy_profile_focus_areas?.length > 0">
                                            <span
                                                class="label-work-flow-audit mapping-label mapping-label-orange position-unset-label box-shadow-none">{{'focus_area' | translate}}</span>
                        
                                            <ul class="arrowlist arrowlist-small arrowlist-orange mt-1 p-0" *ngFor="let focus of initDetails.strategy_profile_focus_areas">
                                                <li class="elips-1">{{focus.focus_area?.title}}</li>                                            
                                            </ul>                     
                                        </div>
                                        <div class="col-sm-6 sm-col" *ngIf="initDetails?.strategy_profile_objectives?.length > 0">
                                            <span
                                                class="label-work-flow-audit mapping-label mapping-label-pink position-unset-label box-shadow-none">{{'objective' | translate}}</span>                    
                                            <ul class="arrowlist arrowlist-small arrowlist-pink mt-1 p-0" *ngFor="let objective of initDetails.strategy_profile_objectives">
                                                <li class="elips-1">{{objective.objective?.title}}</li>                                            
                                            </ul>                    
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-12">
                                            <div class="d-flex stg-intiatives-clr-box-main-new"
                                                *ngFor="let plans of StrategyInitiativeStore.actionPlans;let planInd = index">
                                                <div class="stg-intiatives-box-cmn stg-intiatives-box-one">
                                                    <div
                                                        class="stg-intiatives-clr-box-new db-bg-light-blue text-head text-14 font-weight-700">
                                                        {{plans.title}}</div>
                                                </div>
                                                <div class="stg-intiatives-box-cmn stg-intiatives-box-two">
                                                    <div
                                                        [ngClass]="'stg-intiatives-clr-box-new text-white text-center bg-'+setTopObjectiveLabelColor(plans,'actionplan')">
                                                        <span class="text-12 mr-2">{{'actual' | translate}}<span
                                                                class="bold text-12 ml-1">{{plans.actual_value ?
                                                                plans.actual_value :
                                                                '0'}} {{plans.target_unit_title}}</span></span> <span
                                                            class="text-12">{{'target' | translate}}<span
                                                                class="font-weight-600 text-12 ml-1">{{plans.target ?
                                                                plans.target :
                                                                '0'}} {{plans.target_unit_title}}</span></span>
                                                    </div>
                                                </div>
                                                <div class="stg-intiatives-box-cmn stg-intiatives-box-two">
                                                    <div
                                                        class="stg-intiatives-clr-box-new db-bg-light-blue text-head text-center text-13 font-weight-700">
                                                        {{plans.start_date | date:
                                                        OrganizationGeneralSettingsStore.organizationSettings?.date_format}}
                                                        - {{plans.end_date | date:
                                                        OrganizationGeneralSettingsStore.organizationSettings?.date_format}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- <ng-container *mobxAutorun>
                                    <div *ngIf="!StrategyInitiativeStore.mileStonesLoaded">
                                        <app-strategy-dashboard-initiative-loader></app-strategy-dashboard-initiative-loader>
                                    </div>
                                    <app-no-data *ngIf="StrategyInitiativeStore.actionPlans?.length == 0" [height]="true" [border]="false"></app-no-data>
                                </ng-container> -->
                            </div>
                        
                            <!-- <div class="col-md-12" *mobxAutorun>
                                <div class="assessment-user-box text-center" style="height: 250px;"
                                    *ngIf="StrategyInitiativeStore.milesstones?.length == 0 && StrategyInitiativeStore.actionPlans?.length == 0 ">
                                    <app-no-data [height]="true" [border]="false"></app-no-data>
                                </div>
                            </div> -->
                        </div>                    
                      </div>
                    </div>
                  </div>
                <!-- common-tab-md end -->
            </div>

            <div class="bg-white widg-padding-cmn pb-2">
                <div class="d-flex">
                    <h5 class="mb-0 w-100">{{'kpi_full_form' | translate}}</h5>
                    <!-- <a class="ml-2"><img src="/assets/images/filter-stg-black.svg" class="img-fluid"></a> -->
                </div>
            </div>
            <!-- <hr class="m-0"> -->

            <div class="key-performance-indicator">            
                <!-- common-tab-md starts -->
                  <div class="common-tab-md clearfix key-performance-indicator-tab tab-same-height" *ngIf="StrategyDaashboardStore.kpiScoreCount || StrategyDaashboardStore.kpiScoreCount?.length > 0">
                    <div class="tab-common-left-md">
                        <div class=" issues-tab">
                            <!-- tab menu start -->
                            <ul class="nav nav-tabs nav-tabs--vertical nav-tabs--left vertical-tab" role="navigation">
                                <li class="nav-item" *ngFor="let k of StrategyDaashboardStore.kpiScoreCount;let num = index">
                                    <a [ngClass]=" selectedPos == num ? 'nav-link active' : 'nav-link'" data-toggle="tab" role="tab"
                                        aria-controls="lorem" aria-selected="false" (click)="selectedKpi(num,k)">
                                        <div class="row sm-row align-items-center">
                                            <div class="col-9 sm-col">
                                                <h5>{{k.kpi_title}}</h5>
                                                <div class="paragraph-texts-loop left-dot-and-line">
                                                    <p *ngIf="k.focus_area_title" class="small-p mb-0 pb-2">{{k.focus_area_title}}</p>
                                                    <p *ngIf="k.objective_title" class="small-p mb-0 last-line-remove">{{k.objective_title}}</p>
                                                </div>
                                            </div>
                                            <div class="col-3 sm-col">
                                                <div class="cmn-bdr stg-box-tab-inner text-center bg-white">
                                                    <h6 [ngClass]="'font-normal mb-0 text-13 text-'+setTopObjectiveLabelColor(k,'kpi')">
                                                        {{'actual' | translate}}</h6>
                                                    <h6 [ngClass]="'mb-0 text-20 font-black mb-1 text-'+setTopObjectiveLabelColor(k,'kpi')">
                                                        {{k.score ? k.score : '0'}} {{k.score ? k.target_unit_title :
                                                        ''}}
                                                    </h6>
                    
                                                    <h6 class="font-normal cmn-clr mb-0 text-13">{{'target' | translate}}</h6>
                                                    <h6 class="mb-0 text-20 font-black text-black mb-1" style="word-break:break-word;">{{k.target ?
                                                        k.target : '0'}} {{k.target ? k.target_unit_title : ''}}
                                                    </h6>
                                                </div>
                    
                                                <div
                                                    [ngClass]="'text-center text-white text-12 p-1 bg-'+setTopObjectiveLabelColor(k,'kpi')">
                                                    {{'achieved' | translate}}</div>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div><!-- tab menu end -->
                    </div>
                      
                    <div class="tab-common-left-content-m" *ngIf="StrategyDaashboardStore.kpiScoreCount?.length > 0">
                        <div class="tab-content widg-padding-cmn-small bg-white cmn-bdr" [style.height]="getChartWidth()">
                    
                            <div class="tab-pane fade active show" id="stg-key-pi-tab-one" role="tabpanel">
                                <!-- <h6>Focus Group User Index</h6>
                                <div class="stg-db-chart-one-pic">
                                    <img src="images/stg-db-chart-one.png" class="img-fluid">
                                </div> -->
                                <div *ngIf="!freequencies" class="stg-db-chart-one-pic">
                                    <div id="barChart1" style="width: 100%;height: 406px;"></div>
                                </div>
                                <div class="ceo-db-aut-sec-row-height db-md-screen-center" *ngIf="freequencies"
                                    style="min-height: 406px;">
                                    <app-no-chart-data [source]="kpiData">
                                    </app-no-chart-data>
                                </div>
                            </div>
                    
                        </div>
                    </div>
                  </div>
                <!-- common-tab-md end -->
                <ng-container *mobxAutorun>
                    <app-no-data-list [source]="criteriaEmptyList"
                        *ngIf="!StrategyDaashboardStore.kpiScoreCount || StrategyDaashboardStore.kpiScoreCount?.length == 0">
                    </app-no-data-list>
                </ng-container>
            </div>

        </div>

    </div>
</main>

<ng-container *mobxAutorun>
    <div *ngIf="!strategy_dashboard_loader">
        <app-strategy-dashbaord-loader></app-strategy-dashbaord-loader>
    </div>
    <app-no-data *ngIf="StrategyStore.allItems.length == 0 && strategy_dashboard_loader"></app-no-data>
</ng-container>