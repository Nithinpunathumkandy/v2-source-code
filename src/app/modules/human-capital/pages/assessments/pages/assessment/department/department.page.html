<ng-container *mobxAutorun>
<div class="tab-pane tab-edit-class assessment-tab-user" id="departmentwise" *ngIf="DepartmentStore.summary_loaded">

    <div class="user-position" *ngIf="DepartmentStore?.departmentSummary?.total_count!=0 && AuthStore.getActivityPermission(200,'DEPARTMENT_ASSESSMENT_SUMMARY_LIST')">
        <div class="clearfix">
            <!-- <div class="user-position-detail-box position-box-one" *ngIf="DepartmentStore?.departmentSummary?.total_count==0">
                <h3>Coming Soon</h3>
              </div> -->
            <div class="user-position-detail-box position-box-two">

                <div *ngIf = "DepartmentStore?.departmentSummary.second==''">
                    <app-context-no-data [sourceData] = "getNoDataSource('center')"></app-context-no-data>
                </div>
                <div class="text-center" *ngIf = "DepartmentStore?.departmentSummary.second!=''">
                    <h4 class="mb-3">{{DepartmentStore?.departmentSummary.second.avg_score}}%</h4>
                    <!-- <h5 [attr.title]="DepartmentStore?.departmentSummary.second.department.length>15?DepartmentStore?.departmentSummary.second.department:''">{{DepartmentStore?.departmentSummary.second.department.length>15?DepartmentStore?.departmentSummary.second.department.substring(0,15)+'...':DepartmentStore?.departmentSummary.second.department}}</h5> -->
                   <h5>{{DepartmentStore?.departmentSummary.second.department}}</h5>
                 </div>
                <!-- <h3>{{DepartmentStore?.departmentSummary.second.department}}</h3> -->
                <!-- <div class="user-name-position-box clearfix">
                    
                    <h5 [attr.title]="DepartmentStore?.departmentSummary.second.department.length>15?DepartmentStore?.departmentSummary.second.department:''">{{DepartmentStore?.departmentSummary.second.department.length>15?DepartmentStore?.departmentSummary.second.department.substring(0,15)+'...':DepartmentStore?.departmentSummary.second.department}}</h5>
                   
                </div> -->
            </div>
            <div class="user-position-detail-box position-box-one">
                <div *ngIf = "DepartmentStore?.departmentSummary.first==''">
                    <app-context-no-data [sourceData] = "getNoDataSource('center')"></app-context-no-data>
                </div>
                <div class="text-center" *ngIf = "DepartmentStore?.departmentSummary.first!=''">
                    <h4 class="mb-3">{{DepartmentStore?.departmentSummary.first.avg_score}}%</h4>
                    <!-- <h5 [attr.title]="DepartmentStore?.departmentSummary.first.department.length>15?DepartmentStore?.departmentSummary.first.department:''">{{DepartmentStore?.departmentSummary.first.department.length>15?DepartmentStore?.departmentSummary.first.department.substring(0,15)+'...':DepartmentStore?.departmentSummary.first.department}}</h5> -->
                    <h5>{{DepartmentStore?.departmentSummary.first.department}}</h5>
                 </div>
                <!-- <h3>{{DepartmentStore?.departmentSummary.first.department}}</h3>
                <div class="user-name-position-box clearfix">
                    <h5 [attr.title]="DepartmentStore?.departmentSummary.first.department.length>15?DepartmentStore?.departmentSummary.first.department:''">{{DepartmentStore?.departmentSummary.first.department.length>15?DepartmentStore?.departmentSummary.first.department.substring(0,15)+'...':DepartmentStore?.departmentSummary.first.department}}</h5>
                    <h2>{{DepartmentStore?.departmentSummary.first.avg_score}}%</h2>
                </div> -->
            </div>
            <div class="user-position-detail-box position-box-three">
                <!-- <h3>{{DepartmentStore?.departmentSummary.third.department}}</h3>
                <div class="user-name-position-box clearfix">
                    <h5 [attr.title]="DepartmentStore?.departmentSummary.third.department.length>15?DepartmentStore?.departmentSummary.third.department:''">{{DepartmentStore?.departmentSummary.third.department.length>15?DepartmentStore?.departmentSummary.third.department.substring(0,15)+'...':DepartmentStore?.departmentSummary.third.department}}</h5>
                    <h2>{{DepartmentStore?.departmentSummary.third.avg_score}}%</h2>
                </div> -->
                <div *ngIf = "DepartmentStore?.departmentSummary.third==''">
                    <app-context-no-data [sourceData] = "getNoDataSource('center')"></app-context-no-data>
                </div>
                <div class="text-center" *ngIf = "DepartmentStore?.departmentSummary.third!=''">
                    <h4 class="mb-3">{{DepartmentStore?.departmentSummary.third.avg_score}}%</h4>
                    <!-- <h5 [attr.title]="DepartmentStore?.departmentSummary.third.department.length>15?DepartmentStore?.departmentSummary.third.department:''">{{DepartmentStore?.departmentSummary.third.department.length>15?DepartmentStore?.departmentSummary.third.department.substring(0,15)+'...':DepartmentStore?.departmentSummary.third.department}}</h5> -->
                     <h5>{{DepartmentStore?.departmentSummary.third.department}}</h5>
                 </div>
            </div>
        </div>
        <div class="user-position-stand">
            <img src="assets/images/position.svg">
        </div>
    </div>

    <div class="row" *ngIf="AuthStore.getActivityPermission(200,'DEPARTMENT_ASSESSMENT_LIST')">
        <div class="col-sm-12">
            <div class="widget-body-light right-block right-block-user-position p-0">
                <div class="row">
                    <div class="col-sm-12">
                        <div class="panel-group panel-drop-sections panel-drop-white" id="jd" role="tablist" aria-multiselectable="true" *ngIf="DepartmentStore?.departmentSummary?.total_count>0">
                            <div class="panel panel-default">
                                <div [ngClass]="DepartmentStore?.excellent_status=='Active'?'panel-heading active': 'panel-heading'" role="tab" id="headingOne">
                                    <div class="panel-title">
                                        <a role="button" data-toggle="collapse" href="#ceo" aria-expanded="true"
                                            aria-controls="collapseOne" (click)="getData('excellent')">
                                            <h5 class="width96pc mt-0">
                                                {{'excellent_performance'|translate}} ({{DepartmentStore?.excellent_count}}/{{DepartmentStore.total_count}})<span class="drop-down-icone"><i class="fas fa-chevron-down"></i></span>
                                            </h5>
                                        </a>
                                    </div>
                                </div>
                                <div id="ceo" class="panel-collapse collapse show" role="tabpanel"
                                    aria-labelledby="headingOne" data-parent="#ceo">
                                    <div class="panel-body pl-4 pt-3 pr-4 pb-0">
                                        <div class="row">
                                            <div class="col-sm-12 col-md-6 col-lg-4 col-xl-3"
                                                *ngFor="let department of DepartmentStore?.excellentDepartment;let num = index">
                                                <assessment-user-box-component
                                                     [title]="department.department"
                                                     [percentage]="department.avg_score">
                                                </assessment-user-box-component>
                                            </div>
                                            <div class="col-sm-12" *ngIf="DepartmentStore?.excellent_loaded && DepartmentStore?.excellentDepartment.length==0"
                                            style="height: 250px">
                                                <!-- <div class="assessment-user-box text-center"> -->
                                                    
                                                <!-- {{'no_records_found'|translate}}!! -->
                                                <app-no-data [height]=true [border]=false></app-no-data>
                                                
                                                <!-- </div> -->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12">

                                    </div>
                                </div>
                            </div>
                            <div class="panel panel-default">
                                <div [ngClass]="DepartmentStore?.good_status=='Active'?'panel-heading active': 'panel-heading'" role="tab" id="headingOne">
                                    <div class="panel-title">
                                        <a role="button" data-toggle="collapse" href="#ceo2" aria-expanded="false"
                                            aria-controls="collapseOne" class="collapsed" (click)="getData('good')">
                                            <h5 class="width96pc">{{'good_performance'|translate}} ({{DepartmentStore?.good_count}}/{{DepartmentStore.total_count}})<span class="drop-down-icone"><i class="fas fa-chevron-down"></i></span></h5>
                                        </a>
                                    </div>
                                </div>
                                <div id="ceo2" class="panel-collapse collapse" role="tabpanel"
                                    aria-labelledby="headingOne" data-parent="#ceo2">
                                    <div class="panel-body pl-4 pt-3 pr-4 pb-0">
                                        <div class="row">
                                            <div class="col-sm-12 col-md-6 col-lg-4 col-xl-3"
                                                *ngFor="let department of DepartmentStore?.goodDepartment;let num = index">
                                                <assessment-user-box-component
                                                 [title]="department.department"
                                                 [percentage]="department.avg_score">
                                                </assessment-user-box-component>
                                            </div>
                                            <div class="col-sm-12" *ngIf="DepartmentStore?.good_loaded && DepartmentStore?.goodDepartment.length==0"
                                            style="height: 250px">
                                                <!-- <div class="assessment-user-box text-center"> -->
                                                  
                                                    <app-no-data [height]=true [border]=false></app-no-data>
                                                
                                                <!-- </div> -->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12">

                                    </div>
                                </div>
                            </div>
                            <div class="panel panel-default">
                                <div [ngClass]="DepartmentStore?.average_status=='Active'?'panel-heading active': 'panel-heading'" role="tab" id="headingOne">
                                    <div class="panel-title">
                                        <a role="button" data-toggle="collapse" href="#ceo3" aria-expanded="false"
                                            aria-controls="collapseOne" class="collapsed" (click)="getData('average')">
                                            <h5 class="width96pc"> {{'average_performance'|translate}}
                                                    ({{DepartmentStore?.average_count}}/{{DepartmentStore.total_count}})
                                                    <span class="drop-down-icone"><i class="fas fa-chevron-down"></i></span> </h5>
                                        </a>
                                    </div>
                                </div>
                                <div id="ceo3" class="panel-collapse collapse" role="tabpanel"
                                    aria-labelledby="headingOne" data-parent="#ceo3">
                                    <div class="panel-body pl-4 pt-3 pr-4 pb-0">
                                        <div class="row">
                                            <div class="col-sm-12 col-md-6 col-lg-4 col-xl-3"
                                                *ngFor="let department of DepartmentStore?.averageDepartment;let num = index">
                                                <assessment-user-box-component
                                                 [title]="department.department"
                                                 [percentage]="department.avg_score">
                                                </assessment-user-box-component>
                                            </div>
                                            <div class="col-sm-12" *ngIf="DepartmentStore?.average_loaded && DepartmentStore?.averageDepartment.length==0"
                                            style="height: 250px">
                                                <!-- <div class="assessment-user-box text-center"> -->
                                                   
                                                    <app-no-data [height]=true [border]=false></app-no-data>
                                                
                                                <!-- </div> -->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12">

                                    </div>
                                </div>
                            </div>
                            <div class="panel panel-default">
                                <div [ngClass]="DepartmentStore?.below_status=='Active'?'panel-heading active': 'panel-heading'" role="tab" id="headingOne">
                                    <div class="panel-title">
                                        <a role="button" data-toggle="collapse" href="#ceo4" aria-expanded="false"
                                            aria-controls="collapseOne" class="collapsed" (click)="getData('below_average')">
                                            <h5 class="width96pc"> {{'below_average_performance'|translate}}
                                                    ({{DepartmentStore?.below_average_count}}/{{DepartmentStore.total_count}})
                                                    <span class="drop-down-icone"><i class="fas fa-chevron-down"></i></span></h5>
                                        </a>
                                    </div>
                                </div>
                                <div id="ceo4" class="panel-collapse collapse" role="tabpanel"
                                    aria-labelledby="headingOne" data-parent="#ceo4">
                                    <div class="panel-body pl-4 pt-3 pr-4 pb-0">
                                        <div class="row">
                                            <div class="col-sm-12 col-md-6 col-lg-4 col-xl-3"
                                                *ngFor="let department of DepartmentStore?. belowAverageDepartment;let num = index">
                                                <assessment-user-box-component
                                                 [title]="department.department"
                                                 [percentage]="department.avg_score">
                                                </assessment-user-box-component>
                                            </div>
                                            <div class="col-sm-12" *ngIf="DepartmentStore?.below_loaded &&DepartmentStore?.belowAverageDepartment.length==0"
                                            style="height: 250px">
                                                <!-- <div class="assessment-user-box text-center"> -->
                                                    
                                                    <app-no-data [height]=true [border]=false></app-no-data>
                                               
                                                <!-- </div> -->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-12">

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</ng-container>
<ng-container *mobxAutorun>
    <div *ngIf="!DepartmentStore.summary_loaded">
        <app-assessment-subsidiary-loader></app-assessment-subsidiary-loader>
    </div>
</ng-container>
<ng-container *mobxAutorun>
    <app-no-data  *ngIf="DepartmentStore.summary_loaded && DepartmentStore?.departmentSummary?.total_count==0"></app-no-data>
  </ng-container>