<nav class="edit-bar" data-toggle="affix" scrollPoint #navigationBar *mobxAutorun>
    <!-- <ul class="nav nav-pills edit-icons float-right d-none d-xl-block" role="tablist">
        <li>
            <button (click) = "routeToQlikDashboard()" type="button" class="btn btn-small btn-header-db">
                {{'qlik_dashboard' | translate}}
            </button>
        </li>
    </ul> -->
</nav>
<main class="mt-3 acl-page cpf-space-adjust db-small-space-boxes db-layout-150" *mobxAutorun>
    <div class="container-fluid" *ngIf="HumanCapitalDashboardStore.loaded">
        <app-filter-menu></app-filter-menu>
        <div class="widget">
            <div class="row sm-row">
                <div class="col-lg-2 sm-col col-sm-4">
                    <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                        <div class="row align-items-center justify-content-center">
                            <div [ngClass]=" AuthStore.getActivityPermission(3100,'USER_LIST') ? 'text-center pointer' : 'text-center'" [style.pointer-events]="AuthStore.getActivityPermission(3100,'USER_LIST') ? '' : 'none'" (click)="redirectUsersList()">                                    
                                <h3 class="big-text-four">{{HumanCapitalDashboardStore.totalCount?.users}}</h3>
                                <h5 class="mb-0">{{'hc_dashboard_users' | translate }}</h5>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-2 sm-col col-sm-4" *ngIf="OrganizationLevelSettingsStore.organizationLevelSettings?.is_division">
                    <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                        <div class="row align-items-center justify-content-center">
                            <div  [ngClass]=" AuthStore.getActivityPermission(3100,'DIVISION_LIST') ? 'text-center pointer' : 'text-center'" [style.pointer-events]="AuthStore.getActivityPermission(3100,'DIVISION_LIST') ? '' : 'none'" (click)="redirectDivisionList()">
                                <h3 class="big-text-four">{{HumanCapitalDashboardStore.totalCount?.division}}</h3>
                                <h5 class="mb-0">{{'hc_dashboard_division' | translate }}</h5>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-2 sm-col col-sm-4" *ngIf="OrganizationLevelSettingsStore.organizationLevelSettings?.is_department">
                    <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                        <div class="row align-items-center justify-content-center">
                            <div [ngClass]=" AuthStore.getActivityPermission(3100,'DEPARTMENT_LIST') ? 'text-center pointer' : 'text-center'" [style.pointer-events]="AuthStore.getActivityPermission(3100,'DEPARTMENT_LIST') ? '' : 'none'" (click)="redirectDepartmentList()">
                                <h3 class="big-text-four">{{HumanCapitalDashboardStore.totalCount?.departments}}</h3>
                                <h5 class="mb-0">{{'hc_dashboard_department' | translate }}</h5>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-2 sm-col col-sm-4" *ngIf="OrganizationLevelSettingsStore.organizationLevelSettings?.is_section">
                    <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                        <div class="row align-items-center justify-content-center">
                            <div [ngClass]=" AuthStore.getActivityPermission(3100,'SECTION_LIST') ? 'text-center pointer' : 'text-center'" [style.pointer-events]="AuthStore.getActivityPermission(3100,'SECTION_LIST') ? '' : 'none'" (click)="redirectSectionList()">
                                <h3 class="big-text-four">{{HumanCapitalDashboardStore.totalCount?.sections}}</h3>
                                <h5 class="mb-0">{{'hc_dashboard_section' | translate }}</h5>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-2 sm-col col-sm-4">
                    <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                        <div class="row align-items-center justify-content-center">
                            <div [ngClass]=" AuthStore.getActivityPermission(3100,'DESIGNATION_LIST') ? 'text-center pointer' : 'text-center'" [style.pointer-events]="AuthStore.getActivityPermission(3100,'DESIGNATION_LIST') ? '' : 'none'" (click)="redirectDesignationList()">
                                <h3 class="big-text-four">{{HumanCapitalDashboardStore.totalCount?.designations}}</h3>
                                <h5 class="mb-0">{{'hc_dashboard_designations' | translate }}</h5>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-2 sm-col col-sm-4">
                    <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                        <div class="row align-items-center justify-content-center">
                            <div [ngClass]=" AuthStore.getActivityPermission(3100,'ROLE_LIST') ? 'text-center pointer' : 'text-center'" [style.pointer-events]="AuthStore.getActivityPermission(3100,'ROLE_LIST') ? '' : 'none'" (click)="redirectRoleList()">
                                <h3 class="big-text-four">{{HumanCapitalDashboardStore.totalCount?.roles}}</h3>
                                <h5 class="mb-0">{{'hc_dashboard_roles' | translate }}</h5>
                            </div>
                        </div>
                    </div>
                </div>
               
              
             </div>                                        
            <div class="row sm-row">
                <div class="col-sm-12 sm-col">
                    <div class="bg-white widg-padding-cmn btm-space-10 risk-db-left-four">
                        <h5 class="cmn-head-style m-0">{{'hc_dashboard_users_by' | translate }}</h5>
                        <hr>
                        <div class="ceo-db-aut-sec-row-height" style="min-height: 250px;">
                            <div class="dpt-pic-ceo w-100" *ngIf="HumanCapitalDashboardStore.countByDepartment.length !=0">
                                <div id="barChart" style="width: 100%; height: 250px"></div>
                            </div>
                            <div class="dpt-pic-ceo w-100" *ngIf="HumanCapitalDashboardStore.countByDepartment.length==0">
                                <app-no-chart-data [source]="'bar'" style="width: 100%; height: 250px"></app-no-chart-data>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row sm-row">
                <div class="col-lg-4 col-sm-12 sm-col main-db-risk">
                    <div class="bg-white widg-padding-cmn btm-space-10" style='height: 300px;'>
                        <h5 class="cmn-head-style m-0">{{'hc_dashboard_roles_by' | translate }}</h5>
                        <hr>
                        <div class="ceo-db-aut-sec-row-height" style="min-height: 250px;">
                            <div class="dpt-pic-ceo w-100" *ngIf="HumanCapitalDashboardStore.countByRole.length !=0">
                                <div id="chartdiv" style="width: 100%; height: 250px"></div>
                            </div>
                            <div class="dpt-pic-ceo w-100" *ngIf="HumanCapitalDashboardStore.countByRole.length==0">
                                <app-no-chart-data [source]="'pie'" style="width: 100%; height: 250px"></app-no-chart-data>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-8 col-sm-12 sm-col">
                    <div class="bg-white widg-padding-cmn btm-space-10" style='height: 300px;'>
                        <h5 class="cmn-head-style m-0">{{'hc_dashboard_designations_by' | translate }}</h5>
                        <hr>
                        <div class="ceo-db-aut-sec-row-height" style="min-height: 250px;">
                            <div class="dpt-pic-ceo w-100" *ngIf="HumanCapitalDashboardStore.countByDesignation.length !=0">
                                <div id="designationchart" style="width: 100%; height: 250px"></div>
                            </div>
                            <div class="dpt-pic-ceo w-100" *ngIf="HumanCapitalDashboardStore.countByDesignation.length==0">
                                <app-no-chart-data [source]="'pie'" style="width: 100%; height: 250px"></app-no-chart-data>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <ng-container *mobxAutorun>
        <ng-container *ngIf="!HumanCapitalDashboardStore.loaded">
            <app-human-capital-dashboard-loader></app-human-capital-dashboard-loader>
        </ng-container>
     </ng-container>
</main>