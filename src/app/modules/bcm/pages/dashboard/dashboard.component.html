<ng-container *mobxAutorun>
    <div *ngIf="!BCMDashboardStore?.dashboardLoaded">
        <app-bcm-dashboard-loader ></app-bcm-dashboard-loader>
    </div>
</ng-container>


<main class="mt-3 acl-page cpf-space-adjust db-small-space-boxes db-layout-150"   *ngIf="BCMDashboardStore.dashboardLoaded">
    <div class="container-fluid">
        <app-filter-menu></app-filter-menu>
        <div class="row sm-row">

            <div class="bcm-small-box5 sm-col"  *ngIf="OrganizationModulesStore.checkIndividualSubModule(600,23301)">
                <div class="bg-white widg-padding-cmn btm-space-10 db-shadow db-md-screen-center">
                    <div class="text-center">
                        <h3 class="big-text-three">
                            {{BCMDashboardStore?.BCMCounts?.process_count?BCMDashboardStore?.BCMCounts?.process_count:0}}
                        </h3>
                        <p class="mb-0 elips-1">Total Process</p>
                    </div>
                </div>
            </div>

            <div class="bcm-small-box5 sm-col">
                <div class="bg-white widg-padding-cmn btm-space-10 db-shadow db-md-screen-center">
                    <div class="text-center">
                        <h3 class="big-text-three">
                            {{BCMDashboardStore?.BCMCounts?.bia_count?BCMDashboardStore?.BCMCounts?.bia_count:0}}
                        </h3>
                        <p class="mb-0 elips-1">BIA</p>
                    </div>
                </div>
            </div>

            <div class="bcm-small-box5 sm-col"  *ngIf="OrganizationModulesStore.checkIndividualSubModule(2800,65501)">
                <div class="bg-white widg-padding-cmn btm-space-10 db-shadow db-md-screen-center">
                    <div class="text-center">
                        <h3 class="big-text-three">
                            {{BCMDashboardStore?.BCMCounts?.risk_treatment_count?BCMDashboardStore?.BCMCounts?.risk_treatment_count:0}}
                        </h3>
                        <p class="mb-0 elips-1">Risk Treatment</p>
                    </div>
                </div>
            </div>

            <div class="bcm-small-box5 sm-col"  *ngIf="OrganizationModulesStore.checkIndividualSubModule(2800,65601)">
                <div class="bg-white widg-padding-cmn btm-space-10 db-shadow db-md-screen-center">
                    <div class="text-center">
                        <h3 class="big-text-three">
                            {{BCMDashboardStore?.BCMCounts?.residual_risk_count?BCMDashboardStore?.BCMCounts?.residual_risk_count:0}}
                        </h3>
                        <p class="mb-0 elips-1">Residual Risk</p>
                    </div>
                </div>
            </div>

            <div class="bcm-small-box5 sm-col"  *ngIf="OrganizationModulesStore.checkIndividualSubModule(2800,66301)" >
                <div class="bg-white widg-padding-cmn btm-space-10 db-shadow db-md-screen-center">
                    <div class="text-center">
                        <h3 class="big-text-three">
                            {{BCMDashboardStore?.BCMCounts?.bc_strategy_count?BCMDashboardStore?.BCMCounts?.bc_strategy_count:0}}
                        </h3>
                        <p class="mb-0 elips-1">BC Strategy</p>
                    </div>
                </div>
            </div>


            <div class="bcm-small-box5 sm-col" *ngIf="OrganizationModulesStore.checkIndividualSubModule(2800,61501)">
                <div class="bg-white widg-padding-cmn btm-space-10 db-shadow db-md-screen-center">
                    <div class="text-center">
                        <h3 class="big-text-three">
                            {{BCMDashboardStore?.BCMCounts?.bcp_count?BCMDashboardStore?.BCMCounts?.bcp_count:0}}
                        </h3>
                        <p class="mb-0 elips-1">BCP Count</p>
                    </div>
                </div>
            </div>

            <div class="bcm-small-box5 sm-col">
                <div class="bg-white widg-padding-cmn btm-space-10 db-shadow db-md-screen-center">
                    <div class="text-center">
                        <h3 class="big-text-three">
                            {{BCMDashboardStore?.BCMCounts?.bcm_team_count?BCMDashboardStore?.BCMCounts?.bcm_team_count:0}}
                        </h3>
                        <p class="mb-0 elips-1">Total BCM Team</p>
                    </div>
                </div>
            </div>

            <div class="bcm-small-box5 sm-col">
                <div class="bg-white widg-padding-cmn btm-space-10 db-shadow db-md-screen-center">
                    <div class="text-center">
                        <h3 class="big-text-three">
                            {{BCMDashboardStore?.BCMCounts?.solutions_count?BCMDashboardStore?.BCMCounts?.solutions_count:0}}
                        </h3>
                        <p class="mb-0 elips-1">Total Solution</p>
                    </div>
                </div>
            </div>

            <div class="bcm-small-box5 sm-col" *ngIf="OrganizationModulesStore.checkIndividualSubModule(2800,64501)">
                <div class="bg-white widg-padding-cmn btm-space-10 db-shadow db-md-screen-center">
                    <div class="text-center">
                        <h3 class="big-text-three">
                            {{BCMDashboardStore?.BCMCounts?.change_request_count?BCMDashboardStore?.BCMCounts?.change_request_count:0}}
                        </h3>
                        <p class="mb-0 elips-1">Total Change Request</p>
                    </div>
                </div>
            </div>

            <div class="bcm-small-box5 sm-col" *ngIf="OrganizationModulesStore.checkIndividualSubModule(2800,67201)">
                <div class="bg-white widg-padding-cmn btm-space-10 db-shadow db-md-screen-center">
                    <div class="text-center">
                        <h3 class="big-text-three">
                            {{BCMDashboardStore?.BCMCounts?.test_and_exercise_count?BCMDashboardStore?.BCMCounts?.test_and_exercise_count:0}}
                        </h3>
                        <p class="mb-0 elips-1">Total Test And Excercise</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="row sm-row">
            <div class="col-lg-6 col-sm-12 sm-col">
                <div class="bg-white widg-padding-cmn btm-space-10 ceo-db-aut-four db-shadow">
                    <div class="row">
                        <div class="col-lg-6 col-sm-6 m-auto">
                            <div class="row">
                                <div class="col-sm-12 col-lg-12">
                                    <div class=" mb-4 db-md-screen-center">
                                        <div class="text-center">
                                            <h3 class="big-text-three">{{getTotalCriticalProcessCount()}}</h3>
                                            <p class="mb-0">Critical Process</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <ng-container *ngFor="let row of BCMDashboardStore.CriticalProcessCounts; let i=index;">
                                    <div [ngClass]="i%2?'col-sm-6 col-lg-6 col-6 stg-main-db-box-two pt-2 pb-2 cmn-bdr-left':'col-sm-6 col-lg-6 col-6 stg-main-db-box-two pt-2 pb-2'"
                                        *ngIf="row.count!=0">
                                        <div class="text-left pl-5">
                                            <h3 class="big-text-two">{{row.count}}</h3>
                                            <p class="dot-div-new dot-normal-violet mb-0 span-dot-color">
                                                <span [ngStyle]="{'background':row.color_code}"></span>{{row.title}}
                                            </p>
                                        </div>
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                        <div class="col-lg-6 col-sm-6">
                            <div class="ceo-db-aut-sec-row-height" style="min-height: 300px;">
                                <div class="dpt-pic-ceo w-100" style="width: 100%; height: 250px"
                                    *ngIf="BCMDashboardStore.CriticalProcessCounts.length==0">
                                    <app-no-chart-data [source]="'pie'"></app-no-chart-data>
                                </div>
                                <div class="dpt-pic-ceo w-100"
                                    *ngIf="BCMDashboardStore.CriticalProcessCounts.length!=0">
                                    <div id="CriticalProcessCountsDiv" style="width: 100%; height: 250px"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-sm-12 sm-col">
                <div class="bg-white widg-padding-cmn btm-space-10 ceo-db-aut-four db-shadow">
                    <div class="row">
                        <div class="col-lg-6 col-sm-6 m-auto">
                            <div class="row">
                                <div class="col-sm-12 col-lg-12">
                                    <div class=" mb-4 db-md-screen-center">
                                        <div class="text-center">
                                            <h3 class="big-text-three">{{getTotalRiskCount()}}</h3>
                                            <p class="mb-0">Risk</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <ng-container *ngFor="let row of BCMDashboardStore.RiskCounts; let i=index;">
                                    <div [ngClass]="i%2?'col-sm-6 col-lg-6 col-6 stg-main-db-box-two pt-2 pb-2 cmn-bdr-left':'col-sm-6 col-lg-6 col-6 stg-main-db-box-two pt-2 pb-2'"
                                        *ngIf="row.count!=0">
                                        <div class="text-left pl-5">
                                            <h3 class="big-text-two">{{row.count}}</h3>
                                            <p class="dot-div-new dot-normal-violet mb-0 span-dot-color">
                                                <span [ngStyle]="{'background':row.color}"></span>{{row.risk_ratings}}
                                            </p>
                                        </div>
                                    </div>
                                </ng-container>
                            </div>
                        </div>
                        <div class="col-lg-6 col-sm-6">
                            <div class="ceo-db-aut-sec-row-height" style="min-height: 300px;">
                                <div class="dpt-pic-ceo w-100" style="width: 100%; height: 250px"
                                    *ngIf="BCMDashboardStore.RiskCounts.length==0">
                                    <app-no-chart-data [source]="'pie'"></app-no-chart-data>
                                </div>
                                <div class="dpt-pic-ceo w-100" style="width: 100%; height: 250px"
                                    *ngIf="BCMDashboardStore.RiskCounts.length!=0">
                                    <div id="RiskCountsDiv" style="height: 100%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row sm-row">
            <div class="col-lg-4 col-sm-12 sm-col">
                <div class="bg-white widg-padding-cmn btm-space-10 ceo-db-aut-four db-shadow">
                    <h5 class="cmn-head-style m-0">BIA Performed Vs Not Performed</h5>
                    <hr>
                    <!-- <div class="ceo-db-aut-sec-row-height"> -->
                    <div class="dpt-pic-ceo w-100" style="width: 100%; height: 200px"
                        *ngIf="!BCMDashboardStore.BIAPerformedCounts||BCMDashboardStore?.BIAPerformedCounts?.total==0">
                        <app-no-chart-data [source]="'pie'"></app-no-chart-data>
                    </div>
                    <div class="dpt-pic-ceo w-100" *ngIf="BCMDashboardStore?.BIAPerformedCounts?.total!=0">
                        <div id="BIAPerformedVsNonPerformedCountsDiv" style="width: 100%; height: 200px"></div>
                    </div>
                    <!-- </div> -->
                </div>
            </div>

            <div class="col-lg-8 col-sm-12 sm-col">
                <div class="bg-white widg-padding-cmn btm-space-10 ceo-db-aut-four db-shadow">
                    <h5 class="cmn-head-style m-0">BIA By Year</h5>
                    <hr>
                     <!-- <div class="ceo-db-aut-sec-row-height"> -->
                    <div class="dpt-pic-ceo w-100" style="width: 100%; height: 200px"
                        *ngIf="BCMDashboardStore.BIAByYear.length==0">
                        <app-no-chart-data [source]="'bar'"></app-no-chart-data>
                    </div>
                    <div class="dpt-pic-ceo w-100" *ngIf="BCMDashboardStore.BIAByYear.length!=0">
                        <div id="BarChartForBIAByYearCountsDiv" style="width: 100%; height: 200px"></div>
                    </div>
                        <!-- </div> -->
                </div>
            </div>
        </div>

        <div class="row sm-row">
            <div class="col-lg-6 col-sm-12 sm-col">
                <div class="bg-white widg-padding-cmn btm-space-10 ceo-db-aut-four db-shadow">
                    <h5 class="cmn-head-style m-0">BCP Count By Status</h5>
                    <hr>
                    <div class="row sm-row">
                        <div class="col-md-3 sm-col stg-main-db-box-two db-md-screen-center">
                            <div class="text-left status-small-head"
                                *ngIf="BCMDashboardStore.BCPCountByStatuses.length!=0">
                                <ng-container *ngFor="let row of BCMDashboardStore.BCPCountByStatuses">
                                    <h3 class="big-text-one">{{row.count}}</h3>
                                    <p class="dot-div-new dot-light-blue mb-0 span-dot-color">
                                        <span
                                            [ngStyle]="{'background':row.color_code}"></span>{{row.business_continuity_plan_status}}
                                    </p>
                                </ng-container>
                            </div>
                        </div>
                        <div class="col-md-9 sm-col">
                            <!-- <div class="ceo-db-aut-sec-row-height"> -->
                                <div class="dpt-pic-ceo w-100" style="width: 100%; height: 200px"
                                    *ngIf="BCMDashboardStore.BCPCountByStatuses.length==0">
                                    <app-no-chart-data [source]="'pie'"></app-no-chart-data>
                                </div>
                                <div class="dpt-pic-ceo w-100" *ngIf="BCMDashboardStore.BCPCountByStatuses.length!=0">
                                    <div id="BCPCountByStatusDiv" style="width: 100%; height: 200px"></div>
                                </div>
                            <!-- </div> -->
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-6 col-sm-12 sm-col">
                <div class="bg-white widg-padding-cmn btm-space-10 ceo-db-aut-four db-shadow">
                    <h5 class="cmn-head-style m-0">Strategy By Type</h5>
                    <hr>
                    <!-- <div class="ceo-db-aut-sec-row-height"> -->
                        <div class="dpt-pic-ceo w-100" style="width: 100%; height: 200px"
                            *ngIf="BCMDashboardStore.StrategyCountByTypes.length==0">
                            <app-no-chart-data [source]="'pie'"></app-no-chart-data>
                        </div>
                        <div class="dpt-pic-ceo w-100" *ngIf="BCMDashboardStore.StrategyCountByTypes.length!=0">
                            <div id="StrategyCountByTypesDiv" style="width: 100%; height: 200px"></div>
                        </div>
                    <!-- </div> -->
                </div>
            </div>
        </div>

        <div class="row sm-row">
            <div class="col-lg-7 col-sm-12 sm-col">
                <div class="bg-white widg-padding-cmn btm-space-10 ceo-db-aut-four db-shadow">
                    <h5 class="cmn-head-style m-0">Solution Count By Score</h5>
                    <hr>

                    <!-- <div class="ceo-db-aut-sec-row-height"> -->
                        <div class="dpt-pic-ceo w-100" style="width: 100%; height: 200px"
                            *ngIf="BCMDashboardStore.SolutionCountByScores.length==0">
                            <app-no-chart-data [source]="'bar'"></app-no-chart-data>
                        </div>
                        <div class="dpt-pic-ceo w-100" *ngIf="BCMDashboardStore.SolutionCountByScores.length!=0">
                            <div id="BarChartForSolutionCountByScoresDiv" style="width: 100%; height: 200px"></div>
                        </div>
                    <!-- </div> -->

                </div>
            </div>

            <div class="col-lg-5 col-sm-12 sm-col">
                <div class="bg-white widg-padding-cmn btm-space-10 ceo-db-aut-four db-shadow">
                    <h5 class="cmn-head-style m-0">Strategy By Status</h5>
                    <hr>
                    <div class="row">
                        <div class="col-md-3 stg-main-db-box-two db-md-screen-center">
                            <div class="text-left status-small-head"
                                *ngIf="BCMDashboardStore.StrategyCountByStatuses.length!=0">
                                <ng-container *ngFor="let row of BCMDashboardStore.StrategyCountByStatuses">
                                    <h3 class="big-text-one">{{row.count}}</h3>
                                    <p class="dot-div-new dot-light-blue mb-0 span-dot-color">
                                        <span
                                            [ngStyle]="{'background':row.color_code}"></span>{{row.business_continuity_strategy_status}}
                                    </p>
                                </ng-container>
                            </div>
                        </div>
                        <div class="col-md-9">
                            <!-- <div class="ceo-db-aut-sec-row-height"> -->
                                <div class="dpt-pic-ceo w-100" style="width: 100%; height: 200px"
                                    *ngIf="BCMDashboardStore.StrategyCountByStatuses.length==0">
                                    <app-no-chart-data [source]="'pie'"></app-no-chart-data>
                                </div>
                                <div class="dpt-pic-ceo w-100"
                                    *ngIf="BCMDashboardStore.StrategyCountByStatuses.length!=0">
                                    <div id="StrategyCountByStatusesDiv" style="width: 100%; height: 200px"></div>
                                </div>
                            <!-- </div> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row sm-row">
            <div class="col-lg-7 col-sm-12 sm-col">
                <div class="bg-white widg-padding-cmn btm-space-10 ceo-db-aut-four db-shadow">
                    <h5 class="cmn-head-style m-0">Change Request By Year</h5>
                    <hr>

                    <!-- <div class="ceo-db-aut-sec-row-height"> -->
                        <div class="dpt-pic-ceo w-100" *ngIf="BCMDashboardStore.ChangeRequestCountByYears.length==0">
                            <app-no-chart-data [source]="'bar'"></app-no-chart-data>
                        </div>
                        <div class="dpt-pic-ceo w-100" style="width: 100%; height: 200px"
                        *ngIf="BCMDashboardStore.ChangeRequestCountByYears.length!=0">
                            <div id="ChangeRequestCountByYearsDiv" style="width: 100%; height: 200px"></div>
                        </div>
                    <!-- </div> -->
                </div>
            </div>

            <div class="col-lg-5 col-sm-12 sm-col">
                <div class="bg-white widg-padding-cmn btm-space-10 ceo-db-aut-four db-shadow">
                    <h5 class="cmn-head-style m-0">Test And Excercise Performed/Not Performed</h5>
                    <hr>

                    <!-- <div class="ceo-db-aut-sec-row-height"> -->
                        <div class="dpt-pic-ceo w-100" style="width: 100%; height: 200px"
                            *ngIf="BCMDashboardStore.TestAndExercisePerformedCounts.length==0">
                            <app-no-chart-data [source]="'pie'"></app-no-chart-data>
                        </div>
                        <div class="dpt-pic-ceo w-100"
                            *ngIf="BCMDashboardStore.TestAndExercisePerformedCounts.length!=0">
                            <div id="TestAndExercisePerformedCountsDiv" style="width: 100%; height: 200px"></div>
                        </div>
                    <!-- </div> -->

                </div>
            </div>
        </div>
    </div>
</main>