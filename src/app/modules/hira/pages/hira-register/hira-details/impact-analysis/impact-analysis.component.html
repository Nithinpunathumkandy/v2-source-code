<ng-container *mobxAutorun>
    <div class="tab-pane tab-edit-class" id="ia-tab" *ngIf="ImpactAnalysisStore.loaded">
    
        <!-- <div class="mb-3">
            <a class="mr-3" data-toggle="modal" data-target="#add-impact-analysis-popup-old">Impact Analysis form (old)</a>
            <a class="mr-3" data-toggle="modal" data-target="#add-impact-analysis-popup">Impact Analysis form</a>
        </div> -->
    
    
    
        <div class="audit-page-table-main">
            <div class="row">
                <div class="col-sm-12">
                    <div class="full-width-table">
                    <table class="table table-bordered ordinary-table audit-page-table cmn-table-style mb-0 impact-analysis-tbl table-scroll"
                        *ngIf="ImpactAnalysisStore.allItems?.data?.length>0 && AuthStore.getActivityPermission(1900,'RISK_IMPACT_ANALYSIS_LIST')">
                        <!-- <thead> -->
     
    
                            <!-- <tr>
                                <th class="border-top-0 text-center" width="5">#</th>
                                <th class="border-top-0 text-center" width="25%">{{ 'category' | translate }}</th>
                                <th class="border-top-0 text-center" width="17%">{{ 'qualitative_impact' | translate }}</th>
                                <th class="border-top-0 text-center" width="18%">{{ 'money' | translate }}</th>
                                <th class="border-top-0 text-center" width="18%">{{ 'time' | translate }}</th>
                                <th class="border-top-0 text-center" width="18%">{{ 'performance' | translate }}</th>
                            </tr> -->
                        <!-- </thead> -->
                        <tbody>
                            <tr>
                                <th style="width: 10%;" class="text-center" rowspan="2" >
                                    #
                                </th>
                                <th style="width: 16%;" class="text-center" rowspan="2" >{{ 'category' | translate }}</th>
                                <th style="width: 20%;" class="text-center" rowspan="2">{{ 'qualitative_impact' | translate }}</th>
                                <th style="width: 54%;" colspan="6" class="text-center">{{ 'quantitative' | translate }}</th>
                            </tr>
                            <tr>
                                <th class="text-center" colspan="2">{{ 'money' | translate }}</th>
                                <th class="text-center" colspan="2">{{ 'time' | translate }}</th>
                                <th class="text-center" colspan="2">{{ 'performance' | translate }}</th>
                            </tr>
                            <tr class="edit-and-delete-main"
                                *ngFor="let impact of ImpactAnalysisStore.allItems?.data;let i=index;">
                                <td class="text-center" *ngIf="impact.risk_impact == 1">{{i+1}}</td>
                                <td class="text-center" *ngIf="impact.risk_impact == 1">{{impact.risk_impact_analysis_category_title}}</td>
                                <td class="text-center"  *ngIf="impact.risk_impact == 1">{{impact.risk_matrix_impact}}</td>
                                <td class="text-center" colspan="2" *ngIf="impact.risk_impact == 1">{{impact.money}}</td>
                                <td class="text-center" colspan="2" *ngIf="impact.risk_impact == 1">{{impact.time}}</td>
                                <td class="text-center" colspan="2" *ngIf="impact.risk_impact == 1">
                                    <!-- <div class="edit-option-show" style="margin:6px 0 0 0"> -->
                                        <!-- <a [attr.title]="'view'|translate" (click)="viewDetails(row.employee_id,row.id)"><i
                                                       class="fas fa-eye"></i></a> -->
                                        <!-- <a [attr.title]="'edit'|translate" (click)="getImpactAnalysis(impact.risk_impact_analysis_category_id)"><i
                                                class="fas fa-pen"></i></a> -->
                                       
                                    <!-- </div> -->
                                    {{impact.performance}}
                                </td>
                            </tr>
    
                            <tr>
                                <th colspan="3" class="text-center">{{'total'|translate}}</th>
                                <td colspan="2" class="text-center bold"><span
                                        [ngClass]="ImpactAnalysisStore.allItems.money_total>0?'text-green':'text-red'">{{ImpactAnalysisStore.allItems.money_total}}</span>
                                </td>
                                <td colspan="2" class="text-center bold"><span
                                        [ngClass]="ImpactAnalysisStore.allItems.total_time>0?'text-green':'text-red'">{{ImpactAnalysisStore.allItems.total_time}}</span>
                                </td>
                                <td colspan="2" class="text-center bold"><span
                                        [ngClass]="ImpactAnalysisStore.allItems.average_performance>0?'text-green':'text-red'">{{ImpactAnalysisStore.allItems.average_performance}}%</span>
                                </td>
                            </tr>
    
    
                        </tbody>
                    </table>
                </div>
                    <app-no-data *ngIf="ImpactAnalysisStore.allItems?.data.length==0" [border]=false>
    
                    </app-no-data>
                </div>
            </div>
        </div>
    
    </div>
    </ng-container>
    
    <ng-container *mobxAutorun>
        <div *ngIf="!ImpactAnalysisStore.loaded">
            <app-risk-impact-analysis-loader></app-risk-impact-analysis-loader>
        </div>
    </ng-container>
    
    
    <!-- add-impact-analysis-popup-old Start -->
    <div class="modal modal-style-1 fade popup-full-width" id="add-impact-analysis-popup" data-keyboard="false"
        data-backdrop="static" #formModal>
        <app-risk-impact-analysis-modal *ngIf="impactAnalysisObject.type" [source]="impactAnalysisObject" [impactCategoryId]="impactCategoryId">
        </app-risk-impact-analysis-modal>
    </div>
    <!-- add-impact-analysis-popup-old End -->
    
    
    <!------------------- Delete Confirmation Modal Start --------------------------->
    
    <div class="modal modal-style-1 fade" id="delete-popup" data-backdrop="static" data-keyboard="false" #deletePopup>
        <app-delete-popup [source]="deleteObject"></app-delete-popup>
    </div>
    
    <!------------------- Delete Confirmation Modal End --------------------------->
