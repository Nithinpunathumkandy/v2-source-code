
    <!-- <div class="modal modal-style-1 help-popup-iso popup-full-width fade" id="add-milestone" data-keyboard="false" data-backdrop="static"> -->
        <button type="button" class="close" (click)="cancel()"><i class="lni-close"></i><span>esc</span></button>
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Add Milestone </h4>
                    <!--<button type="button" class="close" data-dismiss="modal">&times;</button>-->
                </div>
                <!-- Modal body -->
                <div class="modal-body form-body">
                    <p>Milestones are tools used in project management to mark specific points along a project timeline</p>
                    <form [formGroup]="form">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="name">{{'Previous Milestone' | translate}}</label>
                                <div class="clearfix">
                                   <div class="multiple-plain-ngselect">
                                      <ng-select [placeholder]="'Select previous milestone (For setting order)' | translate" 
                                      (open)="getMileStoneList()"
                                      (clear)="clearMilestone()"
                                      (search)="searchMilestone($event)"
                                      (change)="changePreviousMilestone()"
                                       [multiple]="false"
                                         formControlName="previous_milestone_id">
                                         <ng-option [value]="item.id"  *ngFor="let item of ProjectMilestoneStore.milesstones;let num = index">
                                            <label *ngIf="this.projectWorkflowSource?.value?.id != item.id" class="mb-0">{{item.title.length > 80 ? item.title.substring(0,80)+' ...' : item.title }}({{num+1}})</label>
                                         </ng-option>
                                      </ng-select>
                                   </div>
                                </div>
                                <p class="form-error pt-1" *ngIf="formErrors && formErrors.previous_milestone_id">{{formErrors.previous_milestone_id}}</p>
                             </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="name">Milestone<span class="form-error">*</span></label>
                                <input formControlName="title"  type="email" class="form-control" id="email" placeholder="Title of the milestone">
                                <p class="form-error pt-1" *ngIf="formErrors && formErrors.title">{{formErrors.title}}</p>

                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="name">{{'target_date' | translate}}<span class="form-error">*</span></label>
                           
                                <div class="input-group">
                                  <input class="form-control" id="establish_date" [minDate] = "selectedDate" [maxDate]="selectedMaxDate" [placeholder]="'sm_target_date' | translate"
                                         name="dp" formControlName ="due_date" ngbDatepicker #c="ngbDatepicker">
                                  <div class="input-group-append">
                                    <button class="btn btn-outline-secondary calendar" (click)="c.toggle()" type="button"><i class="fas fa-calendar-alt"></i></button>
                                  </div>

                                </div>
                                <p class="form-error pt-1" *ngIf="formErrors && formErrors.due_date">{{formErrors.due_date}}</p>

                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <!-- <div class="col-md-6">
                            <div class="form-group">
                                <label for="name">{{'progress'| translate}}<span class="form-error">*</span></label>
                                <input formControlName="completion" (input)="changeProgress()"  type="email" class="form-control" id="email" placeholder="{{'Enter the percentge' | translate}}">
                                <p class="form-error pt-1" *ngIf="formErrors && formErrors.completion">{{formErrors.completion}}</p>
                                <p class="form-error pt-1" *ngIf="form?.get('completion').invalid && form.value.completion">
                                    {{'numeric_value' | translate}}</p>
                                <p class="form-error pt-1" *ngIf="is_completionExceded">
                                        {{'completion cannot be exceed than 100' | translate}}</p>

                            </div>
                        </div> -->
                        
                    </div>

                    <div class="row">
                        <div class="col-sm-12">
                            <div class="d-block justify-content-left border-0 mt-3">
                               <button type="button" [disabled]="form.invalid || AppStore.loading" class="btn btn-active"
                                  (click)="save()">{{ AppStore.loading ? getButtonText('loading') : getButtonText('save') }}</button>
                               <button type="button" [disabled]="form.invalid || AppStore.loading" class="btn"
                                  (click)="save(true)">{{ AppStore.loading ? getButtonText('loading') :
                                  getButtonText('save_close')}}</button>
                               <button type="button" data-toggle="modal" (click)="cancel()" class="btn">Cancel</button>
                            </div>
                         </div>
                    </div>
                </form>
                </div>
                <!-- Modal footer -->
            </div>
        </div>
    <!-- </div> -->