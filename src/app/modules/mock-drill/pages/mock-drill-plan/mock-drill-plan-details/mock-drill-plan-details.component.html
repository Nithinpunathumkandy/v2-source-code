<main class="mt-3 acl-page">
    <div class="container-fluid" *mobxAutorun>
        <div class="tab-pane active" id="top-tab-left-one" *ngIf="MockDrillPlanStore?.individual_mockdrillplan_loaded">
            <div class="row">
                <div class="col-sm-12 col-lg-12 ">
                    <div class="widg-padding-cmn bg-white">
                        <div class="min-height-64">
                            <div class="issue-top-sec">
                                <div class="clearfix">
                                    <h5 class="d-inline-block cmn-head-style label-tag-style">
                                        {{mockDrillPlanDetails?.mock_drill_type?.type}}
                                        / #{{mockDrillPlanDetails?.reference_code}}<span
                                            class="draft-tag label-tag-style-tag label-left-arow-tag"
                                            style="line-height: 16px; vertical-align: middle; margin-top: -4px; display: inline-block;"
                                            [attr.class]="'dot-div '+mockDrillPlanDetails?.mock_drill_status?.label">
                                            {{mockDrillPlanDetails?.mock_drill_status?.mock_drill_status}}</span>
                                    </h5>
                                </div>
                                <div class="clearfix">
                                    <p class="label-tag-style mb-2">
                                        <i class="fas fa-calendar-alt date-pics-two"></i> {{mockDrillPlanDetails?.date |
                                        date: OrganizationGeneralSettingsStore.organizationSettings?.date_format}}
                                    </p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-4 col-sm-6">
                                    <div class="label-and-user-pic">
                                        <div
                                            class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg">
                                            <app-user-popup-box
                                                [source]="getPopupDetails(mockDrillPlanDetails?.team_lead)"
                                                [showName]="true"></app-user-popup-box>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-12 col-sm-12">
                                    <h6>{{'venue' | translate}}</h6>
                                    <p> {{ mockDrillPlanDetails?.venue}}</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-12 col-sm-12">
                                    <h6>{{'evacuation_team_details' | translate}}</h6>
                                    <div class="audit-page-table-main">
                                        <div class="row">
                                            <div class="col-sm-12 full-width-table">
                                                <ng-container>
                                                    <table
                                                        class="table table-bordered ordinary-table audit-page-table mb-4 table-scroll"
                                                        *ngIf="mockDrillPlanDetails!=undefined && mockDrillPlanDetails?.mock_drill_plan_users?.length>0">
                                                        <thead>
                                                            <tr>
                                                                <th class="border-top-0 text-center" width="2%">
                                                                    {{'sl'|translate}}</th>
                                                                <th class="border-top-0" width="30%">{{'name' |
                                                                    translate}}
                                                                </th>
                                                                <th class="border-top-0" width="30%">{{'roles' |
                                                                    translate}}
                                                                </th>
                                                                <th class="border-top-0 text-center" width="10%">
                                                                    {{'floor' |
                                                                    translate}}</th>
                                                                <th class="border-top-0" width="30%">{{'responsibility'
                                                                    |
                                                                    translate}}</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr
                                                                *ngFor="let row of mockDrillPlanDetails.mock_drill_plan_users;let idx=index">
                                                                <td class="text-center">{{idx+1}}</td>
                                                                <td>
                                                                    <div
                                                                        class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg">

                                                                        <app-user-popup-box
                                                                            [source]="getPopupDetails(row?.user)"
                                                                            [showName]="true"></app-user-popup-box>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    {{row.mock_drill_evacuation_role?.language[0]?.pivot?.title
                                                                    ==null ||
                                                                    row.mock_drill_evacuation_role?.language[0]?.pivot?.title
                                                                    =='' ?
                                                                    AppStore.noContentText
                                                                    :row.mock_drill_evacuation_role?.language[0]?.pivot?.title
                                                                    }}
                                                                </td>
                                                                <td class="text-center">{{row.floor ==null || row.floor
                                                                    ==''? AppStore.noContentText:
                                                                    row.floor}}</td>
                                                                <td>{{row.resposibility ==null || row.resposibility
                                                                    ==''? AppStore.noContentText:
                                                                    row.resposibility}}
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </ng-container>
                                                <ng-container>
                                                    <app-no-data
                                                        *ngIf="mockDrillPlanDetails?.mock_drill_plan_users == undefined || mockDrillPlanDetails?.mock_drill_plan_users?.length==0"
                                                        [border]=false [height]=true>
                                                    </app-no-data>
                                                </ng-container>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-12 col-sm-12">
                                    <h6>{{'stake_holders' | translate}}</h6>
                                    <div class="audit-page-table-main">
                                        <div class="row">
                                            <div class="col-sm-12 full-width-table">
                                                <ng-container>
                                                    <table
                                                        class="table table-bordered ordinary-table audit-page-table mb-4 table-scroll"
                                                        *ngIf="mockDrillPlanDetails!=undefined && mockDrillPlanDetails?.mock_drill_stakeholders?.length>0">
                                                        <thead>
                                                            <tr>
                                                                <th class="border-top-0 text-center" width="2%">
                                                                    {{'sl'|translate}}</th>
                                                                <th class="border-top-0" width="49%">{{'title' |
                                                                    translate}}
                                                                </th>
                                                                <th class="border-top-0" width="49%">{{'communication' |
                                                                    translate}}
                                                                </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr
                                                                *ngFor="let row of mockDrillPlanDetails.mock_drill_stakeholders;let idx=index">
                                                                <td class="text-center">{{idx+1}}</td>
                                                                <td>{{row.title ==null || row.title
                                                                    ==''? AppStore.noContentText:
                                                                    row.title}}</td>
                                                                <td>{{row.communication ==null || row.communication
                                                                    ==''? AppStore.noContentText:
                                                                    row.communication}}
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </ng-container>
                                                <ng-container>
                                                    <app-no-data
                                                        *ngIf="mockDrillPlanDetails?.mock_drill_stakeholders == undefined || mockDrillPlanDetails?.mock_drill_stakeholders?.length==0"
                                                        [border]=false [height]=true>
                                                    </app-no-data>
                                                </ng-container>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <hr class="mb-2">
                                <app-user-popup-box
                                    [source]="getPopupDetails(MockDrillPlanStore.selectedPlanData?.created_by,MockDrillPlanStore.selectedPlanData?.created_at)"
                                    [showName]="true"></app-user-popup-box>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        <ng-container *mobxAutorun>
            <div *ngIf="!MockDrillPlanStore?.individual_mockdrillplan_loaded">
                <app-mock-drill-plan-details-loader></app-mock-drill-plan-details-loader>
            </div>
        </ng-container>
    </div>
</main>