<!-- <main class="audit-program-details-page mt-3">
   <div class="container-fluid widget"> -->
<div class="row">
   <div class="col-sm-12">
      <div class="tab-pane " id="info">
         <ng-container *mobxAutorun>
            <div *ngIf="!ProcessStore?.process_details_loaded">
               <app-process-info-loader></app-process-info-loader>
            </div>
         </ng-container>
         <div class="bg-white bpm-process-details-page widg-padding-cmn">
            <div class="min-height-64">
               <div class="row" *mobxAutorun>
                  <div class="col-lg-8 col-sm-12"
                     *ngIf="ProcessStore.process_details_loaded && AuthStore.getActivityPermission(100,'PROCESS_DETAILS')">
                     <div class="issue-top-sec">
                        <div class="clearfix">
                           <!-- Process Title & Refrence Code -->
                           <h5 class="d-inline-block cmn-head-style label-tag-style"><span
                                 class="issue-smoal-head-text">#{{ProcessStore.processDetails.reference_code}}</span>{{ProcessStore.processDetails.title}}
                           </h5>
                           <!-- Risk Rate -->
                           <!-- <span class="indication-text align-middle-indication color-red"><span
                                    class="round-dot"></span> High</span> -->
                        </div>
                        <!-- Ms-Type  -->
                        <div class="issuue-new-style p-0">
                           <div
                              *ngIf="ProcessStore.processDetails?.process_ms_type_organizations && OrganizationGeneralSettingsStore.organizationSettings?.is_ms_type">
                              <p *ngIf="ProcessStore.processDetails?.process_ms_type_organizations.length==0">
                                 {{AppStore.noContentText}}</p>
                              <p class="outline-tag"
                                 *ngFor="let item of ProcessStore.processDetails?.process_ms_type_organizations">
                                 {{item?.ms_type?.title}}
                                 <span style="color: #b2b2b2;">V
                                    {{item?.ms_type_version?.title}}</span>
                              </p>
                           </div>
                           <!-- <label *ngFor="let item of ProcessStore.processDetails?.process_ms_type_organizations" class="outline-tag">{{item.ms_type.title}} <span style="color: #b2b2b2;">V {{item.ms_type_version?.title}}</span></label> -->
                        </div>

                        <!-- Description -->
                        <p style="white-space: pre-wrap;">
                           {{ProcessStore.processDetails.description?ProcessStore.processDetails.description:AppStore.noContentText}}
                        </p>
                     </div>

                     <div class="row">
                        <div class="col-xl-3 col-lg-4 col-sm-6">
                           <h6>{{'process_categories' | translate}}</h6>
                           <p>{{ProcessStore.processDetails.process_category?ProcessStore.processDetails.process_category.title:AppStore.noContentText}}
                           </p>
                        </div>
                        <div class="col-xl-3 col-lg-4 col-sm-6">
                           <h6>{{'process_group' | translate}}</h6>
                           <p>{{ProcessStore.processDetails.process_group?ProcessStore.processDetails.process_group.title:AppStore.noContentText}}
                           </p>
                        </div>
                        <div class="col-xl-3 col-lg-4 col-sm-6">
                           <div class="label-and-user-pic">
                              <h6>{{'process_owner' | translate}}</h6>
                              <app-user-popup-box
                                 [source]="getPopupDetails(ProcessStore.processDetails.process_owner,false)"
                                 [showName]="true"></app-user-popup-box>
                           </div>
                        </div>
                        <div class="col-xl-3 col-lg-4 col-sm-6"
                           [ngStyle]="{display: !OrganizationLevelSettingsStore.organizationLevelSettings?.is_subsidiary ? 'none':'block'}">
                           <!-- Organization -->
                           <h6>{{'organization' | translate}}</h6>
                           <p>{{ProcessStore.processDetails.organization?ProcessStore.processDetails.organization.title:AppStore.noContentText}}
                           </p>
                        </div>
                        <div class="col-xl-3 col-lg-4 col-sm-6"
                           *ngIf="OrganizationLevelSettingsStore.organizationLevelSettings?.is_branch">
                           <h6>{{'branch' | translate}}</h6>
                           <p>{{ProcessStore._branch ? ProcessStore._branch : AppStore.noContentText}}</p>
                        </div>
                        <!-- </div> -->

                        <!-- <div class="row"> -->

                        <div class="col-xl-3 col-lg-4 col-sm-6"
                           [ngStyle]="{display: !OrganizationLevelSettingsStore.organizationLevelSettings?.is_division ? 'none':'block'}">
                           <!-- Division -->
                           <h6>{{'division'|translate}}</h6>
                           <p>{{ProcessStore.processDetails.division?ProcessStore.processDetails.division.title:AppStore.noContentText}}
                           </p>
                        </div>
                        <div class="col-xl-3 col-lg-4 col-sm-6"
                           [ngStyle]="{display: !OrganizationLevelSettingsStore.organizationLevelSettings?.is_department ? 'none':'block'}">
                           <!-- Department -->
                           <h6>{{'department'| translate}}</h6>
                           <p>{{ProcessStore.processDetails.department?ProcessStore.processDetails.department.title:AppStore.noContentText}}
                           </p>
                        </div>
                        <div class="col-xl-3 col-lg-4 col-sm-6"
                           [ngStyle]="{display: !OrganizationLevelSettingsStore.organizationLevelSettings?.is_section ? 'none':'block'}">
                           <!-- Section -->
                           <h6>{{'section' | translate}}</h6>
                           <p>{{ProcessStore.processDetails.section?ProcessStore.processDetails.section.title:AppStore.noContentText}}
                           </p>
                        </div>
                        <div class="col-xl-3 col-lg-4 col-sm-6"
                           [ngStyle]="{display: !OrganizationLevelSettingsStore.organizationLevelSettings?.is_sub_section ? 'none':'block'}">
                           <!-- Sub Section -->
                           <h6>{{'sub_section' | translate}}</h6>
                           <p>{{ProcessStore.processDetails.sub_section?ProcessStore.processDetails.sub_section.title:AppStore.noContentText}}
                           </p>
                        </div>
                     </div>

                     <div class="row">
                        <div class="col-sm-12">
                           <!--Scope-->
                           <h6>{{'scope' | translate}}</h6>
                           <p style="white-space: pre-wrap;">
                              {{ProcessStore.processDetails.scope?ProcessStore.processDetails.scope:AppStore.noContentText}}
                           </p>
                        </div>
                        <div class="col-sm-12">
                           <!-- Cycle Time -->
                           <h6>{{'cycle_time' | translate}}</h6>
                           <p>{{ProcessStore.processDetails.cycle_time?ProcessStore.processDetails.cycle_time:AppStore.noContentText}}
                           </p>
                        </div>

                        <div class="col-sm-12">
                           <h6>{{'controls' | translate}}</h6>
                           <!-- && ProcessStore.processDetails?.process_controls[0]?.control_objectives?.length > 0 -->
                           <div class="panel-group panel-drop-sections pt-0" id="cc" role="tablist"
                              aria-multiselectable="true"
                              *ngIf="ProcessStore.processDetails?.process_controls.length > 0">
                              <div class="panel panel-default"
                                 *ngFor="let row of ProcessStore.processDetails?.process_controls;let num = index">
                                 <div class="pointer"
                                    [ngClass]="row.is_accordion_active == true || openAll==true? 'panel-heading active' : 'panel-heading'"
                                    role="tab" id="activityHeader">
                                    <div class="panel-title">
                                       <a role="button" data-toggle="collapse" aria-expanded="true"
                                          aria-controls="collapseOne" (click)="setControlAccordion(num)">
                                          <h5 class="width96pc mt-0"> <span>#{{row.reference_code}}</span> -
                                             <span>{{row.title}}</span> <span
                                                [ngClass]="setLabelColor(row)">{{row.control_efficiency_measure?row.control_efficiency_measure.language[0].pivot.title:AppStore.noContentText}}</span>
                                             <span class="drop-down-icone"><i class="fas fa-chevron-down"></i></span>
                                          </h5>
                                          <!-- <h5 class="width96pc mt-0"> <span>#{{row.reference_code}}</span> - <span>{{row.title}}</span> - <span>{{row.control_category?.title?row.control_category.title:AppStore.noContentText}}</span> <span  [ngClass]="setLabelColor(row.control_efficiency_measure.label)">{{row.control_efficiency_measure.language[0].pivot.title}}</span> <span class="drop-down-icone"><i class="fas fa-chevron-down"></i></span> </h5> -->

                                       </a>
                                    </div>
                                 </div>
                                 <div class="drop-detail-sec"
                                    [ngClass]="row.is_accordion_active == true || openAll==true? 'panel-collapse collapse show' : 'panel-collapse collapse'"
                                    role="tabpanel" aria-labelledby="activityHeader" #controlShow>
                                    <div class="panel-body bg-white">
                                       <p style="white-space: pre-wrap;" class="mb-0">{{row.description ? row?.description : AppStore.noContentText}}</p>
                                       <div class="drop-detail-sec">
                                          <ul class="banking-issue" *ngFor="let list of row.control_objectives">
                                             <li class="clearfix"><a>{{list.title}}</a></li>
                                          </ul>
                                       </div>
                                       <!-- <div *ngIf="!(row.control_objectives.length > 0)">{{AppStore.noContentText}}</div> -->
                                    </div>
                                 </div>
                              </div>
                           </div>
                           <p *ngIf="ProcessStore.processDetails?.process_controls.length == 0">
                              {{AppStore.noContentText}}</p>
                        </div>

                        <!-- <div class="col-sm-12">
                        <h6 class="mb-1">{{'process_risk' | translate}}</h6>
                        <div class="drop-detail-sec">
                          <ul class="arrowlist mt-0 pl-0" *ngIf = "ProcessStore.processDetails?.process_risks.length > 0">
                             <li *ngFor = "let risks of ProcessStore.processDetails.process_risks; let it = index">{{risks.title}} 
                             </li>
                          </ul>
                          <p *ngIf="!(ProcessStore.processDetails?.process_risks.length > 0)">{{AppStore.noContentText}}</p>
                        </div>
                     </div> -->
                     </div>

                     <!-- Support Files -->
                     <h6 class="mt-1" *ngIf="ProcessStore.processDetails.process_documents.length > 0">{{'support_files'
                        | translate}}</h6>

                     <div class="thumb-pics-bg thumb-pics-col-4 thumb-pics-fix-text clearfix" style="padding-top: 0">
                        <div class="thumb-pics"
                           *ngFor="let docs of ProcessStore.processDetails.process_documents;let i = index">

                           <!-- System Files Starts Here -->
                           <div
                              [ngClass]="AuthStore.getActivityPermission(100,'PREVIEW_PROCESS_DOCUMENT_FILE') ? 'upload-pics edit-option pointer' : 'upload-pics edit-option'"
                              *ngIf="!docs.document_id"
                              (click)="AuthStore.getActivityPermission(100,'PREVIEW_PROCESS_DOCUMENT_FILE') ? viewProcessDocument('document',ProcessStore.processDetails,docs): ''">
                              <!--  "viewDocument('document',docs,docs)"-->
                              <div class="browse-form-pic"
                                 [ngStyle]="{'background': 'url('+createImageUrl('process-document',docs?.token)+') no-repeat'}">
                              </div>
                              <div class="browse-form-name clearfix">
                                 <div class="float-left">
                                    <h6>
                                       {{docs?.title?docs?.title:docs?.name?docs?.name:docs?.version_title?docs?.version_title:"NA"}}.{{docs?.ext}}
                                    </h6>
                                    <span>{{docs?.size/1048576 | number:'0.2-2'}}MB</span><span
                                       class="text-blue bold pl-2">System</span>
                                 </div>
                                 <div class="browse-logo">
                                    <img *ngIf="checkExtension(docs.ext,'image') != -1" class="folder-picher"
                                       src="/assets/images/jpg-icone.png">
                                    <img *ngIf="checkExtension(docs.ext,'doc') != -1" class="folder-picher"
                                       src="/assets/images/word-icone.png">
                                    <img *ngIf="checkExtension(docs.ext,'pdf') != -1" class="folder-picher"
                                       src="/assets/images/pdf-icone.png">
                                    <img *ngIf="checkExtension(docs.ext,'excel') != -1" class="folder-picher"
                                       src="/assets/images/excel-icone.png">
                                    <img *ngIf="checkExtension(docs.ext,'video') != -1" class="folder-picher"
                                       src="/assets/images/md-video.png">
                                    <img *ngIf="checkExtension(docs.ext,'audio') != -1" class="folder-picher"
                                       src="/assets/images/md-audio.png">
                                    <img *ngIf="checkExtension(docs.ext,'ppt') != -1" class="folder-picher"
                                       src="/assets/images/md-ppt.png">
                                 </div>
                              </div>
                              <div class="edit-option-show">
                                 <a *ngIf="AuthStore.getActivityPermission(100,'DOWNLOAD_PROCESS_DOCUMENT_FILE')"
                                    [attr.title]="'download_document' | translate"><i class="fas fa-download"
                                       (click)="downloadProcessDocument('document',ProcessStore.processDetails,docs)"></i></a>
                              </div>
                           </div>

                           <!-- System Files Starts Here -->
                           <!-- KnowledgeHub Files Starts Here -->
                           <div
                              [ngClass]="AuthStore.getActivityPermission(100,'PREVIEW_PROCESS_DOCUMENT_FILE') ? 'upload-pics edit-option pointer' : 'upload-pics edit-option'"
                              *ngIf="docs?.document_id">

                              <div *ngFor="let mainDoc of docs.kh_document.versions"
                                 (click)="AuthStore.getActivityPermission(100,'PREVIEW_PROCESS_DOCUMENT_FILE') ? viewDocument('document-version',docs,mainDoc): ''">
                                 <div *ngIf="mainDoc?.is_latest">
                                    <div class="browse-form-pic"
                                       [ngStyle]="{'background': 'url('+createImageUrl('document-version',mainDoc?.token)+') no-repeat'}">
                                    </div>
                                    <div class="browse-form-name clearfix">
                                       <div class="float-left">
                                          <h6>{{mainDoc?.title}}.{{mainDoc?.ext}}
                                          </h6>
                                          <span>{{mainDoc?.size/1048576 | number:'0.2-2'}}MB</span><span
                                             class="text-blue bold pl-2">Knowledge Hub</span>
                                       </div>
                                       <div class="browse-logo">
                                          <img *ngIf="checkExtension(mainDoc.ext,'image') != -1" class="folder-picher"
                                             src="/assets/images/jpg-icone.png">
                                          <img *ngIf="checkExtension(mainDoc.ext,'doc') != -1" class="folder-picher"
                                             src="/assets/images/word-icone.png">
                                          <img *ngIf="checkExtension(mainDoc.ext,'pdf') != -1" class="folder-picher"
                                             src="/assets/images/pdf-icone.png">
                                          <img *ngIf="checkExtension(mainDoc.ext,'excel') != -1" class="folder-picher"
                                             src="/assets/images/excel-icone.png">
                                          <img *ngIf="checkExtension(mainDoc.ext,'video') != -1" class="folder-picher"
                                             src="/assets/images/md-video.png">
                                          <img *ngIf="checkExtension(mainDoc.ext,'audio') != -1" class="folder-picher"
                                             src="/assets/images/md-audio.png">
                                          <img *ngIf="checkExtension(mainDoc.ext,'ppt') != -1" class="folder-picher"
                                             src="/assets/images/md-ppt.png">
                                       </div>
                                    </div>
                                    <div class="edit-option-show">
                                       <a *ngIf="AuthStore.getActivityPermission(100,'DOWNLOAD_PROCESS_DOCUMENT_FILE')"
                                          [attr.title]="'download_document' | translate"><i class="fas fa-download"
                                             (click)="downloadDocumentFile('document-version',docs,mainDoc)"></i></a>
                                    </div>
                                 </div>
                              </div>

                           </div>
                           <!-- KnowledgeHub Files Ends Here -->
                        </div>
                     </div>

                     <!-- Process-Flow -->
                     <h6 *ngIf="ProcessStore.processDetails.process_flow_documents.length > 0">{{'process_flow' |
                        translate}}</h6>

                     <div class="thumb-pics-bg thumb-pics-col-4 thumb-pics-fix-text clearfix" style="padding-top: 0">
                        <div class="thumb-pics"
                           *ngFor="let docs of ProcessStore.processDetails.process_flow_documents;let i = index">

                           <!-- System Files Starts Here -->
                           <div
                              [ngClass]="AuthStore.getActivityPermission(100,'PREVIEW_PROCESS_FLOW_DOCUMENT_FILE') ? 'upload-pics edit-option pointer' : 'upload-pics edit-option'"
                              *ngIf="!docs.document_id"
                              (click)="AuthStore.getActivityPermission(100,'PREVIEW_PROCESS_FLOW_DOCUMENT_FILE') ? viewProcessDocument('flow',ProcessStore.processDetails,docs): ''">
                              <!-- "viewDocument('flow',docs,docs)"-->
                              <div class="browse-form-pic"
                                 [ngStyle]="{'background': 'url('+createImageUrl('process-flow-document',docs?.token)+') no-repeat'}">
                              </div>
                              <div class="browse-form-name clearfix">
                                 <div class="float-left">
                                    <h6>
                                       {{docs?.title?docs?.title:docs?.name?docs?.name:docs?.version_title?docs?.version_title:"NA"}}.{{docs?.ext}}
                                    </h6>
                                    <span>{{docs?.size/1048576 | number:'0.2-2'}}MB</span><span
                                       class="text-blue bold pl-2">System</span>
                                 </div>
                                 <div class="browse-logo">
                                    <img *ngIf="checkExtension(docs.ext,'image') != -1" class="folder-picher"
                                       src="/assets/images/jpg-icone.png">
                                    <img *ngIf="checkExtension(docs.ext,'doc') != -1" class="folder-picher"
                                       src="/assets/images/word-icone.png">
                                    <img *ngIf="checkExtension(docs.ext,'pdf') != -1" class="folder-picher"
                                       src="/assets/images/pdf-icone.png">
                                    <img *ngIf="checkExtension(docs.ext,'excel') != -1" class="folder-picher"
                                       src="/assets/images/excel-icone.png">
                                    <img *ngIf="checkExtension(docs.ext,'video') != -1" class="folder-picher"
                                       src="/assets/images/md-video.png">
                                    <img *ngIf="checkExtension(docs.ext,'audio') != -1" class="folder-picher"
                                       src="/assets/images/md-audio.png">
                                    <img *ngIf="checkExtension(docs.ext,'ppt') != -1" class="folder-picher"
                                       src="/assets/images/md-ppt.png">
                                 </div>
                              </div>
                              <div class="edit-option-show">
                                 <a *ngIf="AuthStore.getActivityPermission(100,'DOWNLOAD_PROCESS_FLOW_DOCUMENT_FILE')"
                                    [attr.title]="'download_document' | translate"><i class="fas fa-download"
                                       (click)="downloadProcessDocument('flow',ProcessStore.processDetails ,docs)"></i></a>
                              </div>
                           </div>

                           <!-- System Files Starts Here -->
                           <!-- KnowledgeHub Files Starts Here -->
                           <div
                              [ngClass]="AuthStore.getActivityPermission(100,'PREVIEW_PROCESS_FLOW_DOCUMENT_FILE') ? 'upload-pics edit-option pointer' : 'upload-pics edit-option'"
                              *ngIf="docs?.document_id">

                              <div *ngFor="let mainDoc of docs.kh_document?.versions"
                                 (click)="AuthStore.getActivityPermission(100,'PREVIEW_PROCESS_FLOW_DOCUMENT_FILE') ?viewDocument('document-version',docs,mainDoc): ''">
                                 <div *ngIf="mainDoc?.is_latest">
                                    <div class="browse-form-pic"
                                       [ngStyle]="{'background': 'url('+createImageUrl('document-version',mainDoc?.token)+') no-repeat'}">
                                    </div>
                                    <div class="browse-form-name clearfix">
                                       <div class="float-left">
                                          <h6>{{mainDoc?.title}}.{{mainDoc?.ext}}
                                          </h6>
                                          <span>{{mainDoc?.size/1048576 | number:'0.2-2'}}MB</span><span
                                             class="text-blue bold pl-2">Knowledge Hub</span>
                                       </div>
                                       <div class="browse-logo">
                                          <img *ngIf="checkExtension(mainDoc.ext,'image') != -1" class="folder-picher"
                                             src="/assets/images/jpg-icone.png">
                                          <img *ngIf="checkExtension(mainDoc.ext,'doc') != -1" class="folder-picher"
                                             src="/assets/images/word-icone.png">
                                          <img *ngIf="checkExtension(mainDoc.ext,'pdf') != -1" class="folder-picher"
                                             src="/assets/images/pdf-icone.png">
                                          <img *ngIf="checkExtension(mainDoc.ext,'excel') != -1" class="folder-picher"
                                             src="/assets/images/excel-icone.png">
                                          <img *ngIf="checkExtension(mainDoc.ext,'video') != -1" class="folder-picher"
                                             src="/assets/images/md-video.png">
                                          <img *ngIf="checkExtension(mainDoc.ext,'audio') != -1" class="folder-picher"
                                             src="/assets/images/md-audio.png">
                                          <img *ngIf="checkExtension(mainDoc.ext,'ppt') != -1" class="folder-picher"
                                             src="/assets/images/md-ppt.png">
                                       </div>
                                    </div>
                                    <div class="edit-option-show">
                                       <a *ngIf="AuthStore.getActivityPermission(100,'DOWNLOAD_PROCESS_FLOW_DOCUMENT_FILE')"
                                          [attr.title]="'download_document' | translate"><i class="fas fa-download"
                                             (click)="downloadDocumentFile('document-version',docs,mainDoc)"></i></a>
                                    </div>
                                 </div>
                              </div>

                           </div>
                           <!-- KnowledgeHub Files Ends Here -->

                        </div>
                     </div>

                     <!-- DOCUMENTS ENDSS HERER -->

                  </div>
                  <!-- ARCI TABLE STARTS -->
                  <div class="col-lg-4 col-sm-12"
                     *ngIf="ProcessStore.process_details_loaded && AuthStore.getActivityPermission(100,'PROCESS_DETAILS')">
                     <div class="inner-new-table clearfix">
                        <table
                           class="table table-bordered ordinary-table audit-form-table-one w-100 vertical-align-top">
                           <tr>
                              <th class="border-top-0" width="25%">A</th>
                              <th class="border-top-0" width="25%">R</th>
                              <th class="border-top-0" width="25%">C</th>
                              <th class="border-top-0" width="25%">I</th>
                           </tr>
                           <tr *ngIf="ProcessStore.processDetails?.process_accountable_users.length > 0">
                              <!-- Accountable Users -->
                              <td>
                                 <ul class="arci-user-tab-dtl bpm-tbl-user clearfix user-center-tbl"
                                    style="min-height: auto;">
                                    <li class="animation-pulse rounde-hov-bg"
                                       *ngFor="let du of ProcessStore.processDetails?.process_accountable_users; let i = index">

                                       <app-user-popup-box [source]="getPopupDetails(du)"
                                          [showName]="false"></app-user-popup-box>
                                       <!-- user-dtl-popup end -->
                                    </li>
                                 </ul>
                              </td>
                              <!-- Accountable Users Ends Here -->
                              <!-- Responsible Users -->
                              <td>
                                 <ul class="arci-user-tab-dtl bpm-tbl-user clearfix user-center-tbl"
                                    style="min-height: auto;">
                                    <li class="animation-pulse rounde-hov-bg"
                                       *ngFor="let du of ProcessStore.processDetails?.process_responsible_users; let i = index">

                                       <app-user-popup-box [source]="getPopupDetails(du)"
                                          [showName]="false"></app-user-popup-box>
                                       <!-- user-dtl-popup end -->
                                    </li>
                                 </ul>
                              </td>
                              <!-- Responsible Ends Here -->
                              <!-- Consulted Users -->
                              <td>
                                 <ul class="arci-user-tab-dtl bpm-tbl-user clearfix user-center-tbl"
                                    style="min-height: auto;">
                                    <li class="animation-pulse rounde-hov-bg"
                                       *ngFor="let du of ProcessStore.processDetails?.process_consulted_users; let i = index">

                                       <app-user-popup-box [source]="getPopupDetails(du)"
                                          [showName]="false"></app-user-popup-box>
                                       <!-- user-dtl-popup end -->
                                    </li>
                                 </ul>
                              </td>
                              <!-- Consulted Users Ends Here-->
                              <!-- Informed Users -->
                              <td>
                                 <ul class="arci-user-tab-dtl bpm-tbl-user clearfix user-center-tbl"
                                    style="min-height: auto;">
                                    <li class="animation-pulse rounde-hov-bg"
                                       *ngFor="let du of ProcessStore.processDetails?.process_informed_users; let i = index">
                                       <app-user-popup-box [source]="getPopupDetails(du)"
                                          [showName]="false"></app-user-popup-box>
                                       <!-- user-dtl-popup end -->
                                    </li>
                                 </ul>
                              </td>
                              <!-- Informed Users Ends Here-->
                           </tr>
                           <tr *ngIf="ProcessStore.processDetails?.process_accountable_users.length == 0">
                              <td colspan="4" class="p-0">
                                 <ng-container>
                                    <app-no-image-data></app-no-image-data>
                                    <!-- [sourceData] = "getNoDataSource('center')" -->
                                 </ng-container>
                              </td>
                           </tr>
                        </table>

                     </div>
                  </div>
               </div>
               <!-- Activities Starts -->
               <div class="row mb-4"
                  *ngIf="ProcessStore.process_details_loaded && AuthStore.getActivityPermission(100,'PROCESS_DETAILS')">
                  <div class="col-md-12" *mobxAutorun>
                     <div class="user-details-page mt-2">
                        <div class="right-block p-0">
                           <h5 class="mt-0"> <span> {{'process_activities' | translate}} </span> </h5>
                        </div>
                     </div>

                     <ng-container
                        *ngIf="ActivityStore.loaded && ActivityStore.activitiesList?.length != 0 && AuthStore.getActivityPermission(100,'PROCESS_ACTIVITY_LIST')">
                        <div class="activities-loop-main activities-loop-pc ">
                           <ul class="clearfix">
                              <li [ngClass]="last? lastDataClass(activity.class):activity.class"
                                 *ngFor="let activity of processActivityArray;let num = index;let last = last;">
                                 <div class="edit-option-show-inner" style="margin: -5px -10px 0 0;">
                                    <a (click)="editActivity(activity.id)"
                                       *ngIf="AuthStore.getActivityPermission(100,'UPDATE_PROCESS_ACTIVITY')"><i
                                          class="fas fa-pen"></i></a>
                                    <a (click)="delete(activity.id)"
                                       *ngIf="AuthStore.getActivityPermission(100,'DELETE_PROCESS_ACTIVITY')"><i
                                          class="fas fa-trash"></i></a>
                                 </div>
                                 <a class="activities-item" data-toggle="modal" data-target="#activities-details-popup">
                                    <div class="d-flex align-items-center">
                                       <div class="activities-number-main">
                                          <div class="activities-number-bg">
                                             <div class="activities-number"> {{(ActivityStore?.currentPage - 1) *
                                                ActivityStore?.itemsPerPage + (num + 1)}} </div>
                                          </div>
                                       </div>
                                       <div class="activities-content w-100 text-center">
                                          <h5 class="elips-2"> <a
                                                (click)="openActivityDetailsModal(activity.id)">{{activity.title}} </a>
                                          </h5>
                                       </div>
                                    </div>
                                 </a>
                              </li>
                           </ul>
                        </div>

                        <div class="activities-loop-mobile">
                           <ul class="clearfix">
                              <li [class.down-arrow-dark-mbl-first]="first"
                                 [class.down-arrow-dark-mbl]="first?false:odd" class="edit-option"
                                 *ngFor="let activity of processActivityArray;let num = index;let first =first;let odd = odd">
                                 <!-- <div class="edit-option-show-inner" style="margin: -5px -10px 0 0;">
                                       <a href="#"><i class="fas fa-pen"></i></a>
                                       <a href="#"><i class="fas fa-trash"></i></a>
                                     </div> -->
                                 <a data-toggle="modal" data-target="#activities-details-popup">
                                    <div class="w-100">

                                       <div class="activities-content w-100 text-center">
                                          <h5 (click)="openActivityDetailsModal(activity.id)">{{activity.title}} </h5>
                                       </div>
                                       <div class="activities-number-main mt-3">
                                          <div class="activities-number-bg">
                                             <div class="activities-number"
                                                (click)="openActivityDetailsModal(activity.id)">
                                                {{(ActivityStore?.currentPage - 1) * ActivityStore?.itemsPerPage + (num
                                                + 1)}}
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                 </a>
                              </li>
                           </ul>
                        </div>

                        <!-- ** -->
                        <!-- <div class="panel-group panel-drop-sections pt-0" id="jd" role="tablist"
                              aria-multiselectable="true" *ngIf="ActivityStore.loaded && ActivityStore.activitiesList?.length != 0 && AuthStore.getActivityPermission(100,'PROCESS_ACTIVITY_LIST')">
                              <div class="activities-main clearfix" *ngFor="let activity of ActivityStore.activitiesList;let num = index">
                                 <div class="activities-left" >
                                    <div class="activities-nbr">{{(ActivityStore?.currentPage - 1) * ActivityStore?.itemsPerPage + (num + 1)}}</div>
                                 </div>
                                 <div class="activities-right">
                                    <div class="panel panel-default edit-and-delete-main"> -->
                        <!-- edit-and-delete starts -->
                        <!-- <div class="edit-option-show" style="margin: 32px 27px 0 0;">
                                          <a title="Delete" (click) = "delete(activity.id)" *ngIf="AuthStore.getActivityPermission(100,'DELETE_PROCESS_ACTIVITY')"><i class="fas fa-trash pointer"></i></a>
                                          <a title="Edit" (click) = "editActivity(activity.id)" *ngIf="AuthStore.getActivityPermission(100,'UPDATE_PROCESS_ACTIVITY')"><i class="fas fa-pen pointer"></i></a>                               
                                        </div> -->
                        <!-- edit-and-delete end -->
                        <!-- <div class="pointer" [ngClass]="activity.is_accordion_active == true || openAll==true ? 'panel-heading active' : 'panel-heading'" role="tab" id="activityHeader">
                                          <div class="panel-title">
                                             <a role="button" data-toggle="collapse" aria-expanded="true"
                                                 aria-controls="collapseOne" (click)="getActivityDetails(activity.id,num)">
                                                 <h5 class="width96pc mt-0"> <span> {{activity.title}} </span> <span class="drop-down-icone"><i class="fas fa-chevron-down"></i></span> </h5>
                                             </a>
                                         </div>
                                        </div>
                                       <div   [ngClass]="activity.is_accordion_active == true || openAll==true? 'panel-collapse collapse show' : 'panel-collapse collapse'"
                                          role="tabpanel" aria-labelledby="headingOne" data-parent="#ceo904"
                                         #activityShow>
                                          <div class="panel-body bg-white pb-0" *ngIf="ActivityStore.activity_details_loaded && AuthStore.getActivityPermission(100,'PROCESS_ACTIVITY_DETAILS')">
                                             <div class="activities-inner-page">
                                                <h6>{{'description' | translate}}</h6>
                                                <p style="white-space: pre-wrap;">{{ActivityStore.getActivityDetails.description?ActivityStore.getActivityDetails.description:AppStore.noContentText}}</p>
            
                                                <h6>{{'designation' | translate}}</h6>
                                                <p>{{ActivityStore.getActivityDetails.designation?ActivityStore.getActivityDetails.designation.title:AppStore.noContentText}}</p> -->

                        <!-- Responsible User -->
                        <!-- <h6>{{'responsible' | translate}}</h6> -->
                        <!-- <p *ngIf="!(ActivityStore.getActivityDetails.responsible_user.length > 0)">{{AppStore.noContentText}}</p> -->
                        <!-- <app-user-popup-box *ngIf="ActivityStore.getActivityDetails.responsible_user.length > 0"
                                                   [source]="assignUserValues(ActivityStore.getActivityDetails.responsible_user,'responsible')" [showName] = "true" [activateButtons]="true">
                                                </app-user-popup-box> -->
                        <!-- <app-user-info [source]="responsibleUserObject" ></app-user-info> -->
                        <!-- Accountable User -->
                        <!-- <h6>{{'accountable' | translate}}</h6>
                                                  <p *ngIf="ActivityStore.getActivityDetails.accountable_user == null" >{{AppStore.noContentText}}</p> -->
                        <!-- <app-user-popup-box *ngIf="ActivityStore.getActivityDetails.accountable_user != null"
                                                   [source]="assignUserValues(ActivityStore.getActivityDetails.accountable_user,'accountable')" [activateButtons]="true">
                                                </app-user-popup-box> -->
                        <!-- <app-user-info [source]="accountableUserObject" ></app-user-info>

                                                <h6 class="mb-1 mt-3">{{'activity_input' | translate}}</h6>                                       
                                                <p>{{ActivityStore.getActivityDetails.activity_input?ActivityStore.getActivityDetails.activity_input:AppStore.noContentText}}</p>
                                               
            
                                                <h6 class="mb-1 mt-3">{{'activity_output' | translate}}</h6>                                        
                                                <p>{{ActivityStore.getActivityDetails.activity_output?ActivityStore.getActivityDetails.activity_output:AppStore.noContentText}}</p>
                                               
            
                                          
                                                <h6 class="mt-3" *ngIf = "ActivityStore.getActivityDetails.documents.length > 0">{{'attachments' | translate}}</h6>
                                                <div class="thumb-pics-bg thumb-pics-col-5 clearfix thumb-pics-fix-text edit-and-delete-main"> -->
                        <!-- <div class="edit-option-show" style="margin-top: -14px;" *ngIf="ActivityStore.getActivityDetails.documents.length > 0 && AuthStore.getActivityPermission(100,'DOWNLOAD_PROCESS_ACTIVITY_DOCUMENT')">
                                                      <a><i class="fas fa-download" title="Download All" (click) ="downloadAllProcessessDocument('activity',ActivityStore.getActivityDetails.process_id,ActivityStore.getActivityDetails.id)"></i></a>
                                                    </div>
                                                   <div class="thumb-pics" *ngFor = "let documents of ActivityStore.getActivityDetails.documents">
                                                      <div [ngClass]="AuthStore.getActivityPermission(100,'PREVIEW_PROCESS_ACTIVITY_DOCUMENT_FILE') ? 'upload-pics upload-pics-small edit-option pointer' : 'upload-pics upload-pics-small edit-option'" *ngIf="AuthStore.getActivityPermission(100,'PREVIEW_PROCESS_ACTIVITY_DOCUMENT_FILE')" (click) ="viewProcessDocument('activity',ActivityStore.getActivityDetails,documents)">
                                                         <div class="browse-form-pic" [ngStyle]="{'background': 'url(' + createImageUrl('process-activities',documents.token) + '), url(' + getDefaultImage('no-preview') + ') no-repeat 0 0 / cover '}">
                                                         </div>
                                                         <div class="browse-form-name clearfix">
                                                            <div class="float-left">
                                                               <h6 [attr.title] = "documents.title">{{documents.title?.length > 13 ? documents.title.substring(0,13)+' ...': documents.title}}</h6>
                                                               <span>{{documents.size/1048576 | number:'0.2-2'}}MB</span>
                                                            </div>
                                                            <div class="browse-logo">
                                                               <img *ngIf = "checkExtension(documents.ext,'image') != -1" src="/assets/images/md-jpg.png">
                                                               <img *ngIf = "checkExtension(documents.ext,'doc') != -1" src="/assets/images/word-icone.png">
                                                               <img *ngIf = "checkExtension(documents.ext,'pdf') != -1" src="/assets/images/pdf-icone.png">
                                                               <img *ngIf = "checkExtension(documents.ext,'excel') != -1" src="/assets/images/excel-icone.png">
                                                               <img *ngIf = "checkExtension(documents.ext,'video') != -1" src="/assets/images/md-video.png">
                                                               <img *ngIf = "checkExtension(documents.ext,'audio') != -1" src="/assets/images/md-audio.png">
                                                               <img *ngIf = "checkExtension(documents.ext,'ppt') != -1" src="/assets/images/md-ppt.png">
                                                            </div>
                                                         </div>
                                                         <div class="edit-option-show-inner" style="margin: 0 -8px 0 0;" *ngIf="AuthStore.getActivityPermission(100,'DOWNLOAD_PROCESS_ACTIVITY_DOCUMENT_FILE') && openAll==false" [attr.title]="'download_attachment' | translate">
                                                            <a><i class="fas fa-download" (click) = "downloadProcessDocument('activity',ActivityStore.getActivityDetails,documents)"></i></a>
                                                         </div>
                                                      </div>
                                                   </div>
                                                </div>
             
                                             </div>
                                          </div>
                                       </div>
                                    </div>                              
                                 </div>
                              </div>
                           </div> -->
                        <!-- ** -->

                        <div class="mb-0">
                           <hr>
                           <span class="user-box-big-plus newbox-plus-activities"
                              *ngIf="ActivityStore.activitiesList?.length != 0 && AuthStore.getActivityPermission(100,'CREATE_PROCESS_ACTIVITY')  && openAll==false"
                              (click)=openActivityForm()><i class="fas fa-plus"></i></span>
                        </div>
                        <ng-container *mobxAutorun>
                           <app-no-data *ngIf="ActivityStore.loaded && ActivityStore.activitiesList?.length == 0"
                              [border]=false [height]=true style="height: 300px"></app-no-data>
                        </ng-container>
                     </ng-container>
                     <div class="mb-0"
                        *ngIf="ActivityStore.activitiesList?.length == 0 && AuthStore.getActivityPermission(100,'CREATE_PROCESS_ACTIVITY')">
                        <hr>
                        <span class="user-box-big-plus newbox-plus-activities" (click)=openActivityForm()><i
                              class="fas fa-plus"></i></span>
                     </div>
                  </div>
               </div>
            </div>
            <!-- Activities Ends -->
            <!-- User Details -->
            <div class="row">
               <div class="col-xl-12">
                  <hr class="mb-2">
                  <div class="d-flex flex-row user-list-sm p-0"
                     *ngIf="ProcessStore.process_details_loaded && AuthStore.getActivityPermission(100,'PROCESS_DETAILS')  && openAll==false">
                     <!-- <figure *ngIf="ProcessStore.processDetails.created_by.image.token">
                          <img [attr.src]="createPreviewUrl(ProcessStore.processDetails.created_by.image.token)"
                              onerror="this.src='/assets/images/user-demo2.png'"
                              width="30px" height="30px"
                              class="rounded-circle rounde-hov"></figure>
            
                      <img *ngIf="!ProcessStore.processDetails.created_by.image.token"
                          src="/assets/images/user-demo2.png" width="30px"
                          height="30px" class="rounded-circle rounde-hov">                 
                           <div>
                             <h6>{{ProcessStore.processDetails.created_by.first_name}}&nbsp;{{ProcessStore.processDetails.created_by.last_name}}</h6>
                             <span>{{ProcessStore.processDetails.created_by.designation}} | Created on {{ProcessStore.processDetails.created_at| date :'medium'}}</span>
                           </div> -->
                     <app-user-popup-box [source]="getPopupDetails(ProcessStore.processDetails.created_by,true)"
                        [showName]="true"></app-user-popup-box>
                  </div>
               </div>
            </div>
            <!-- User Details Ends -->
         </div>
      </div>

   </div>
</div>
<!-- </div> -->

<!-- </main> -->

<!-- ---------File Preview-------------- -->
<div class="modal modal-style-1 popup-full-width fade popup-new-type" id="add-three-popup" data-keyboard="false"
   data-backdrop="static" #filePreviewModal *mobxAutorun>
   <button type="button" class="close" data-dismiss="modal" (click)="closePreviewModal($event)"><i
         class="lni-close"></i><span>{{'esc' | translate}}</span></button>
   <app-preview *ngIf="previewObject" [source]="previewObject" (close)="closePreviewModal($event)"></app-preview>
</div>
<!--------------- Ends Here ------------>
<!------------------- Delete Confirmation Modal End --------------------------->
<div class="modal modal-style-1 image-download-popup-new fade" id="loadMe" aria-labelledby="loadMeLabel" tabindex="-1"
   role="dialog" #loaderPopUp>
   <app-loader [source]="downloadMessage"></app-loader>
</div>
<!-- --------------Activity Add Modal--------------- -->
<div class="modal modal-style-1 popup-full-width fade" data-keyboard="false" data-backdrop="static" #activityModal
   *mobxAutorun>
   <!-- add-activities-popup Start -->

   <button type="button" class="close" (click)="cancel()" data-dismiss="modal"><i class="lni-close"></i><span>{{'esc' |
         translate}}</span></button>
   <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
         <!-- Modal Header -->
         <div class="modal-header">
            <h4 class="modal-title" *ngIf="!ActivityStore.Editflag">{{'add_activity' | translate}}</h4>
            <h4 class="modal-title" *ngIf="ActivityStore.Editflag">{{'edit_activity' | translate}}</h4>
         </div>
         <!-- Modal body -->
         <form [formGroup]="activityForm" *mobxAutorun>
            <div class="modal-body form-body">
               <div class="row">
                  <div class="col-sm-12">
                     <div class="form-group">
                        <label>{{'title'|translate}}<span class="form-error">*</span></label>
                        <input type="text" class="form-control"
                           [attr.placeholder]="'process_activity_title_label'|translate" formControlName="title">
                        <p class="form-error" *ngIf="formErrors"> {{formErrors.title}}</p>
                     </div>
                  </div>
               </div>
               <div class="row">
                  <div class="col-sm-12">
                     <div class="form-group">
                        <label>{{'designation' | translate}}<span class="form-error">*</span></label>
                        <div class="clearfix">
                           <div class="multiple-plain-ngselect">
                              <ng-select [placeholder]="'process_activity_designation_placeholder' | translate"
                                 [multiple]="false" formControlName="designation_id"
                                 (search)="searchDesignations($event)" (open)="getDesignations()"
                                 (change)="getAccountableUsers()" (clear)="getAccountableUsers()"
                                 (change)="searchListclickValueClear(select)" #select>
                                 <ng-option [value]="Designation.id"
                                    *ngFor="let Designation of DesignationMasterStore.designations">
                                    {{Designation.title.length > 80 ? Designation.title.substring(0,80)+' ...' :
                                    Designation.title }}
                                 </ng-option>

                              </ng-select>
                           </div>
                        </div>
                        <p class="form-error" *ngIf="formErrors && formErrors.designation_id">
                           {{'select_any_designation' | translate}}</p>
                     </div>
                  </div>
               </div>
               <div class="row">
                  <div class="col-sm-6">
                     <div class="form-group">
                        <label>{{'accountable_user'|translate}}</label>
                        <div class="clearfix">
                           <div class="multiple-plain-ngselect">
                              <ng-select [items]="UsersStore.usersList" bindLabel="email"
                                 (change)="searchListclickValueClear(select)"
                                 [placeholder]="'select_accountable_user' | translate"
                                 formControlName="accountable_user_id" (clear)="getAccountableUsers()"
                                 (search)="searchAccountableUsers($event)" (open)="getAccountableUsers()"
                                 [searchFn]="customSearchFn" #select>
                                 <ng-template ng-label-tmp let-item="item" let-clear="clear">
                                    <img *ngIf="item.image_token" height="15" width="15"
                                       [attr.src]="createImageUrl('user-profile-picture',item.image_token)" />
                                    <img *ngIf="!item.image_token" height="15" width="15"
                                       [attr.src]="getDefaultImage('user-logo')" />
                                    <b style="padding-left: 3px;">{{getStringsFormatted([item.first_name,item.last_name],30,'
                                       ') | titlecase}}</b><span aria-hidden="true" (click)="clear(item)"
                                       style="border:none;" class="ng-value-icon left">×</span>
                                 </ng-template>
                                 <ng-template ng-option-tmp let-item="item" let-index="index">
                                    <div class="user-post-department-pic">
                                       <img *ngIf="item.image_token" height="25" width="25"
                                          [attr.src]="createImageUrl('user-profile-picture',item.image_token)" />
                                       <img *ngIf="!item.image_token" height="25" width="25"
                                          [attr.src]="getDefaultImage('user-logo')" />
                                    </div>
                                    <div class="user-post-department-div">
                                       <b>{{getStringsFormatted([item.first_name,item.last_name],30,' ') |
                                          titlecase}}</b>
                                       <p class="user-post-department-multiple">
                                          {{getStringsFormatted([item.designation_title,' '+item.department],30,',')}}
                                       </p>
                                    </div>
                                 </ng-template>
                              </ng-select>
                           </div>
                        </div>
                     </div>
                  </div>
                  <!-- <div class="col-sm-6">
               <div class="form-group">
                  <label>{{'responsible_user' | translate}}</label>
                  <div class="clearfix">
                     <div class="multiple-plain-ngselect">
                       <ng-select [items]="UsersStore.usersList" multiple="true"  bindLabel="email"
                         placeholder="Select Responsible User" formControlName="responsible_user_ids" [closeOnSelect]="false"
                         (clear)="getResponsibleUsers()" (search)="searchUers($event)" (open)="getResponsibleUsers()"  [searchFn]="customSearchFn" #select>
                         <ng-template ng-label-tmp let-item="item" let-clear="clear">
                           <img *ngIf="item.image_token" height="15" width="15"
                             [attr.src]="createImageUrl('user-profile-picture',item.image_token)" />
                           <img *ngIf="!item.image_token" height="15" width="15"
                             [attr.src]="getDefaultImage('user-logo')" />
                           <b style="padding-left: 3px;">{{getStringsFormatted([item.first_name,item.last_name],50,' ') | titlecase}}</b><span aria-hidden="true" (click)="clear(item)"
                             style="border:none;" class="ng-value-icon left">×</span>
                         </ng-template>
                         <ng-template ng-option-tmp let-item="item" let-index="index">
                           <div class="user-post-department-pic">
                             <img *ngIf="item.image_token" height="25" width="25"
                               [attr.src]="createImageUrl('user-profile-picture',item.image_token)" />
                             <img *ngIf="!item.image_token" height="25" width="25"
                               [attr.src]="getDefaultImage('user-logo')" />
                           </div>
                           <div class="user-post-department-div">
                              <b>{{getStringsFormatted([item.first_name,item.last_name],50,' ') | titlecase}}</b>
                              <p class="user-post-department-multiple">{{getStringsFormatted([item.designation_title,' '+item.department],50,',')}}</p>
                           </div>
                         </ng-template>
                       </ng-select>
                     </div>
                   </div>                   
               </div>
            </div> -->
                  <div class="col-sm-6">
                     <div class="form-group">
                        <label> {{'responsible_user' | translate}} </label>
                        <div class="clearfix d-flex">
                           <div class="multiple-plain-ngselect w-100">
                              <ng-select #select [items]="UsersStore.usersList" bindLabel="email"
                                 labelForId="responsible_user_ids" [placeholder]="'select_responsible_user' | translate"
                                 multiple="true" formControlName="responsible_user_ids" [closeOnSelect]="false"
                                 (change)="searchListclickValueClear(select)" (search)="searchUsers($event)"
                                 (clear)="getResponsibleUsers()" (open)="getResponsibleUsers()"
                                 [searchFn]="customSearchFn">

                                 <ng-template ng-label-tmp let-item="item" let-clear="clear">
                                    <img *ngIf="item.image_token || item.image" class="ng-select-user-display"
                                       height="15" width="15"
                                       [attr.src]="item.image_token ? createImageUrl('user-profile-picture',item.image_token) : createImageUrl('user-profile-picture',item.image.token)"
                                       onerror="this.src='/assets/images/user-demo2.png'" />
                                    <img *ngIf="!item.image_token && !item.image" class="ng-select-user-display"
                                       height="15" width="15" [attr.src]="getDefaultImage('user-logo')" />
                                    <b style="padding-left: 3px;">{{getStringsFormatted([item.first_name,item.last_name],30,'
                                       ') | titlecase}}</b><span aria-hidden="true" (click)="clear(item)"
                                       style="border:none;" class="ng-value-icon left">×</span>
                                 </ng-template>
                                 <ng-template ng-option-tmp let-item="item" let-index="index">
                                    <div class="user-post-department-pic">
                                       <img *ngIf="item.image_token || item.image" class="ng-select-user-display"
                                          height="25" width="25"
                                          [attr.src]="item.image_token ? createImageUrl('user-profile-picture',item.image_token) : createImageUrl('user-profile-picture',item.image.token)"
                                          onerror="this.src='/assets/images/user-demo2.png'" />
                                       <img *ngIf="!item.image_token && !item.image" class="ng-select-user-display"
                                          height="25" width="25" [attr.src]="getDefaultImage('user-logo')" />
                                    </div>
                                    <div class="user-post-department-div">
                                       <b>{{getStringsFormatted([item.first_name,item.last_name],30,' ') |
                                          titlecase}}</b>
                                       <p class="user-post-department-multiple">
                                          {{getStringsFormatted([item.designation_title,' '+item.department],30,',')}}
                                       </p>
                                    </div>
                                 </ng-template>
                              </ng-select>
                              <!-- <p  class="pt-1" style="color: red;" *ngIf="formErrors && formErrors.watcher_ids"> {{formErrors.watcher_ids}}</p> -->
                           </div>
                        </div>
                     </div>
                  </div>

               </div>
               <div class="row">
                  <div class="col-sm-12">
                     <div class="form-group add-kpi-textarea">
                        <label>{{'description' | translate}}</label>
                        <textarea class="form-control" rows="11" formControlName="description"
                           [attr.placeholder]="'process_activity_description_placeholder' | translate"></textarea>
                     </div>
                  </div>
               </div>
               <div class="row">
                  <div class="col-sm-12">
                     <div class="form-group">
                        <label>{{'activity_input' | translate}}</label>
                        <input type="text" class="form-control"
                           [attr.placeholder]="'process_activity_input' | translate" formControlName="activity_input">
                     </div>
                  </div>
                  <div class="col-sm-12">
                     <div class="form-group">
                        <label>{{'activity_output' | translate }}</label>
                        <input type="text" class="form-control"
                           [attr.placeholder]="'process_activity_output' | translate" formControlName="activity_output">

                     </div>
                  </div>
               </div>

               <div>
                  <div class="form-group">
                     <label class="label-style mb-0">{{'support_files' | translate}}</label>
                     <div class="row m-0 upload-section" style="padding-top: 0">
                        <div class="col-sm-4 costmz-logo-new mt-2">
                           <div class="form-group form-group-upload">
                              <div class="question-circle-inp"
                                 *ngIf="OrganizationGeneralSettingsStore.organizationSettings?.support_file_allowed_types.length > 0"
                                 style="margin-right: 7px;">
                                 <i class="far fa-question-circle"></i>
                                 <div class="message-password-inp">
                                    <p class="mb-0">Allowed File Types
                                       {{OrganizationGeneralSettingsStore.organizationSettings?.support_file_allowed_types.toString()}}
                                    </p>
                                 </div>
                              </div>
                              <div class="darag-dropifile-upload">
                                 <div class="d-flex justify-content-center align-items-center text-center">
                                    <div>
                                       <img src="/assets/images/drag-pic.png" alt="image" class="drag-pic-files">
                                       <div class="drag-file-name"> Drag &amp; Drop Your File Here </div>
                                       <div class="upload-btn-wrapper">
                                          <input type="file" name="myfile" (change)="onFileChange($event,'brochure')"
                                             [accept]="checkAcceptFileTypes('support-file')" multiple />
                                          <button class="btn">{{'browse_files' | translate}}</button>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>

                        <div
                           [ngClass]="files.success || files.file_type != 'brochure' ? 'col-sm-4 up-pic-cf mt-2 hide_loader' : 'col-sm-4 up-pic-cf mt-2'"
                           *ngFor="let files of fileUploadsArray">
                           <div class="upload-pics edit-option file-upload-loader">
                              <circle-progress [percent]=files.uploadProgress
                                 [title]=files.uploadProgress></circle-progress>
                           </div>
                        </div>

                        <div
                           [ngClass]="b.is_deleted ? 'col-sm-4 up-pic-cf mt-2 image_deleted':'col-sm-4 up-pic-cf mt-2'"
                           *ngFor="let b of ActivityStore.getActivityDocuments">
                           <div class="upload-pics edit-option">
                              <div class="browse-form-pic"
                                 [ngStyle]="{'background': 'url(' + b.preview + ') no-repeat 0 0 / cover'}">
                              </div>
                              <div class="browse-form-name clearfix">
                                 <div class="float-left">
                                    <h6 [attr.title]="b.name">{{b.name.length > 20 ? b.name.substring(0,20)+' ...' :
                                       b.name}}</h6>
                                    <span>{{b.size/1048576 | number:'0.2-2'}}MB</span>
                                 </div>
                                 <div class="browse-logo">
                                    <img *ngIf="checkExtension(b.ext,'excel') != -1" src="/assets/images/md-xl.png">
                                    <img *ngIf="checkExtension(b.ext,'image') != -1" src="/assets/images/md-jpg.png">
                                    <img *ngIf="checkExtension(b.ext,'doc') != -1" src="/assets/images/md-doc.png">
                                    <img *ngIf="checkExtension(b.ext,'pdf') != -1" src="/assets/images/md-pdf.png">
                                    <img *ngIf="checkExtension(b.ext,'video') != -1" src="/assets/images/md-video.png">
                                    <img *ngIf="checkExtension(b.ext,'audio') != -1" src="/assets/images/md-audio.png">
                                    <img *ngIf="checkExtension(b.ext,'ppt') != -1" src="/assets/images/md-ppt.png">
                                 </div>
                              </div>
                              <div class="edit-option-show">
                                 <a (click)="removeBrochure(b.token)"><i class="fas fa-trash"></i></a>
                              </div>
                           </div>
                        </div>

                     </div>
                  </div>
               </div>

               <div class="row">
                  <div class="col-sm-12">
                     <div class="d-block justify-content-left border-0 mt-3">
                        <button type="submit" class="btn btn-active" (click)="save()"
                           [disabled]="activityForm.invalid || AppStore.loading">{{ AppStore.loading ? 'Loading...' :
                           'save' | translate}}</button>
                        <button type="button" data-toggle="modal" data-target="#signal-lost" class="btn"
                           (click)="save(true)" [disabled]="activityForm.invalid || AppStore.loading">{{
                           AppStore.loading ? 'Loading...' : 'save_close' | translate}}</button>
                        <button type="button" data-toggle="modal" data-target="#error-message" class="btn"
                           (click)="cancel()">{{ AppStore.loading ? 'Loading...' : 'cancel' | translate}}</button>

                     </div>
                  </div>
               </div>
            </div>
         </form>
         <!-- Modal footer -->
      </div>
   </div>

</div>

<!-- Ends -->

<div class="modal modal-style-1 popup-full-width fade popup-new-type" id="add-three-popup" data-keyboard="false"
   data-backdrop="static" #activityDetailsModal *mobxAutorun>
   <button type="button" class="close" data-dismiss="modal" (click)="closeActivityDetailsModal()"><i
         class="lni-close"></i><span>{{'esc' | translate}}</span></button>
   <app-process-activity-details-modal *ngIf="activityId" [id]="activityId"
      (click)="closeActivityDetailsModal()"></app-process-activity-details-modal>
</div>

<!------------------- Delete Confirmation Modal Start --------------------------->

<div class="modal modal-style-1 fade" id="delete-popup" #deletePopup>
   <app-delete-popup [source]="deleteObject"></app-delete-popup>
</div>

<!------------------- Delete Confirmation Modal End --------------------------->