
<div #plainDev></div>
<!-- <app-sub-menu>-</app-sub-menu> -->
<div class="tab-pane tab-edit-class smoal-left-tab-page" id="assessment">
    <div class="widget">
      
      <!-- <nav class="edit-bar" data-toggle="affix" #navBar>
         <app-sub-menu>-</app-sub-menu>
         <ul class="nav nav-pills float-left d-none d-lg-block" role="tablist">
            <li class="nav-item">
                <a class="nav-link nav-link-show" [routerLink]="['/security/system-logs']" routerLinkActive="active"
                [routerLinkActiveOptions]="{exact: true}">{{'dashboard' | translate}} </a>
            </li>
            <li class="nav-item">
                <a class="nav-link nav-link-show"  routerLinkActive="active"> {{'logs' | translate}} </a>
            </li>
        </ul>
      </nav> -->
       <div class="acl-page">
          <div class="audit-program-box audit-page-table-main">
            <div class="row">
               <div class="col-sm-12">
                  <div class="full-width-table system-log-table mb-3">
                  <table class="table table-bordered ordinary-table audit-page-table mb-1 table-scroll" *ngIf="SystemLogStore.loaded">
                     <thead>
                        <tr >
                           <th class="border-top-0 text-center" width="2%">#</th>
                           <th class="border-top-0" width="10%"><span class="small-box small-box-light-blue">{{'date' | translate}}</span></th>
                           <th class="border-top-0" width="10%"><span class="small-box small-box-gray">{{'all' | translate}}</span></th>
                           <th class="border-top-0" width="8%"><span class="small-box small-box-dark-red">{{'emergency' | translate}}</span></th>
                           <th class="border-top-0" width="8%"><span class="small-box small-box-dark-red-two">{{'alert' | translate}}</span></th>
                           <th class="border-top-0" width="10%"><span class="small-box small-box-light-red">{{'critical' | translate}}</span></th>
                           <th class="border-top-0" width="8%"><span class="small-box small-box-orange">{{'error' | translate}}</span></th>
                           <th class="border-top-0" width="10%"><span class="small-box small-box-yellow">{{'warning' | translate}}</span></th>
                           <th class="border-top-0" width="10%"><span class="small-box small-box-green">{{'notice' | translate}}</span></th>

                           <th class="border-top-0" width="10%"><span class="small-box small-box-dark-blue-two">{{'info' | translate}}</span></th>
                           <th class="border-top-0" width="14%"><span class="small-box small-box-light-blue-two">{{'debug' | translate}}</span></th>
                        </tr>
                     </thead>
                     <tbody >
                        <tr class="edit-and-delete-main" *ngFor="let row of SystemLogStore.allItems | paginate: {currentPage:page, itemsPerPage:pageSize,totalItems:SystemLogStore.allItems.length}; let i= index" >
                           <td class="text-center">{{(page -1) * pageSize + (i + 1)}}</td>
                           <td><span class="small-box small-box-dark-blue">{{ row.date | date: OrganizationGeneralSettingsStore.organizationSettings?.date_format }}</span></td>
                           <td><span class="small-box small-box-gray">{{row.all}}</span></td>
                           <td><span class="small-box small-box-dark-red">{{row.emergency}}</span></td>
                           <td><span class="small-box small-box-dark-red-two">{{row.alert}}</span></td>
                           <td><span class="small-box small-box-light-red">{{row.critical}}</span></td>
                           <td><span class="small-box small-box-orange">{{row.error}}</span></td>
                           <td><span class="small-box small-box-yellow">{{row.warning}}</span></td>
                           <td><span class="small-box small-box-green">{{row.notice}}</span></td>
                           <td><span class="small-box small-box-dark-blue-two">{{row.info}}</span></td>
                           <td><span class="small-box small-box-light-blue-two">{{row.debug}}</span>
                            <div class="edit-option-show" style="margin: 30px 0 0 0; ">
                               <a [attr.title]="'download' | translate" (click)="downloadFile(row.filename)"><i class="fas fa-download"></i></a>
                               <!-- <a href="#"><i class="fas fa-trash"></i></a> -->
                           </div>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
                  <ng-container *mobxAutorun>
                     <div *ngIf="SystemLogStore.loaded == false">
                         <app-table-loader></app-table-loader>
                     </div>
                     <app-no-data *ngIf="SystemLogStore.allItems.length == 0 && SystemLogStore.loaded == true">
                     </app-no-data>
                 </ng-container>
               </div>
            </div>
            <div class="row">
             <div class="col-sm-12">
                <ul class="pagination justify-content-center mt-3" *ngIf = "SystemLogStore.allItems.length > pageSize">
                    <div class="list">
                       <pagination-controls [previousLabel]="'previous' | translate"  [nextLabel]="'next' | translate" (pageChange)="changePage($event)" class="my-pagination"></pagination-controls>
                    </div>
                 </ul>
             </div>
            </div>
         </div>



       </div>
    </div>
 </div>

 <!------------------- Detail Popup start --------------------------->

<div class="modal modal-style-1 popup-full-width" id="detail-popup" data-backdrop="static" data-keyboard="false" #detailPopup >
   <app-system-log-details [source]="detailObject" *ngIf="filename != null"></app-system-log-details>
</div>

<!------------------- Detail Popup  End --------------------------->