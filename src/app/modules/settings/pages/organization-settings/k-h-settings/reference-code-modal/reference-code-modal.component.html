<button type="button" class="close" (click)="cancel()" data-dismiss="modal"><i class="lni-close"></i><span>esc</span></button>
<div class="modal-dialog modal-lg modal-dialog-centered">
  <div class="modal-content">
    <div class="modal-header clearfix" style="padding-left: 0px !important;">
      <h4 class="modal-title">Reference Code Customization</h4>

    </div>
    <div class="row mt-3">
      <div class="col-sm-12" cdkDropList (cdkDropListDropped)="drop($event)" *ngIf="KHSettingStore.referenceCodeArray.length > 0">
        <div class="setting-item" style="cursor: move;" [cdkDragDisabled]="items.disabled" cdkDrag cdkDragLockAxis="y"
          *ngFor="let items of KHSettingStore.referenceCodeArray;let itemIndex=index">
          <div class="row ">
            <div class="col-sm-8 d-flex align-items-center">
              <h4>{{items.type |titlecase}}</h4>
              <div class="form-group ml-4 mb-0"
                *ngIf="items.type=='prefix'">
                <input type="text" [disabled]="!items.is_enable"  [(ngModel)]="KHSettingStore.preFix" class="form-control">
              </div>
              <div class="form-group ml-4 mb-0"
                *ngIf="items.type=='company-code'">
                <input type="text" [disabled]="!items.is_enable" [(ngModel)]="KHSettingStore.companyCode" class="form-control">
              </div>
              <div class="form-group ml-4 mb-0"
                *ngIf="items.type=='code-divider'">
                <input type="text" [disabled]="!items.is_enable"  [(ngModel)]="KHSettingStore.codeDivider"  class="form-control">
              </div>
            </div>

            <div class="col-sm-4 d-flex align-items-center justify-content-end">
              <label class="switch" *ngIf="items.type!='code-divider'">
                <input type="checkbox"  [checked]="items.is_enable"
                  (change)="enableReferenceCodeItems($event,items.type,itemIndex)">
                <span class="slider"></span>
              </label>
            </div>
          </div>
        </div>
        <div>
          <div class="row">
            <div class="col-sm-12">
              <div class="cmn-bdr widg-padding-cmn-small pb-2 border-radius mb-3 bg-main">
                <h5 class="cmn-head-style">View of Reference Code</h5>
                <p>{{getArrayFormatedString('type',KHSettingStore.referenceCodeArray)}}</p>
              </div>
            </div>
          </div>
        </div>
        <div class="mt-3">
          <button type="button" class="btn btn-active" (click)="save()" data-toggle="modal"
            data-target="#kh-settings-popup">Save</button>
          <button type="button" class="btn" (click)="cancel()" data-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>
</div>