<div #plainDev></div>
<nav class="edit-bar" data-toggle="affix" #navBar>
    <app-breadcrumb-menu></app-breadcrumb-menu>
     <app-sub-menu></app-sub-menu>
</nav>

<main class="mt-3 organization-page">
    <div class="container-fluid" *mobxAutorun>
       <div class="row user-main-sec" *ngIf="MasterListDocumentStore.documentDetailsLoaded">
                    <div  class="col-xl-3 col-lg-4 col-md-12 user-side-bar user-side-left work-flow-details-sec-left" #userSideBar>
             <div class="organization-profile-sidebar p-3">
                <div class="relative">
                   <a class="curve-toggle curv-2" (click)="collapseSide()"></a>
                   <div class="clearfix d-flex">
                      <ng-container *ngFor="let mainDoc of MasterListDocumentStore?.documentDetails?.versions">
                        <!-- <img *ngIf="mainDoc.is_latest" class="img-fluid" style="width: 40px;height: 40px;" src="images/excel-pic.png"> -->
                   <img *ngIf="mainDoc.is_latest && checkExtension(mainDoc.ext,'image') != -1" style="width: 40px;height: 40px;" class="img-fluid"
                     src="/assets/images/jpg-icone.png">
                  <img *ngIf="mainDoc.is_latest && checkExtension(mainDoc.ext,'doc') != -1" style="width: 40px;height: 40px;" class="img-fluid"
                     src="/assets/images/word-icone.png">
                  <img *ngIf="mainDoc.is_latest && checkExtension(mainDoc.ext,'pdf') != -1" style="width: 40px;height: 40px;" class="img-fluid"
                     src="/assets/images/pdf-icone.png">
                  <img *ngIf="mainDoc.is_latest && checkExtension(mainDoc.ext,'excel') != -1" style="width: 40px;height: 40px;" class="img-fluid"
                     src="/assets/images/excel-icone.png">
                  <img *ngIf="mainDoc.is_latest && checkExtension(mainDoc.ext,'video') != -1" style="width: 40px;height: 40px;" class="img-fluid"
                     src="/assets/images/md-video.png">
                  <img *ngIf="mainDoc.is_latest && checkExtension(mainDoc.ext,'audio') != -1" style="width: 40px;height: 40px;" class="img-fluid"
                     src="/assets/images/md-audio.png">
                  <img *ngIf="mainDoc.is_latest && checkExtension(mainDoc.ext,'ppt') != -1" style="width: 40px;height: 40px;" class="img-fluid"
                     src="/assets/images/md-ppt.png"> 
                      </ng-container>
                  
               
                     <div class="issue-top-sec issuue-new-style p-0 w-100 ml-2">
                        <div class="clearfix pt-0">
                           <h5 class="d-inline-block cmn-head-style bold pt-1 mb-1"> #{{MasterListDocumentStore.documentDetails?.reference_code}}<span class="draft-tag label-tag-style-tag label-left-arow-tag d-inline-block status-tag-new-one ml-3">{{MasterListDocumentStore.documentDetails?.document_status?.type | titlecase}}</span></h5>
                        </div>
                        <h5 class="d-inline-block cmn-head-style bold mb-3"> {{MasterListDocumentStore.documentDetails?.title}}</h5>
                     </div>
                  </div>
                  <p *ngIf = "MasterListDocumentStore.documentDetails?.description && !view_more_description" style="white-space: pre-wrap;">{{MasterListDocumentStore.documentDetails?.description.length > 200 ? getStringData(MasterListDocumentStore.documentDetails?.description) : MasterListDocumentStore.documentDetails?.description}}
                     <a *ngIf = "(MasterListDocumentStore.documentDetails?.description.length) > 200" (click) = "viewData('more','description')" class="view-more-pestel-box pointer view-more-doted">{{'view_more' | translate}}</a>
                  </p>
                  <p *ngIf = "MasterListDocumentStore.documentDetails?.description && view_more_description" style="white-space: pre-wrap;">{{MasterListDocumentStore.documentDetails?.description}}
                     <a *ngIf = "(MasterListDocumentStore.documentDetails?.description.length) > 200" (click) = "viewData('less','description')" class="view-more-pestel-box pointer view-more-doted">{{'view_less' | translate}}</a>
                  </p>
                   <div *ngIf="!MasterListDocumentStore.documentDetails?.description">
                     <p>{{AppStore.noContentText}}</p>
                  </div>              
                  <!-- <div >
                     <a (click) = "viewData('more','view_more')" class="view-more-pestel-box pointer view-more-doted">{{'view_more_details' | translate}}</a>
                 </div> -->
               
                  <h6>{{'version' | translate}}</h6>
                  <div class="labels">
                    <label  *ngFor="let version of MasterListDocumentStore.documentDetails?.versions" class="outline-tag">V{{version.version}}</label>
                  </div>

      
                             
                  <h6>{{'document_type' | translate}}</h6>
                  <div class="labels" *ngIf="MasterListDocumentStore.documentDetails?.document_type">
                     <label class="outline-tag">{{MasterListDocumentStore.documentDetails?.document_type.title}}</label>
                  </div>
                  <p *ngIf="!MasterListDocumentStore.documentDetails?.document_type">{{AppStore.noContentText}}</p>

                  <h6>{{'review_frequency' | translate}}</h6>
                  <p>{{MasterListDocumentStore.documentDetails?.document_review_frequency?.language[0]?.pivot?.title?MasterListDocumentStore.documentDetails.document_review_frequency?.language[0].pivot.title:'NA'}}</p>
                  <h6>{{'next_review_date' | translate}}</h6>
                  <p>{{MasterListDocumentStore.documentDetails?.next_review_date?MasterListDocumentStore.documentDetails?.next_review_date:AppStore.noContentText}}</p>
                  <h6>{{'kh_review_user' | translate}}</h6>
                  <p>{{MasterListDocumentStore?.documentDetails?.review_users? 
                     getFormattedName('first_name','last_name',MasterListDocumentStore?.documentDetails?.review_users) : AppStore.noContentText }}</p>
                  <!-------------- Footer Starts Here ---------- -->
                  <div class="row">
                     <div class="col-xl-12">
                         <hr class="mb-2">
                         <div class="d-flex flex-row user-list-sm">
                             <img [attr.src]="MasterListDocumentStore.documentDetails?.created_by.image.token ? createImageUrl('user-profile-picture',MasterListDocumentStore.documentDetails?.created_by.image.token) : getDefaultImage('user-logo')" width="40px" height="40px"
                             onerror = "this.src='/assets/images/user-demo2.png'" class="rounded-circle">
                             <div>
                                 <h6>{{MasterListDocumentStore.documentDetails?.created_by.first_name}} {{MasterListDocumentStore.documentDetails?.created_by.last_name}}</h6>
                                 <span>{{MasterListDocumentStore.documentDetails?.created_by.designation}} | {{'created_on' | translate}} {{ getTimezoneFormatted(MasterListDocumentStore.documentDetails?.created_at) | date: OrganizationGeneralSettingsStore.organizationSettings?.date_time_format }}</span>
                             </div>
                         </div>
                     </div>
                 </div>
                    <!-------------- Footer Ends Here ---------- -->
                </div>
             </div>
          </div>
         
   
          <div class="col-xl-9 col-lg-8 col-md-12 user-right-details user-right-fill work-flow-details-sec-right" #userRightDetails>

              <!-- Clauses View or Preview Starts Here -->

              <div class="inner-dtl">
                <div class="tab-content">
             
                   <!-- Profille -->
                   <div class="tab-pane bg-white p-3 active" id="profile">
             
                      <div class="work-flow-info-tab d-flex">
                         <div class="form-group has-search">

                         </div>
             
                         <div class="small-tab-icons">
                            <ul class="nav nav-tabs clearfix" role="navigation">
                               <li class="nav-item"> <a  (click)="selectedTab('picture')"  [ngClass]="[ showPDF?'nav-link active':'nav-link' ]" data-toggle="tab" role="tab"
                                     aria-controls="lorem" aria-selected="false"><i class="fas fa-file-pdf"></i></a>
                               </li>
                               <li  class="nav-item"> <a  (click)="selectedTab('content')" [ngClass]="[ showContent?'nav-link active':'nav-link' ]"  data-toggle="tab" role="tab"
                                     aria-controls="ipsum" aria-selected="false"><i class="fas fa-list-alt"></i></a>
                               </li>
                            </ul>
                         </div>
                      </div>
             
                      <div class="small-tab-content">
                         <div class="tab-content">
                            <!-- !Picture Tab -->
                            <div  [ngClass]="[showPDF?'tab-pane fade active show':'tab-pane fade']"  role="tabpanel">
                               <div class="work-flow-pdf-preview mt-4" *mobxAutorun>
                                  <div class="row">
                                     <div class="col-lg-12 compliance-register-details-pdf-sec">
                                        <div style="text-align:center">
                                           <iframe  [attr.src]="previewUrl"  height="1175px" width="100%"></iframe>
                                        </div>
                                     </div>
                                  </div>
                               </div>
                            </div>
                                    <!-- !Section Tab -->
                                    <div  [ngClass]="[showContent?'tab-pane fade active show':'tab-pane fade']"  role="tabpanel">

                                       <!-- Section Starts Here -->
       
                                       <app-internal-document-details-loader *ngIf="!ContentStore._contentLoaded"></app-internal-document-details-loader>
                                       <app-no-data *ngIf="ContentStore._contentLoaded && ContentStore.ContentList.length == 0"></app-no-data>
                                       <main class="audit-program-details-page mt-3"
       *ngIf="ContentStore._contentLoaded && ContentStore.ContentList.length > 0">
       <div class="container-fluid" *mobxAutorun>
       
       
          <div class="row">
             <div class="col-sm-12">
                <div class="widget">
                   <div class="tab-content">
        
                      <div class="tab-pane active" id="top-tab-right-one">
       
                         <!-- Left Side Main Menu Starts Here -->
       
                         <div class="pdf-menu-accodion-main clearfix">
                            <div class="pdf-menu-accodion cmn-bdr-right" #innerScroll>
                               <div class="pdf-menu-accodion-inner">
       
                                  <div class="panel-group panel-drop-sections panel-drop-white" id="jd" role="tablist"
                                     aria-multiselectable="true">
       
                                     <div class="panel panel-default"
                                        *ngFor="let row of ContentStore.ContentList;let num = index">
                                        <div
                                           [ngClass]="row.is_accordion_active?'panel-heading active':'panel-heading'"
                                           role="tab" id="headingOne"  (click)="setIndex(num)">
                                           <div class="panel-title">
                                              <a role="button" data-toggle="collapse" (click)="setClass(row.id)"
                                                 [attr.href]="'#menu'+num+'_'+row.id" aria-expanded="false"
                                                 aria-controls="collapseOne" class="collapsed">
                                                 <h5 class="width96pc mt-0">{{row.clause_number}}. {{row.title}} <span
                                                       *ngIf="row['children_content'].length > 0" class="drop-down-icone"><i
                                                          class="fas fa-chevron-down"></i></span> </h5>
                                              </a>
                                           </div>
                                        </div>
                                        <div [attr.id]="'menu'+num+'_'+row.id" *ngIf="row['children_content'].length > 0"
                                           class="drop-detail-sec panel-collapse collapse" role="tabpanel"
                                           aria-labelledby="headingOne" [attr.data-parent]="'#menu'+num+'_'+row.id"
                                           style="">
                                           <div class="panel-body">
       
                                              <div class="panel-group panel-drop-sections panel-drop-white" id="jd-8"
                                                 role="tablist" aria-multiselectable="true">
                                                 <div class="panel panel-default"
                                                    *ngFor="let children_content of row['children_content'];let inner_num = index">
                                                    <div
                                                    [ngClass]="children_content.is_accordion_active?'panel-heading active':'panel-heading'" (click)="setIndex(num,inner_num)"
                                                       role="tab" id="headingOne-08-1">
                                                       <div class="panel-title">
                                                          <a role="button" data-toggle="collapse"
                                                             (click)="setClass(children_content.id)"
                                                             [attr.href]="'#menu'+num+'_'+children_content.id"
                                                             aria-expanded="false" aria-controls="collapseOne"
                                                             class="collapsed">
                                                             <h5 class="width96pc mt-0">{{children_content.clause_number}}.
                                                                {{children_content.title}} <span
                                                                   *ngIf="children_content['children'].length > 0"
                                                                   class="drop-down-icone"><i
                                                                      class="fas fa-chevron-down"></i></span> </h5>
                                                          </a>
                                                       </div>
                                                    </div>
                                                    <div [attr.id]="'menu'+num+'_'+children_content.id"
                                                       class="drop-detail-sec panel-collapse collapse" role="tabpanel"
                                                       aria-labelledby="headingOne-08-1"
                                                       [attr.data-parent]="'#menu'+num+'_'+children_content.id" style="">
                                                       <div class="panel-body">
       
                                                          <app-internal-document-left-menu
                                                             [recursiveData]="children_content.children"
                                                             *ngIf="children_content.children">
                                                          </app-internal-document-left-menu>
       
                                                       </div>
                                                    </div>
                                                 </div>
       
                                              </div>
       
       
                                           </div>
                                        </div>
                                     </div>
       
                                  </div>
       
                               </div>
       
                            </div>
                         </div>
       
                         <!-- Left Side Main Menu Ends Here -->

                         <!-- <div class="cmn-bdr bg-white p-3 pdf-zoom-header-main pdf-zoom-header d-flex">
                            <div class="w-100">
                               <form class="form-control issue-select-process-search bg-white search-popup-new">
                                  <input 
                                    type="text" 
                                    placeholder="Search.." 
                                    name="search" 
                                    class="search-process"
                                    (keyup)="applyFilter($event.target.value)">
                                  <button type="submit" style="width: 40px;"><i class="fa fa-search"></i></button>
                               </form>
                            </div>
       
                         </div> -->
       
       
                         <div class="pdf-v2-report-html pdf-v2-report-list-view-html clearfix pdf-new-style-pagination">
                         
                            <!-- Content View Main Preview Starts Here -->
                            <div class="pdf-right-contents main-container">
       
                               <div class="maindiv relative">
                                  <!-- <div *ngIf="DocumentsStore.documentDetailsLoaded"  [ngClass]="setStatusColor()" >{{DocumentsStore.documentDetails?.document_status?.language[0].pivot.title}}</div> -->
                                  <div class="holder" *ngFor="let row of ContentStore.ContentList;let num = index"
                                     [attr.id]="row.id" style="scroll-margin: 50px">
       
                                     <div class="pdf-page-inner-new-content">
       
                                        <div class="pdf-inner-no-border-accodion">
                                           <div class="panel-group" id="accordion01" role="tablist"
                                              aria-multiselectable="true">
                                              <div class="pdf-page-section">
                                                 <div class="introduction-page intro-right">
                                                    <div class="panel panel-default">
                                                       <div [ngClass]="row.is_accordion_active?'panel-heading active':'panel-heading'" (click)="setAccordion(num,'parent')" role="tab">
                                                          <h4 class="panel-title">
                                                             <a role="button" data-toggle="collapse" aria-expanded="true"
                                                                [attr.href]="'#collapseOne'+num+'_'+row.id">
                                                                {{row.clause_number}}.{{row.title}}
                                                                <span *ngIf="DocumentsStore.documentDetailsLoaded && row.comments.length > 0" class="msg-nbr-tab-btn bg-light-blue">{{row.comments.length}}</span>
                                                             </a>
                                                          </h4>
                                                       </div>
                                                       <div [attr.id]="'collapseOne'+num+'_'+row.id"
                                                          class="panel-collapse collapse show" role="tabpanel">
                                                          <div class="panel-body">
                                                             <div class="edit-option-btn edit-option-btn-main">
                                                                <div  *ngIf="DocumentsStore.enableButtons"
                                                                   class="arrowlist-edit-and-add arrowlist-edit-and-add-main"
                                                                   style="margin: -21px 20px 0 0;">
                                                                   <a><i class="fas fa-pen"
                                                                         (click)="editSection(row.id)"></i></a>
                                                                   <a><i class="fas fa-trash"
                                                                         (click)="delete(row.id,'Content')"></i></a>
                                                                </div>
                                                                <div [innerHTML]="row.description | safeHtml"></div>
                                                                <div class="hover-show-btn" *ngIf="DocumentsStore.enableButtons">
                                                                   <button type="button"
                                                                      (click)="openSectionForm('Child',row)"
                                                                      class="btn btn-small mt-1"><i
                                                                         class="fas fa-plus mr-2"></i> {{'add_sub_section' |
                                                                      translate}}</button>
                                                                   <button type="button"
                                                                      (click)="openNotesForm(row.id)"
                                                                      class="btn btn-small mt-1"><i
                                                                         class="fas fa-plus mr-2"></i> {{'add_notes' |
                                                                      translate}}</button>
                                                                   <button *ngIf="row.is_checklist_applicable" type="button"
                                                                      (click)="openCheckListForm(row.id,row.checklists)"
                                                                      class="btn btn-small mt-1"><i
                                                                         class="fas fa-plus mr-2"></i> {{'add_checklist' |
                                                                      translate}}</button>
                                                                </div>
       
       
                                                                <!-- !Notes Starts-->
       
       
                                                                <h6 *ngIf="row.notes.length > 0" class="mt-3">{{'notes' |
                                                                   translate}}</h6>
                                                                <div class="delete-bullet-point">
                                                                   <ul class="arrowlist ml-0 pl-0 mt-0 mb-0"
                                                                      *ngFor="let notes of row.notes">
                                                                      <li class="edit-delete-right-space">{{notes.title}}
                                                                         <div *ngIf="DocumentsStore.enableButtons" class="edit-and-delete-small"><button
                                                                               type="button"
                                                                               (click)="editNotes(notes,row.id)"
                                                                               class="btn-small-icon"><i
                                                                                  class="fas fa-pen"></i></button><button
                                                                               type="button"
                                                                               (click)="delete(notes.id,'notes',row.id)"
                                                                               class="btn-small-icon"><i
                                                                                  class="fas fa-trash"></i></button></div>
                                                                      </li>
                                                                   </ul>
                                                                </div>
       
                                                                <!-- !Notes Ends Here -->
       
                                                                <!-- !CheckList Starts Here-->
       
                                                                <div
                                                                   *ngIf="row.is_checklist_applicable">
       
                                                                   <h6 *ngIf="row.checklists.length > 0" class="mt-3">
                                                                      {{'checklists' | translate}}</h6>
                                                                   <div class="delete-bullet-point">
                                                                      <ul class="arrowlist ml-0 pl-0 mt-0 mb-0"
                                                                         *ngFor="let checklist of row.checklists">
                                                                         <li class="edit-delete-right-space">
                                                                            {{checklist.title}}
                                                                            <button *ngIf="DocumentsStore.enableButtons"
                                                                               (click)="delete(checklist.id,'CheckList',row.id,checklist)"
                                                                               type="button"
                                                                               class="btn btn-small float-right btn-small-delete"
                                                                               style="border: none;"><i
                                                                                  class="fas fa-trash"></i></button>
                                                                         </li>
                                                                      </ul>
                                                                   </div>
       
       
                                                                </div>
       
                                                                <!-- !CheckLists Ends Here -->
       
                                                                <!-- ! Parent Data Ends Here-->
       
                                                             </div>
                                                             <!-- !Child Data  Inner Accordion Starts Here -->
       
       
                                                             <div class="pdf-page-section">
                                                                <div class="introduction-page intro-right ml-3">
                                                                   <div
                                                                      class="pdf-inner-no-border-accodion headding-style-no-border-accodion">
                                                                      <div class="panel-group" id="inner-accordion01"
                                                                         role="tablist" aria-multiselectable="true">
                                                                         <div class="panel panel-default"
                                                                            *ngFor="let document_template of row['children_content'];let inner_num = index" [attr.id]="document_template.id" style="scroll-margin: 50px">
                                                                            <div [ngClass]="document_template.is_accordion_active?'panel-heading active':'panel-heading'"  (click)="setAccordion(inner_num,'children_content')" role="tab"
                                                                               id="heading01">
                                                                               <h4 class="panel-title">
                                                                                  <a role="button" data-toggle="collapse"
                                                                                     data-parent="#inner-accordion01"
                                                                                     [attr.href]="'#innercollapseOne'+inner_num+'_'+document_template.id"
                                                                                     aria-expanded="true"
                                                                                     aria-controls="inner-collapse01">
                                                                                     {{document_template.clause_number}}.{{document_template.title}}
                                                                                     <span *ngIf="DocumentsStore.documentDetailsLoaded && document_template?.comments?.length > 0" class="msg-nbr-tab-btn bg-light-blue">{{document_template.comments.length}}</span>
                                                                                  </a>
                                                                                
                                                                               </h4>
                                                                            </div>
                                                                            <div
                                                                               [attr.id]="'innercollapseOne'+inner_num+'_'+document_template.id"
                                                                               class="panel-collapse collapse in show"
                                                                               role="tabpanel" aria-labelledby="heading01">
       
                                                                               <div class="panel-body">
                                                                                  <div
                                                                                     class="edit-option-btn edit-option-btn-main">                                                                                 
                                                                                     <div *ngIf="DocumentsStore.enableButtons"
                                                                                        class="arrowlist-edit-and-add arrowlist-edit-and-add-main"
                                                                                        style="margin: -21px 20px 0 0;">
                                                                                        <a><i class="fas fa-pen"
                                                                                              (click)="editSection(document_template.id)"></i></a>
                                                                                        <a><i class="fas fa-trash"
                                                                                              (click)="delete(document_template.id,'Content')"></i></a>
                                                                                        <!-- <a  *ngIf="DocumentsStore.enableButtons && DocumentsStore.showNewDesign "  (click) = "openComment(document_template.id)"><i class="fas fa-comment-dots"></i></a> -->
                                                                                     </div>
       
                                                                                     <div
                                                                                        [innerHTML]="document_template.description | safeHtml">
                                                                                     </div>
                                                                                     <div class="hover-show-btn" *ngIf="DocumentsStore.enableButtons">
                                                                                        <button type="button"
                                                                                           (click)="openSectionForm('Child',document_template)"
                                                                                           class="btn btn-small mt-1"><i
                                                                                              class="fas fa-plus mr-2"></i>
                                                                                           {{'add_sub_section' |
                                                                                           translate}}</button>
                                                                                        <button type="button"
                                                                                           (click)="openNotesForm(document_template.id)"
                                                                                           class="btn btn-small mt-1"><i
                                                                                              class="fas fa-plus mr-2"></i>
                                                                                           {{'add_notes' |
                                                                                           translate}}</button>
                                                                                        <button
                                                                                           *ngIf="document_template.is_checklist_applicable"
                                                                                           type="button"
                                                                                           (click)="openCheckListForm(document_template.id,document_template.checklists)"
                                                                                           class="btn btn-small mt-1"><i
                                                                                              class="fas fa-plus mr-2"></i>
                                                                                           {{'add_checklist' |
                                                                                           translate}}</button>
                                                                                     </div>
       
       
                                                                                     <!-- !Notes Inner Accordion Starts-->
       
       
                                                                                     <h6 *ngIf="document_template.notes.length > 0"
                                                                                        class="mt-3">{{'notes' | translate}}
                                                                                     </h6>
                                                                                     <div class="delete-bullet-point">
                                                                                        <ul class="arrowlist ml-0 pl-0 mt-0 mb-0"
                                                                                           *ngFor="let notes of document_template.notes">
                                                                                           <li
                                                                                              class="edit-delete-right-space">
                                                                                              {{notes.title}}
                                                                                              <div *ngIf="DocumentsStore.enableButtons"
                                                                                                 class="edit-and-delete-small">
                                                                                                 <button type="button"
                                                                                                    (click)="editNotes(notes,document_template.id)"
                                                                                                    class="btn-small-icon"><i
                                                                                                       class="fas fa-pen"></i></button><button
                                                                                                    type="button"
                                                                                                    (click)="delete(notes.id,'notes',document_template.id)"
                                                                                                    class="btn-small-icon"><i
                                                                                                       class="fas fa-trash"></i></button>
                                                                                              </div>
                                                                                           </li>
                                                                                        </ul>
                                                                                     </div>
       
                                                                                     <!-- !Notes Inner Accordion Ends Here -->
       
                                                                                     <!-- !CheckList Inner Accordion Starts Here-->
       
                                                                                     <div
                                                                                        *ngIf="document_template.is_checklist_applicable">
       
                                                                                        <h6 *ngIf="document_template.checklists.length > 0"
                                                                                           class="mt-3">{{'checklists' |
                                                                                           translate}}</h6>
                                                                                        <div class="delete-bullet-point">
                                                                                           <ul class="arrowlist ml-0 pl-0 mt-0 mb-0"
                                                                                              *ngFor="let checklist of document_template.checklists">
                                                                                              <li
                                                                                                 class="edit-delete-right-space">
                                                                                                 {{checklist.title}}
                                                                                                 <button *ngIf="DocumentsStore.enableButtons"
                                                                                                    (click)="delete(checklist.id,'CheckList',document_template.id,checklist)"
                                                                                                    type="button"
                                                                                                    class="btn btn-small float-right btn-small-delete"
                                                                                                    style="border: none;"><i
                                                                                                       class="fas fa-trash"></i></button>
                                                                                              </li>
                                                                                           </ul>
                                                                                        </div>
       
       
                                                                                     </div>
       
                                                                                     <!-- !CheckLists Inner Accordion Ends Here -->
       
                                                                                     <!-- !Child Inner Accordion Data Ends Here-->
       
                                                                                  </div>
                                                                               </div>
       
       
                                                                            </div>
       
                                                                             <app-internal-document-section-recursive-modal
                                                                               [childData]="document_template.children"
                                                                               *ngIf="document_template.children">
                                                                            </app-internal-document-section-recursive-modal> 
                                                                         </div>
       
                                                                      </div>
                                                                   </div>
                                                                </div>
       
                                                             </div>
                                                          </div>
                                                       </div>
                                                    </div>
                                                 </div>
                                              </div>
       
                                           </div>
                                        </div>
                                     </div>
       
                                  </div>
                                  <!-- Add Clause Button Starts Here-->
                                  <div class="text-center mt-3 mb-3" 
                                     *ngIf="DocumentsStore.enableButtons && ContentStore._contentLoaded && ContentStore.ContentList.length > 0">
                                     <a (click)="openSectionForm('Parent')"
                                        class="view-more-pestel-box d-inline-block">{{'add_new_section' | translate}}</a>
                                  </div>
                                  <!-- Add Clause Button Ends Here-->
                               </div>
                            </div>
                         </div>
                         <!-- Content View Main Preview Starts Here -->
                      </div>
                   </div>
                </div>
             </div>
          </div>
       
       </div>
       
       </main>
       
                                       <!-- Section Ends Here -->
                               
                                </div>
                      </div>
                        
                   </div>
                </div>
             </div>
             </div>
           
          </div>
       </div>
    </div>

 </main>

 <app-external-document-details-loader *ngIf="!MasterListDocumentStore.documentDetailsLoaded"></app-external-document-details-loader>

<div class="side-bar-round" (click)="unCollapseSide()" #sideBarRound>
  <figure class="w-100 d-block" *ngIf="MasterListDocumentStore.documentDetailsLoaded">
      <img width="100"
      [attr.src] = "MasterListDocumentStore.documentDetails?.created_by.image.token ? createImageUrl('user-profile-picture',MasterListDocumentStore.documentDetails?.created_by.image.token):getDefaultImage('user-logo')"
          class="d-block mx-auto img-fluid rounded-circle" onerror="this.src='/assets/images/user-demo2.png'">
  </figure>
</div>


<!-- ---------File Preview-------------- -->
<div class="modal modal-style-1 popup-full-width fade popup-new-type" id="add-three-popup" data-keyboard="false" data-backdrop="static" #filePreviewModal *mobxAutorun>
 <button type="button" class="close" data-dismiss="modal" (click) = "closePreviewModal($event)"><i class="lni-close"></i><span>esc</span></button>
 <app-preview *ngIf = "previewObject" [source] = "previewObject" (close) = "closePreviewModal($event)"></app-preview>
</div>
 <!--------------- Ends Here ------------>

    <!--  Document Add Modal  -->
    <div class="modal modal-style-1 popup-full-width fade" data-keyboard="false" data-backdrop="static" #renewDocForm>
      <app-master-document-renew *ngIf="MasterListDocumentStore.renewPopup"></app-master-document-renew>
    </div>
    <!--  Document Add Modal  -->
    <!--  Document Add Modal  -->
   <div class="modal modal-style-1 popup-full-width fade" data-keyboard="false" data-backdrop="static" #documentAddModal>
      <app-master-add *ngIf="MasterListDocumentStore.addDocumentPopup" [source]="MasterDocumentObject"></app-master-add>
    </div>
    <!--  Document Review History Modal  -->
    <div class="modal modal-style-1 popup-full-width fade" data-keyboard="false" data-backdrop="static" #historyPopup>
      <app-master-document-review-history  *ngIf="MasterListDocumentStore.documentHistoryPopup"></app-master-document-review-history>
    </div>
    <!--   Document Review History Modal  -->

     
<!-- Required Forms Starts Here -->
<!-- Section Form Starts -->
<div class="modal modal-style-1 popup-full-width fade" data-keyboard="false" id="mainclause" data-backdrop="static"
#sectionFormModal>
<app-add-section-component *ngIf="sourceParams" [source]="sourceParams"></app-add-section-component>
</div>
<!-- Section Form Ends -->
<!-- Notes Form Starts-->
<div class="modal modal-style-1 popup-full-width fade" data-keyboard="false" id="notesForm" data-backdrop="static"
#notesFormModal>
<app-add-notes-component *ngIf="NotesParam" [source]="NotesParam"></app-add-notes-component>
</div>
<!-- Notes Form Ends -->

<!-- Checklist Form Starts -->
<div class="modal modal-style-1 popup-full-width fade" data-keyboard="false" id="checkListForm" data-backdrop="static"
#checkListFormModal>
<app-add-checklist-component *ngIf="CheckListParams" [source]='CheckListParams'></app-add-checklist-component>
</div>
<!-- Checklist Form Ends -->

<!-- Delete Popup Starts -->
<div class="modal modal-style-1 fade" id="delete-popup" #deletePopup>
   <app-delete-popup [source]="deleteObject"></app-delete-popup>
   </div>
   <!-- Delete Popup Ends -->

<!-- Required Forms Ends Here -->
 