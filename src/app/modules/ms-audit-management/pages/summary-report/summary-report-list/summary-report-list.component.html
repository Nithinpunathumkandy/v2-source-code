<nav class="edit-bar" data-toggle="affix" #navBar>
    <app-sub-menu>-</app-sub-menu>
    <div class="module-name-block module-name-block-space float-left">
        <a class="dropdown module-title">{{'Audit Report Summary'|translate}}</a>
    </div>
   
</nav>

<main class="mt-3 acl-page">

        <div class="container-fluid">

      <div class="audit-program-box audit-page-table-main">
    
        <div class="row" *mobxAutorun>
    
          <div class="col-sm-12">
    
            <div class="full-width-table mb-3">
    
              <table *ngIf="AuditProgramSummaryReportStore.allItems?.length > 0 && AuditProgramSummaryReportStore.loaded" class="table table-bordered ordinary-table audit-page-table mb-1 table-scroll">
    
                <thead>
    
                  <tr>
    
                    <th class="border-top-0" width="2%">#</th>
    
                    <th class="border-top-0 issue-list-org-tab-three pointer" style="width: 72%;"
    
                    (click)="sortTitle('customer_sites.title')">
    
                      <span>Title</span>&nbsp;
    
                      <img _ngcontent-twv-c17="" *ngIf="AuditProgramSummaryReportStore.orderItem=='customer_sites.title'"
    
                        [attr.src]="AuditProgramSummaryReportStore.orderBy == 'asc'?'assets/images/sort-down.png':'assets/images/sort-up.png'"
    
                        class="sort-down-pics">
    
                    </th>
    
      
                    <th class="border-top-0" width="12%">{{'created_by'|translate}}</th>
    
                  </tr>
    
                </thead>
    
                <tbody>
    
                  <tr class="pointer edit-and-delete-main" (click)="goToReportDetails(row.id)"
    
                    *ngFor="let row of AuditProgramSummaryReportStore.allItems| paginate: {currentPage:AuditProgramSummaryReportStore.currentPage, itemsPerPage:AuditProgramSummaryReportStore.itemsPerPage,totalItems:AuditProgramSummaryReportStore.totalItems};let num=index ">
    
                    <td class="text-center">{{(AuditProgramSummaryReportStore.currentPage - 1) *
    
                      AuditProgramSummaryReportStore.itemsPerPage + (num + 1)}}</td>
    
                    <td>{{row?.title ? row?.title : AppStore.noContentText}}
                   
                    </td>
    
            
                    <td style="padding:0.75rem">
                        <div class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg p-0">
                        <img [attr.src]="row.created_by_image_token? createImageUrl(row.created_by_image_token):'/assets/images/user-demo.png'"
                            class="rounded-circle rounde-hov" width="35px" height="35px"  onerror = "this.src='/assets/images/user-demo2.png'"> 
                        <div class="pointer new-size-text text-left">
                            <p class="mb-0">{{row.created_by_first_name}} {{row.created_by_last_name}}  </p>
                            <span>{{row.created_by_designation}}</span>
                        </div>   
                        </div>
                        <!-- <div class="edit-option-show" >
                          <a [attr.title]="'edit'|translate" (click) = "edit(row.id)"><i class="fas fa-pen pointer"></i></a> 
                      </div> -->
                    </td>
    
                  </tr>
    
      
    
      
    
                </tbody>
    
              </table>
              <ng-container *mobxAutorun>
                <div *ngIf="!AuditProgramSummaryReportStore.loaded">
                    <app-ms-audit-program-list-loader></app-ms-audit-program-list-loader>
                </div>
            </ng-container>

            </div>
    
            <p class="float-right bold mb-0" *ngIf="AuditProgramSummaryReportStore?.loaded && AuditProgramSummaryReportStore.totalItems > 0">
    
              Total Items:{{AuditProgramSummaryReportStore.totalItems}}</p>
    
            <ng-container *mobxAutorun>
    
  
             <app-no-data
    
               *ngIf="AuditProgramSummaryReportStore.allItems.length == 0 && AuditProgramSummaryReportStore.loaded == true">
    
             </app-no-data>
    
            </ng-container>
    
          </div>
    
          <div class="col-sm-12" *ngIf="AuditProgramSummaryReportStore.totalItems>AuditProgramSummaryReportStore.itemsPerPage">
    
            <ul class="pagination justify-content-center mt-0">
    
              <div class="list">
    
                <pagination-controls class="my-pagination" previousLabel="Previous"
    
                  nextLabel="Next" (pageChange)="pageChange($event)">
    
                </pagination-controls>
    
              </div>
    
            </ul>
    
          </div>
    
        </div>
    
      </div>
    
      </div>
    
        </main>
    
<!-- choose audit program -->
<div class="modal modal-style-1 popup-full-width fade" #chooseAuditProgram data-keyboard="false" data-backdrop="static">
    <app-choose-audit-summary *ngIf="chooseProgamObject.type" [source]="chooseProgamObject">
    </app-choose-audit-summary>
</div>
