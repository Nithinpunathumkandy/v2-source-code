
<!-- <app-report-accordion-loader *ngIf ="!AnnualSummaryStore.loaded"></app-report-accordion-loader> -->
<ng-container >
    <div class="tab-pane tab-edit-class smoal-left-tab-page" id="final-report">
        <div class="widget">
    
            <div class="mb-0">
    
                <!-- Report Left Menu Starts Here -->
             <div class="pdf-menu-accodion-main clearfix">
                <div class="pdf-menu-accodion cmn-bdr-right mCustomScrollbar">
                   <div class="pdf-menu-accodion-inner">
    
                      <div class="panel-group panel-drop-sections panel-drop-white" id="jd" role="tablist" aria-multiselectable="true">
                      <div class="panel panel-default" *ngFor="let leftMenuData of AnnualSummaryStore?.AnnualSummaryDetails?.msAuditAnnualSummaryReportContent">
                          <div [ngClass]="selectedSummaryId!=null && selectedSummaryId==leftMenuData.id?'panel-heading active':'panel-heading'" role="tab" id="headingOne" (click)="setSelectedSummaryItem(leftMenuData)">
                             <div class="panel-title">
                                <a role="button" data-toggle="collapse" aria-expanded="false" aria-controls="collapseOne" class="collapsed">
                                   <h5 class="width96pc mt-0">{{leftMenuData.title}}</h5>
                                </a>
                             </div>
                          </div>
                       </div>                    
                      </div>
    
                   </div>
    
                </div>
             </div>
    
            <!-- Report Left Menu Ends Here -->
             <div class="cmn-bdr bg-white p-3 pdf-zoom-header-main pdf-zoom-header d-flex">
                <div class="w-100">
                   <form class="form-control issue-select-process-search bg-white search-popup-new">
                       <input type="text" placeholder="Search.." name="search" class="search-process">
                       <button type="submit" style="width: 40px;"><i class="fa fa-search"></i></button>
                     </form>
                </div>
    
             </div>
    
             
    
             
    
    <!-- Report Main Right Container Starts Here -->
          <div class="pdf-v2-report-html pdf-v2-report-list-view-html clearfix pdf-new-style-pagination">
             <div class="pdf-right-contents main-container">
    
                
    
                <div class="maindiv">
                 <div class="holder" id="1">
                   
                    <div class="pdf-page-inner-new-content">
                      <!-- <div class="pdf-page-section widg-padding-cmn-small" style="background: #E7FFF4;">
                         <div class="cover-top-left-logo">
                            <img src="images/iso-logo.png" class="img-fluid" width="150">
                         </div>
    
                         <div class="row align-items-center mt-4 mb-4">
                            <div class="col-lg-8 col-sm-12">
    
                               <p class="bold">#0198</p>
                               <h3 class="bold">Management System Audit 
                               <br>Year Summary Report</h3>
                               <div class="pt-2 mt-3">
                                  <label class="outline-tag">ISO <span>9001</span></label>
                                  <label class="outline-tag">ISO <span>20000</span></label>
                                  <label class="outline-tag">ISO <span>27001</span></label>
                               </div>
    
    
                            </div>
                            <div class="col-lg-4 col-sm-12">
                               <div class="report-cover-right-pic">
                                  <img src="images/report-cover-one.png" class="img-fluid">
                               </div>
                            </div>
                         </div>
    
                         <div class="row">
                            <div class="col-sm-12">
                               <p class="black-text mb-0">Prepared By</p>
                               <hr class="mt-2 mb-2">
                               <div class="label-and-user-pic mb-0">
                                  <div class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg">
                                      <img src="images/round-7.png" class="rounded-circle rounde-hov details-show-popup" width="35px" height="35px">
                                      <div class="pointer new-size-text">
                                          <h6>Mohammed Shihab </h6>
                                          <span>17 July 2021</span>
                                      </div>
                                  </div>
                              </div>
                            </div>
                         </div>
                      </div>
     -->
    
                      <div class="pdf-inner-no-border-accodion">
                               <div class="panel-group" id="accordion01" role="tablist" aria-multiselectable="true">
                                  <div class="pdf-page-section" *ngFor="let rightContentData of AnnualSummaryStore?.AnnualSummaryDetails?.msAuditAnnualSummaryReportContent">
                                     <div class="introduction-page intro-right" [attr.id]="rightContentData.type" style="scroll-margin: 50px">
                                         <div class="panel panel-default" [ngClass]="defaultItemType==rightContentData.type?'panel panel-default report-selected':'panel panel-default'">
                                           <div [ngClass]="selectedSummaryId!=null && selectedSummaryId==rightContentData.id?'panel-heading active':'panel-heading'" (click)="setSelectedSummaryItem(rightContentData)" role="tab" id="heading01">
                                             <h4 class="panel-title">
                                             <a role="button" data-toggle="collapse" data-parent="#accordion01" [ngClass]="selectedSummaryId!=null && selectedSummaryId==rightContentData.id?'':'collapsed'"  [attr.aria-expanded]="selectedSummaryId!=null && selectedSummaryId==rightContentData.id?'true':'false'" aria-controls="collapse01" (click)="setType(rightContentData.type)">
                                              {{rightContentData.title}}
                                             </a>
                                           </h4>
                                           </div>
                                           <div  [ngClass]="selectedSummaryId!=null && selectedSummaryId==rightContentData.id?'panel-collapse collapse in show':'panel-collapse collapse'" role="tabpanel" aria-labelledby="heading01">
                                             <div class="panel-body edit-and-delete-main">
                                                <div class="edit-option-show" style="margin: -17px 20px 0 0;"><!-- edit-and-delete starts -->
                                                   <a><i class="fas fa-pen"
                                                      (click)="editSummary(rightContentData)"></i></a>
                                                   </div>
                                               <p>{{rightContentData.description}}</p>

                                                <div class="row sm-row">
                                                <div class="col-sm-12 sm-col">
                                      
                                                   <!-- <div class="bg-white widg-padding-cmn btm-space-10 db-shadow"> -->
                                                      <!-- <hr> -->
                                      
                                                      <div class="db-md-screen-center" style="min-height: 335px;" *ngIf="rightContentData.type=='executive-summary'&&rightContentData.finding_count_by_department.length>0">
                                                          <div id="ibarChart1" style="width: 100%; height: 325px"></div>
                                                      </div>
                                                      <div class="db-md-screen-center" style="min-height: 335px;" *ngIf="rightContentData.type=='internal-imsarnbd'&&rightContentData.finding_count_by_department.length>0">
                                                         <div id="ibarChart2" style="width: 100%; height: 325px"></div>
                                                     </div>
                                                     <div class="db-md-screen-center" style="min-height: 335px;" *ngIf="rightContentData.type=='nonconformity-csbd'&&rightContentData.finding_count_by_department.length>0">
                                                      <div id="ibarChart3" style="width: 100%; height: 325px"></div>
                                                  </div>
                                                      <div class="db-md-screen-center" style="min-height: 260px;" *ngIf="rightContentData.type=='executive-summary'&&rightContentData.finding_count_by_department.length==0">
                                                          <app-no-chart-data [source]="'bar'">
                                                          </app-no-chart-data>
                                                      </div>
                                                      <div class="db-md-screen-center" style="min-height: 260px;" *ngIf="rightContentData.type=='internal-imsarnbd'&&rightContentData.finding_count_by_department.length==0">
                                                         <app-no-chart-data [source]="'bar'">
                                                         </app-no-chart-data>
                                                     </div>
                                                     <div class="db-md-screen-center" style="min-height: 260px;" *ngIf="rightContentData.type=='nonconformity-csbd'&&rightContentData.finding_count_by_department.length==0">
                                                      <app-no-chart-data [source]="'bar'">
                                                      </app-no-chart-data>
                                                  </div>
                                                   <!-- </div> -->
                                      
                                                </div>
                                      
                                               
                                             </div>                                      
                                             </div>
                                           </div>
                                         </div>
                                      </div>
                                   </div>
                              </div>
                            </div>
                   </div>
                   
                 </div>
                </div>
    
              </div>
              </div>
              <!-- Report Main Right Container Ends Here -->
           </div>
    </div>
    </div>
</ng-container>

<ng-container >
    <!-- Empty Screen Content -->
    <app-no-data *ngIf = "!AnnualSummaryStore.AnnualSummaryDetails && AnnualSummaryStore.loaded" [border]='false'></app-no-data>
</ng-container>

<!-- Annual Summary Form Modal-->
<div class="modal modal-style-1 popup-full-width fade" data-keyboard="false" data-backdrop="static" #annualSummaryModal>
   <app-annual-summary-form [summaryData]="summaryObject" *ngIf="showSummaryFormModal"></app-annual-summary-form>
</div>

<!-- Annual Summary Form Modal-->

<!------------------- Delete Confirmation Modal Start --------------------------->
<div class="modal modal-style-1 fade" id="delete-popup" #confirmationPopUp>
   <app-delete-popup [source] = "popupObject"></app-delete-popup>
</div>