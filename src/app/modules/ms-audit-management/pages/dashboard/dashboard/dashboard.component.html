<main class="mt-3 acl-page cpf-space-adjust db-small-space-boxes"  *ngIf="AuditDashboardStore.dashboardLoaded">
    <div class="container-fluid" *mobxAutorun>

        <app-filter-menu></app-filter-menu>
        <div class="row sm-row">
            <div class="col-lg-2 col-sm-3 sm-col pointer" (click)="auditProgramClick()">

                <div class="bg-white widg-padding-cmn btm-space-10 db-shadow position-relative">
                    <div class="row align-items-center justify-content-center">

                        <div class="text-center">
                            <h3 class="big-text-four">{{AuditDashboardStore.auditCount?.ms_audit_program_count ? AuditDashboardStore.auditCount?.ms_audit_program_count  : '0'}}</h3>
                            <h5  class="mb-0 pointer elips-1 px-2">{{'audit_program' | translate}}</h5>
                        </div>


                    </div>

                </div>

            </div>
            <div class="col-lg-2 col-sm-3 sm-col pointer" (click)="auditPlanClick()">

                <div class="bg-white widg-padding-cmn db-shadow btm-space-10 position-relative">
                    <div class="row align-items-center justify-content-center">

                        <div class="text-center">
                            <h3 class="big-text-four">{{AuditDashboardStore.auditCount?.ms_audit_plan_count ? AuditDashboardStore.auditCount?.ms_audit_plan_count : '0'}}</h3>
                            <h5  class="mb-0 pointer elips-1 px-2">{{'audit_plan' | translate}}</h5>
                        </div>


                    </div>

                </div>

            </div>

            <div class="col-lg-2 col-sm-3 sm-col pointer" (click)="auditsClick()">

                <div class="bg-white widg-padding-cmn  db-shadow btm-space-10 position-relative">
                    <div class="row align-items-center justify-content-center">

                        <div class="text-center">
                            <h3 class="big-text-four">{{AuditDashboardStore.auditCount?.ms_audit_count ? AuditDashboardStore.auditCount?.ms_audit_count : '0'}}</h3>
                            <h5  class="mb-0 pointer elips-1 px-2">{{'audits' | translate}}</h5>
                        </div>


                    </div>

                </div>

            </div>
            <div class="col-lg-6 col-sm-12 sm-col">
                <div class="bg-white btm-space-10 db-shadow pt-2 pb-2">
                    <div class="row align-items-center">
                        <div class="col-md-4 border-right">
                            <div class="text-center">
                                <h3 (click)="nonConformityClick()"  class="big-text-four pointer">{{AuditDashboardStore.auditFindingCount?.total_risk ? AuditDashboardStore.auditFindingCount?.total_risk : '0'}}</h3>
                                <h5 class="mb-0">{{'findings' |translate}}</h5>
                            </div>
                        </div>
                        <div class="col-md-8 text-center">
                            <div class="clearfix round-type-status-main-bg">
                                <div class="round-type-status-main">
                                    <div class="open-close-status-db d-flex align-items-center status-open">
                                        <div class="round-type-status-value">
                                            <h6 class="mb-0">{{AuditDashboardStore.auditFindingCount?.open_percentage ? AuditDashboardStore.auditFindingCount?.open_percentage : '0'}}%</h6>
                                        </div>
                                        <div class="round-type-status-bg rounded-circle pointer">
                                            <div (click)="nonConformityClickByStatus(1)" class="round-type-status rounded-circle">
                                                <h5 class="pointer">  {{'open' | translate}}</h5>
                                                <h6 class="mb-0">{{AuditDashboardStore.auditFindingCount?.open ? AuditDashboardStore.auditFindingCount?.open : '0'}}</h6>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="round-type-status-main">
                                    <div class="open-close-status-db open-close-status-db-right d-flex align-items-center status-closed">
                                        <div class="round-type-status-bg rounded-circle pointer">
                                            <div (click)="nonConformityClickByStatus(2)" class="round-type-status rounded-circle">
                                                <h5 class="pointer">{{'closed' | translate}}</h5>
                                                <h6 class="mb-0">{{AuditDashboardStore.auditFindingCount?.close ? AuditDashboardStore.auditFindingCount?.close : '0'}}</h6>
                                            </div>
                                        </div>
                                        <div class="round-type-status-value">
                                            <h6 class="mb-0">{{AuditDashboardStore.auditFindingCount?.close_percentage ? AuditDashboardStore.auditFindingCount?.close_percentage : '0'}}%</h6>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>



            </div>

           





        </div>

        <div class="row sm-row">
    
           

            <div class="col-lg-4 col-sm-12 sm-col">
                <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                    <h5 class="cmn-head-style m-0">{{'schedule_by_status' | translate}}</h5>
                    <hr>
                    <div class="text-center ia-db-finding-division db-md-screen-center finding-sec-height-ia-db">
                        <div class="dpt-pic-ceo w-100" *ngIf="AuditDashboardStore.schdueleByStatus?.length !=0">
                            <div id="scheduleByStatus" style="width: 100%; height: 260px"></div>
                        </div>
                        <div class="dpt-pic-ceo w-100" *ngIf="AuditDashboardStore.schdueleByStatus?.length==0">
                            <app-no-chart-data [source]="'pie'" style="width: 100%; height: 260px"></app-no-chart-data>
                        </div>                    </div>

                </div>
            </div>

            <div class="col-lg-4 col-sm-12 sm-col">
                <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                    <h5 class="cmn-head-style m-0">{{'corrective_action_by_status' | translate}}</h5>
                    <hr>
                    <div class="text-center ia-db-finding-division db-md-screen-center finding-sec-height-ia-db">
                        <div class="dpt-pic-ceo w-100" *ngIf="AuditDashboardStore.correctiveActionByStatus?.length !=0">
                            <div id="chartdiv1" style="width: 100%; height: 260px"></div>
                        </div>
                        <div class="dpt-pic-ceo w-100" *ngIf="AuditDashboardStore.correctiveActionByStatus?.length==0">
                            <app-no-chart-data [source]="'pie'" style="width: 100%; height: 260px"></app-no-chart-data>
                        </div>                    </div>

                </div>
            </div>

            
                <div class="col-lg-4 col-sm-12 sm-col">
                    <div class="bg-white widg-padding-cmn btm-space-10 db-shadow">
                        <h5 class="cmn-head-style m-0">{{'programe_category' | translate}}</h5>
                        <hr>
                        <div class="text-center ia-db-finding-division db-md-screen-center finding-sec-height-ia-db">
                            <div class="dpt-pic-ceo w-100" *ngIf="AuditDashboardStore.programByCategories?.length !=0">
                                <div id="chartdiv2" style="width: 100%; height: 260px"></div>
                            </div>
                            <div class="dpt-pic-ceo w-100" *ngIf="AuditDashboardStore.programByCategories?.length==0">
                                <app-no-chart-data [source]="'pie'" style="width: 100%; height: 260px"></app-no-chart-data>
                            </div>                    </div>

                    </div>
                </div>

                
         
           
        </div>

     
    
          
           
      

        <div class="row sm-row" >
            <div class="col-sm-12 sm-col">
               <div class="bg-white widg-padding-cmn btm-space-10 db-shadow tab-with-text-db">
                  <div class="row widget-heading line-tab">
                     <div class="col-lg-4 col-md-12">
                        <!-- <h5 class="cmn-head-style m-0 pt-1">{{'bpm_db_process'|translate}}</h5> -->
                     </div>
                     <div class="col-lg-8 col-md-12">
                        <ul class="nav nav-tabs float-right">
                           <li class="nav-item"> <a (click)="createBarChart(1)" class="nav-link active show"
                                 data-toggle="tab" href="#risk-one">{{'finding_by_department'|translate}}</a> </li>
                           <!-- <li class="nav-item"> <a (click)="createBarChart(2)" class="nav-link" data-toggle="tab" href="#risk-two">By Control</a> </li> -->
                           <li class="nav-item"> <a (click)="createBarChart(2)" class="nav-link" data-toggle="tab"
                                 href="#risk-two">{{'finding_by_mstype'|translate}}</a> </li>
                                 <li class="nav-item"> <a (click)="createBarChart(3)" class="nav-link" data-toggle="tab"
                                    href="#risk-three">{{'finding_by_statuses'|translate}}</a> </li>

                            <li class="nav-item"> <a (click)="createBarChart(4)" class="nav-link" data-toggle="tab"
                                href="#risk-four">{{'finding_by_category'|translate}}</a> </li>

                            <li class="nav-item"> <a (click)="createBarChart(5)" class="nav-link" data-toggle="tab"
                                href="#risk-five">{{'corrective_action_delay_by_department'|translate}}</a> </li>
                           <!-- <li class="nav-item"> <a class="nav-link" data-toggle="tab" href="#risk-four">By Category</a> </li>
                              <li class="nav-item"> <a class="nav-link" data-toggle="tab" href="#risk-five">By Risk Rating</a> </li> -->
                        </ul>
                     </div>
                  </div>
                  <div class="tab-content tab-content-body pt-3">
                     <div class="tab-pane active show" id="risk-one">
                        <div class="risk-chart-aab-two" *ngIf="!showNoDataBarChartDept">
                           <div id="barChartDepartment" style="width: 100%;height: 250px;"></div>
                        </div>
                        <div class="risk-chart-aab-two" *ngIf="showNoDataBarChartDept">
                           <app-no-chart-data [source]="'bar'">
                           </app-no-chart-data>
                       </div>
                     </div>
                     <div class="tab-pane fade" id="risk-two">
                        <div class="risk-chart-aab-two" *ngIf="!showNoDataBarChart">
                           <div id="barChartControls" style="width: 100%;height: 250px;"></div>
                        </div>
                        <div class="risk-chart-aab-two" *ngIf="showNoDataBarChart">
                           <app-no-chart-data [source]="'bar'">
                           </app-no-chart-data>
                       </div>
                     </div>

                     <div class="tab-pane fade" id="risk-three">
                        <div class="risk-chart-aab-two" *ngIf="!showNoDataBarChart">
                           <div id="barChartStatus" style="width: 100%;height: 250px;"></div>
                        </div>
                        <div class="risk-chart-aab-two" *ngIf="showNoDataBarChart">
                           <app-no-chart-data [source]="'bar'">
                           </app-no-chart-data>
                       </div>
                     </div>

                     <div class="tab-pane fade" id="risk-four">
                        <div class="risk-chart-aab-two" *ngIf="!showNoDataBarChart">
                           <div id="findingCategory" style="width: 100%;height: 250px;"></div>
                        </div>
                        <div class="risk-chart-aab-two" *ngIf="showNoDataBarChart">
                           <app-no-chart-data [source]="'bar'">
                           </app-no-chart-data>
                       </div>
                     </div>

                     <div class="tab-pane fade" id="risk-five">
                        <div class="risk-chart-aab-two" *ngIf="!showNoDataBarChart">
                           <div id="caDelayCount" style="width: 100%;height: 250px;"></div>
                        </div>
                        <div class="risk-chart-aab-two" *ngIf="showNoDataBarChart">
                           <app-no-chart-data [source]="'bar'">
                           </app-no-chart-data>
                       </div>
                     </div>
 
                  </div>
               </div>
            </div>
         </div>

         

        









    </div>
</main>
<app-ms-audit-dashboard-loader *ngIf="!AuditDashboardStore.dashboardLoaded">
</app-ms-audit-dashboard-loader>