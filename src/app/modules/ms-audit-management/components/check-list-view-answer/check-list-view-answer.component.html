<button type="button" class="close" data-dismiss="modal"><i class="lni-close"></i><span>esc</span></button>
<div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
            <h4 class="modal-title">{{'ms_audit_view_answer' | translate}}</h4>
            <!--<button type="button" class="close" data-dismiss="modal">&times;</button>-->

        </div>
        <!-- Modal body -->
        <div class="modal-body form-body">
            <!-- <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
            tempor incididunt ut labore et dolore magna aliqua.</p> -->
            <div class="row">
   <div class="col-sm-12">
                     <!-- <div class="form-group">
                         <label>{{'audit_procedure' | translate}}</label>
                         <p>{{viewAnswerPopupSource.value?.process?.title? viewAnswerPopupSource.value?.process?.title : AppStore.noContentText}}</p>
                     </div> -->
                 </div>
                <div class="col-sm-12">
                    <div class="form-group">
                        <h6>{{'question' | translate}}</h6>
                        <p style="white-space: pre-wrap;">{{viewAnswerPopupSource.value?.checklist?.language[0]?.pivot?.title ? viewAnswerPopupSource.value?.checklist?.language[0]?.pivot?.title : AppStore.noContentText}}</p>
                    </div>
                </div>
                <!-- <div class="col-sm-12">
                    <h6>{{'responsible_user' | translate}}</h6>
                    <div *ngIf="viewAnswerPopupSource.value?.responsible_user" class="d-flex flex-row user-list-sm user-box-smol-round user-box-smol-round-table-scrol rounde-hov-bg p-0">
                      <app-user-popup-box [source]="getEmployeePopupDetails(viewAnswerPopupSource.value?.responsible_user)"></app-user-popup-box>
                    </div>
                    <p *ngIf="!viewAnswerPopupSource.value?.responsible_user">{{AppStore.noContentText}}</p>
                </div> -->
                <div class="col-sm-12">
                    <h6>{{'answers' | translate}}</h6>
                    <p *ngIf="viewAnswerPopupSource.value?.is_conformance == 1" Class="text-green">
                      Available
                    </p>

                    <p *ngIf="viewAnswerPopupSource.value?.is_conformance == 0 && !viewAnswerPopupSource.value?.ms_audit_finding?.ms_audit_finding_category">
                      {{AppStore.noContentText}}
                    </p>

                    <p class="text-red" *ngIf="viewAnswerPopupSource.value?.is_conformance == 0 && viewAnswerPopupSource.value?.ms_audit_finding?.ms_audit_finding_category">
                      Not Available
                    </p>
                </div>
                <div class="col-sm-12" *ngIf="viewAnswerPopupSource.value?.is_conformance == 0">
                  <h6>{{'finding' | translate}}</h6>
                  
                  <p style="white-space: pre-wrap;">{{viewAnswerPopupSource.value?.ms_audit_finding?.title? viewAnswerPopupSource.value?.ms_audit_finding?.title: AppStore.noContentText}}</p>
                </div>
                <div class="col-sm-12" *ngIf="viewAnswerPopupSource.value?.is_conformance == 0">
                  <h6>{{'finding_category' | translate}}</h6>
                  
                  <p style="white-space: pre-wrap;">{{viewAnswerPopupSource.value?.ms_audit_finding?.ms_audit_finding_category? viewAnswerPopupSource.value?.ms_audit_finding?.ms_audit_finding_category?.language[0].pivot?.title : AppStore.noContentText}}</p>
                </div>

                

                <div class="col-sm-12">
                    <h6>{{'evidence' | translate}}</h6>
                    <p style="white-space: pre-wrap;">{{viewAnswerPopupSource.value?.evidence? viewAnswerPopupSource.value?.evidence : AppStore.noContentText}}</p>
                </div>
                <div class="col-sm-12" >
                    
                    <h6 *ngIf="viewAnswerPopupSource.value?.is_conformance == 1">{{'comments' | translate}}</h6>
                    <h6 *ngIf="viewAnswerPopupSource.value?.is_conformance == 0">{{'description' | translate}}</h6>
                    
                    <p style="white-space: pre-wrap;">{{viewAnswerPopupSource.value?.comment? viewAnswerPopupSource.value?.comment : AppStore.noContentText}}</p>
                </div>

                <!-- <div class="col-sm-12" *ngIf="viewAnswerPopupSource.value?.is_conformance == 1">
                  <h6>{{'comments' | translate}}</h6>
                  
                  <p style="white-space: pre-wrap;">{{viewAnswerPopupSource.value?.comment? viewAnswerPopupSource.value?.comment : AppStore.noContentText}}</p>
              </div> -->

                <!-- <div class="col-sm-12">
                  <h6>{{'strength' | translate}}</h6>
                  <ul class="arrowlist mt-0 p-0" *ngIf="viewAnswerPopupSource.value.ms_audit_checklist_strengths?.length > 0">
                     <li *ngFor="let item of viewAnswerPopupSource.value.ms_audit_checklist_strengths">{{item?.title}}</li>
                  </ul>
                  <p *ngIf="viewAnswerPopupSource.value.ms_audit_checklist_strengths?.length==0">{{ AppStore.noContentText }}</p>
               </div>
               <div class="col-sm-12">
                  <h6>{{'weakness' | translate}}</h6>
                  <ul class="arrowlist mt-0 p-0" *ngIf="viewAnswerPopupSource.value.ms_audit_checklist_weaknesses?.length > 0">
                     <li *ngFor="let item of viewAnswerPopupSource.value.ms_audit_checklist_weaknesses">{{item?.title}}</li>
                  </ul>
                  <p *ngIf="viewAnswerPopupSource.value.ms_audit_checklist_weaknesses?.length==0">{{ AppStore.noContentText }}</p>
               </div> -->

                <div class="col-lg-12 col-sm-12">
                    <h6>{{'attachments' | translate}}</h6>
                    <p *ngIf="viewAnswerPopupSource.value?.documents?.length == 0">{{AppStore.noContentText}}</p>
                   

                    <div *ngIf="viewAnswerPopupSource.value?.documents?.length > 0" class="thumb-pics-bg thumb-pics-col-3 accordion-inner-thump clearfix thumb-pics-fix-text">
                        <div *ngFor="let doc of viewAnswerPopupSource.value?.documents ;let innerIndex = index" class="thumb-pics">
                           <div class="upload-pics upload-pics-small edit-option" *ngIf="!doc.document_id" (click)="viewCheckListDocument('audit-check-list',doc,viewAnswerPopupSource.value?.id,doc)">
                              <div class="browse-form-pic" [ngStyle]="{'background': 'url(' + createImageUrl('audit-check-list',doc.token) + '), url(' + getDefaultImage('no-preview') + ') no-repeat 0 0 / cover '}">
                              </div>
                               <div class="browse-form-name clearfix">
                                <div class="float-left">
                                  <h6 *ngIf="doc.title" [attr.title]="doc.title">
                                    {{doc.title.length > 13 ? doc.title.substring(0,13)+'
                                    ...': doc.title}}
                                  </h6>
                                  <span>{{doc.size/1048576 | number:'0.2-2'}}MB</span>
                                </div>
                                <div class="browse-logo">
                                  <img *ngIf="checkExtension(doc.ext,'image') != -1" src="/assets/images/md-jpg.png">
                                  <img *ngIf="checkExtension(doc.ext,'doc') != -1" src="/assets/images/word-icone.png">
                                  <img *ngIf="checkExtension(doc.ext,'pdf') != -1" src="/assets/images/pdf-icone.png">
                                  <img *ngIf="checkExtension(doc.ext,'excel') != -1" src="/assets/images/excel-icone.png">
                                  <img *ngIf="checkExtension(doc.ext,'video') != -1" src="/assets/images/md-video.png">
                                  <img *ngIf="checkExtension(doc.ext,'audio') != -1" src="/assets/images/md-audio.png">
                                  <img *ngIf="checkExtension(doc.ext,'ppt') != -1" src="/assets/images/md-ppt.png">
                                </div>
                               </div>
                               <div class="edit-option-show-inner">
                                <a ><i class="fas fa-download"
                                  (click)="downloCheckListDocument('audit-check-list',doc,doc,viewAnswerPopupSource.value?.id)"></i></a>                                                              </div>
                            </div>
                            <div class="upload-pics edit-option"  *ngIf="doc.document_id" >
                              <div *ngFor="let mainDoc of doc.kh_document.versions" (click) ="viewCheckListDocument('document-version', doc,viewAnswerPopupSource.value?.id,mainDoc)">
         
                                <div *ngIf="mainDoc.is_latest">
                              <div class="browse-form-pic"
                              [ngStyle]="{'background': 'url('+createImageUrl('document-version',mainDoc?.token)+') no-repeat'}">
                              </div>
                              <div class="browse-form-name clearfix">
                                <div class="float-left">
                                  <h6 [attr.title]="doc.title">
                                    {{mainDoc.title}}.{{mainDoc.ext}}
                                  </h6>
                                  <span>{{mainDoc.size/1048576 | number:'0.2-2'}}MB</span><span class="text-blue bold pl-2">{{'knowledge_hub' | translate }}</span>
                                 </div>
                                <div class="browse-logo">
                                  <img *ngIf="checkExtension(mainDoc.ext,'image') != -1" src="/assets/images/md-jpg.png">
                                  <img *ngIf="checkExtension(mainDoc.ext,'mainDoc') != -1" src="/assets/images/word-icone.png">
                                  <img *ngIf="checkExtension(mainDoc.ext,'pdf') != -1" src="/assets/images/pdf-icone.png">
                                  <img *ngIf="checkExtension(mainDoc.ext,'excel') != -1" src="/assets/images/excel-icone.png">
                                  <img *ngIf="checkExtension(mainDoc.ext,'video') != -1" src="/assets/images/md-video.png">
                                  <img *ngIf="checkExtension(mainDoc.ext,'audio') != -1" src="/assets/images/md-audio.png">
                                  <img *ngIf="checkExtension(mainDoc.ext,'ppt') != -1" src="/assets/images/md-ppt.png">
                                </div>
                              </div>
                              <div 
                                class="edit-option-show-inner" title="Download Document">
                                <a ><i class="fas fa-download" (click) = "downloCheckListDocument('document-version',doc,mainDoc,viewAnswerPopupSource.value?.id)"></i></a>
                              </div>
                              </div>
         
                            </div>
         
                           </div>
                         </div>
                       
                        </div>
                </div>

            </div>

        </div>
        <!-- Modal footer -->
    </div>
</div>

<!-- file preview -->
<div class="modal modal-style-1 popup-full-width fade popup-new-type" id="add-three-popup" data-keyboard="false"
data-backdrop="static" #filePreviewModal *mobxAutorun>
<button type="button" class="close" data-dismiss="modal" (click)="closePreviewModal($event)"><i
    class="lni-close"></i><span>esc</span></button>
<app-check-list-file-preview *ngIf="previewObject" [source]="previewObject" (close)="closePreviewModal($event)">
</app-check-list-file-preview>
</div>